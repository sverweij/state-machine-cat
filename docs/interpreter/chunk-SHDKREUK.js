function s(a,t,e=""){for(let n of a)n?.statemachine?.states&&s(n.statemachine.states,t,n.name);for(let n of a)t.set(n.name,{name:n.name,type:n.type,statemachine:!!n.statemachine,parent:e})}function r(a){let t=[];if(Object.hasOwn(a,"transitions")&&(t=structuredClone(a.transitions)),Object.hasOwn(a,"states"))for(let e of a.states)e.statemachine&&(t=t.concat(r(e.statemachine)));return t}var i=class{#t;#e;constructor(t){this.#e=new Map,s(t.states??[],this.#e),this.#t=r(t)}get flattenedTransitions(){return this.#t}get flattenedStates(){return this.#e}findStateByName(t){return this.#e.get(t)}findStatesByTypes(t){return Array.from(this.#e.values()).filter(e=>t.includes(e.type))}findExternalSelfTransitions(t){return this.#t.filter(e=>e.from===t&&e.to===t&&e.type!=="internal")}findTransitionsByFrom(t){return this.#t.filter(e=>e.from===t)}findTransitionsByTo(t){return this.#t.filter(e=>e.to===t)}getMaximumTransitionId(){return Math.max(...this.#t.map(({id:t})=>t))}findTransitionsToSiblings(t,e){return this.#t.filter(n=>!e.has(n.id)&&n.from===t&&this.#e.get(n.to)?.parent===this.#e.get(t)?.parent)}};export{i as a};
//# sourceMappingURL=chunk-SHDKREUK.js.map
