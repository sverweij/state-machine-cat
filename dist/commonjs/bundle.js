"use strict";var Ul=Object.create;var ve=Object.defineProperty;var Jl=Object.getOwnPropertyDescriptor;var Xl=Object.getOwnPropertyNames;var Gl=Object.getPrototypeOf,Wl=Object.prototype.hasOwnProperty;var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ql=(t,e)=>{for(var n in e)ve(t,n,{get:e[n],enumerable:!0})},rn=(t,e,n,m)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Xl(e))!Wl.call(t,a)&&a!==n&&ve(t,a,{get:()=>e[a],enumerable:!(m=Jl(e,a))||m.enumerable});return t};var F=(t,e,n)=>(n=t!=null?Ul(Gl(t)):{},rn(e||!t||!t.__esModule?ve(n,"default",{value:t,enumerable:!0}):n,t)),Yl=t=>rn(ve({},"__esModule",{value:!0}),t);var $n=q((fs,xn)=>{"use strict";function ee(t){return Object.prototype.toString.call(t)}function po(t){return ee(t)==="[object Date]"}function mo(t){return ee(t)==="[object RegExp]"}function ho(t){return ee(t)==="[object Error]"}function go(t){return ee(t)==="[object Boolean]"}function yo(t){return ee(t)==="[object Number]"}function vo(t){return ee(t)==="[object String]"}var gn=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function be(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)}var xe=Object.keys||function(e){var n=[];for(var m in e)n.push(m);return n},$e=Object.prototype.hasOwnProperty||function(t,e){return e in t};function yn(t){if(typeof t=="object"&&t!==null){var e;if(gn(t))e=[];else if(po(t))e=new Date(t.getTime?t.getTime():t);else if(mo(t))e=new RegExp(t);else if(ho(t))e={message:t.message};else if(go(t)||yo(t)||vo(t))e=Object(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},m=function(){};m.prototype=n,e=new m}return be(xe(t),function(a){e[a]=t[a]}),e}return t}function vn(t,e,n){var m=[],a=[],u=!0;return function i(f){var y=n?yn(f):f,p={},d=!0,l={node:y,node_:f,path:[].concat(m),parent:a[a.length-1],parents:a,key:m[m.length-1],isRoot:m.length===0,level:m.length,circular:null,update:function(I,x){l.isRoot||(l.parent.node[l.key]=I),l.node=I,x&&(d=!1)},delete:function(I){delete l.parent.node[l.key],I&&(d=!1)},remove:function(I){gn(l.parent.node)?l.parent.node.splice(l.key,1):delete l.parent.node[l.key],I&&(d=!1)},keys:null,before:function(I){p.before=I},after:function(I){p.after=I},pre:function(I){p.pre=I},post:function(I){p.post=I},stop:function(){u=!1},block:function(){d=!1}};if(!u)return l;function b(){if(typeof l.node=="object"&&l.node!==null){(!l.keys||l.node_!==l.node)&&(l.keys=xe(l.node)),l.isLeaf=l.keys.length===0;for(var I=0;I<a.length;I++)if(a[I].node_===f){l.circular=a[I];break}}else l.isLeaf=!0,l.keys=null;l.notLeaf=!l.isLeaf,l.notRoot=!l.isRoot}b();var c=e.call(l,l.node);return c!==void 0&&l.update&&l.update(c),p.before&&p.before.call(l,l.node),d&&(typeof l.node=="object"&&l.node!==null&&!l.circular&&(a.push(l),b(),be(l.keys,function(I,x){m.push(I),p.pre&&p.pre.call(l,l.node[I],I);var _=i(l.node[I]);n&&$e.call(l.node,I)&&(l.node[I]=_.node),_.isLast=x===l.keys.length-1,_.isFirst=x===0,p.post&&p.post.call(l,_),m.pop()}),a.pop()),p.after&&p.after.call(l,l.node)),l}(t).node}function V(t){this.value=t}V.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var m=t[n];if(!e||!$e.call(e,m))return;e=e[m]}return e};V.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var m=t[n];if(!e||!$e.call(e,m))return!1;e=e[m]}return!0};V.prototype.set=function(t,e){for(var n=this.value,m=0;m<t.length-1;m++){var a=t[m];$e.call(n,a)||(n[a]={}),n=n[a]}return n[t[m]]=e,e};V.prototype.map=function(t){return vn(this.value,t,!0)};V.prototype.forEach=function(t){return this.value=vn(this.value,t,!1),this.value};V.prototype.reduce=function(t,e){var n=arguments.length===1,m=n?this.value:e;return this.forEach(function(a){(!this.isRoot||!n)&&(m=t.call(this,m,a))}),m};V.prototype.paths=function(){var t=[];return this.forEach(function(){t.push(this.path)}),t};V.prototype.nodes=function(){var t=[];return this.forEach(function(){t.push(this.node)}),t};V.prototype.clone=function(){var t=[],e=[];return function n(m){for(var a=0;a<t.length;a++)if(t[a]===m)return e[a];if(typeof m=="object"&&m!==null){var u=yn(m);return t.push(m),e.push(u),be(xe(m),function(i){u[i]=n(m[i])}),t.pop(),e.pop(),u}return m}(this.value)};function bn(t){return new V(t)}be(xe(V.prototype),function(t){bn[t]=function(e){var n=[].slice.call(arguments,1),m=new V(e);return m[t].apply(m,n)}});xn.exports=bn});var Rn=q(()=>{"use strict";var Le=require("handlebars/dist/handlebars.runtime"),Ro=Le.template,No=Le.templates=Le.templates||{};No["smcat.template.hbs"]=Ro({1:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d="",l=(l=p(n,"note")||(e!=null?p(e,"note"):e))!=null?l:i,b={name:"note",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:0},end:{line:4,column:9}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"note")?c:y.call(e,c,b))!=null&&(d+=c),d+=(c=(p(n,"quotifyState")||e&&p(e,"quotifyState")||i).call(u,e!=null?p(e,"name"):e,{name:"quotifyState",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:5,column:0},end:{line:5,column:40}}}))!=null?c:"",l=(l=p(n,"hasExtendedAttributes")||(e!=null?p(e,"hasExtendedAttributes"):e))!=null?l:i,b={name:"hasExtendedAttributes",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:4},end:{line:6,column:270}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"hasExtendedAttributes")?c:y.call(e,c,b))!=null&&(d+=c),d+=(c=p(n,"if").call(u,e!=null?p(e,"actions"):e,{name:"if",hash:{},fn:t.program(18,a,0),inverse:t.noop,data:a,loc:{start:{line:7,column:4},end:{line:7,column:28}}}))!=null?c:"",l=(l=p(n,"actions")||(e!=null?p(e,"actions"):e))!=null?l:i,b={name:"actions",hash:{},fn:t.program(20,a,0),inverse:t.noop,data:a,loc:{start:{line:7,column:28},end:{line:7,column:93}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"actions")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"statemachine")||(e!=null?p(e,"statemachine"):e))!=null?l:i,b={name:"statemachine",hash:{},fn:t.program(22,a,0),inverse:t.noop,data:a,loc:{start:{line:8,column:4},end:{line:10,column:19}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"statemachine")?c:y.call(e,c,b))!=null&&(d+=c),d+((c=p(n,"if").call(u,a&&p(a,"last"),{name:"if",hash:{},fn:t.program(24,a,0),inverse:t.program(26,a,0),data:a,loc:{start:{line:11,column:0},end:{line:11,column:30}}}))!=null?c:"")+`
`},2:function(t,e,n,m,a){return"# "+((t=t.lambda(e,e))!=null?t:"")+`
`},4:function(t,e,n,m,a){return""},6:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d=" [",l=(l=p(n,"typeExplicitlySet")||(e!=null?p(e,"typeExplicitlySet"):e))!=null?l:i,b={name:"typeExplicitlySet",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:32},end:{line:6,column:107}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"typeExplicitlySet")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"label")||(e!=null?p(e,"label"):e))!=null?l:i,b={name:"label",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:107},end:{line:6,column:142}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"label")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"color")||(e!=null?p(e,"color"):e))!=null?l:i,b={name:"color",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:142},end:{line:6,column:178}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"color")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"class")||(e!=null?p(e,"class"):e))!=null?l:i,b={name:"class",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:178},end:{line:6,column:214}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"class")?c:y.call(e,c,b))!=null&&(d+=c),d+((c=p(n,"if").call(u,e!=null?p(e,"active"):e,{name:"if",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:214},end:{line:6,column:242}}}))!=null?c:"")+"]"},7:function(t,e,n,m,i){var u=t.lookupProperty||function(y,p){if(Object.prototype.hasOwnProperty.call(y,p))return y[p]},f=(f=u(n,"type")||(e!=null?u(e,"type"):e))!=null?f:t.hooks.helperMissing,i={name:"type",hash:{},fn:t.program(8,i,0),inverse:t.noop,data:i,loc:{start:{line:6,column:54},end:{line:6,column:85}}},f=typeof f=="function"?f.call(e??(t.nullContext||{}),i):f;return(f=u(n,"type")?f:t.hooks.blockHelperMissing.call(e,f,i))!=null?f:""},8:function(t,e,n,m,a){return"type="+((t=t.lambda(e,e))!=null?t:"")+" "},10:function(t,e,n,m,a){return'label="'+((t=t.lambda(e,e))!=null?t:"")+'"'},12:function(t,e,n,m,a){return' color="'+((t=t.lambda(e,e))!=null?t:"")+'"'},14:function(t,e,n,m,a){return' class="'+((t=t.lambda(e,e))!=null?t:"")+'"'},16:function(t,e,n,m,a){return" active"},18:function(t,e,n,m,a){return": "},20:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return(n=(u(n,"quotifyActions")||e&&u(e,"quotifyActions")||t.hooks.helperMissing).call(e??(t.nullContext||{}),e,{name:"quotifyActions",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:7,column:40},end:{line:7,column:80}}}))!=null?n:""},22:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return` {
`+((u=t.invokePartial(u(m,"smcat.template.hbs"),e,{name:"smcat.template.hbs",data:a,indent:"    ",helpers:n,partials:m,decorators:t.decorators}))!=null?u:"")+"}"},24:function(t,e,n,m,a){return";"},26:function(t,e,n,m,a){return","},28:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d="",l=(l=p(n,"note")||(e!=null?p(e,"note"):e))!=null?l:i,b={name:"note",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a,loc:{start:{line:15,column:0},end:{line:17,column:9}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"note")?c:y.call(e,c,b))!=null&&(d+=c),d+=((c=(p(n,"quotifyState")||e&&p(e,"quotifyState")||i).call(u,e!=null?p(e,"from"):e,{name:"quotifyState",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:18,column:0},end:{line:18,column:39}}}))!=null?c:"")+" => "+((c=(p(n,"quotifyState")||e&&p(e,"quotifyState")||i).call(u,e!=null?p(e,"to"):e,{name:"quotifyState",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:18,column:43},end:{line:18,column:81}}}))!=null?c:""),l=(l=p(n,"hasExtendedAttributes")||(e!=null?p(e,"hasExtendedAttributes"):e))!=null?l:i,b={name:"hasExtendedAttributes",hash:{},fn:t.program(29,a,0),inverse:t.noop,data:a,loc:{start:{line:19,column:4},end:{line:19,column:130}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"hasExtendedAttributes")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"label")||(e!=null?p(e,"label"):e))!=null?l:i,b={name:"label",hash:{},fn:t.program(34,a,0),inverse:t.noop,data:a,loc:{start:{line:20,column:4},end:{line:20,column:62}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"label")?c:y.call(e,c,b))!=null&&(d+=c),d+`;
`},29:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d=" [",l=(l=p(n,"color")||(e!=null?p(e,"color"):e))!=null?l:i,b={name:"color",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a,loc:{start:{line:19,column:32},end:{line:19,column:68}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"color")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"type")||(e!=null?p(e,"type"):e))!=null?l:i,b={name:"type",hash:{},fn:t.program(32,a,0),inverse:t.noop,data:a,loc:{start:{line:19,column:69},end:{line:19,column:102}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"type")?c:y.call(e,c,b))!=null&&(d+=c),d+"]"},30:function(t,e,n,m,a){return'color="'+((t=t.lambda(e,e))!=null?t:"")+'"'},32:function(t,e,n,m,a){return" type="+((t=t.lambda(e,e))!=null?t:"")},34:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return": "+((n=(u(n,"quotifyLabel")||e&&u(e,"quotifyLabel")||t.hooks.helperMissing).call(e??(t.nullContext||{}),e,{name:"quotifyLabel",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:20,column:16},end:{line:20,column:52}}}))!=null?n:"")},compiler:[8,">= 4.3.0"],main:function(t,e,n,m,p){var u=e??(t.nullContext||{}),i=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]},f=((d=i(n,"each").call(u,e!=null?i(e,"states"):e,{name:"each",hash:{},fn:t.program(1,p,0),inverse:t.noop,data:p,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))!=null?d:"")+`
`,y=(y=i(n,"transitions")||(e!=null?i(e,"transitions"):e))!=null?y:t.hooks.helperMissing,p={name:"transitions",hash:{},fn:t.program(28,p,0),inverse:t.noop,data:p,loc:{start:{line:14,column:0},end:{line:21,column:16}}},d=typeof y=="function"?y.call(u,p):y;return(d=i(n,"transitions")?d:t.hooks.blockHelperMissing.call(e,d,p))!=null&&(f+=d),f},usePartial:!0,useData:!0})});var Bn=q((Os,Ln)=>{"use strict";var te=require("handlebars/dist/handlebars.runtime.js"),Nn=require("lodash/cloneDeep.js");Rn();var Vo=/;|,|{| |\[/,Lo=/;|,|{/,Bo=/;|{/;function Be(t,e){return t.test(e)?`"${e}"`:e}te.registerPartial("smcat.template.hbs",te.templates["smcat.template.hbs"]);function Do(t){return t==="activity"?"":`${t}/ `}function Ho(t){return{...t,actions:(t.actions||[]).map(e=>`${Do(e.type)}${e.body}`).join(`
    `)}}function qo(t){return(Object.prototype.hasOwnProperty.call(t,"label")||Object.prototype.hasOwnProperty.call(t,"typeExplicitlySet")||Object.prototype.hasOwnProperty.call(t,"color")||Object.prototype.hasOwnProperty.call(t,"active")||Object.prototype.hasOwnProperty.call(t,"class"))&&(t.hasExtendedAttributes=!0),t}function Vn(t){return t.map(qo).filter(e=>e.statemachine).forEach(e=>{e.statemachine.states=Vn(e.statemachine.states)}),t.map(Ho)}function Mo(t){return(Object.prototype.hasOwnProperty.call(t,"type")||Object.prototype.hasOwnProperty.call(t,"color")||Object.prototype.hasOwnProperty.call(t,"class"))&&(t.hasExtendedAttributes=!0),t}function zo(t){return t.map(Mo)}te.registerHelper("quotifyState",t=>Be(Vo,t));te.registerHelper("quotifyLabel",t=>Be(Bo,t));te.registerHelper("quotifyActions",t=>Be(Lo,t));Ln.exports=function(e){return te.templates["smcat.template.hbs"]({...e,states:Vn(Nn(e.states)),transitions:zo(Nn(e.transitions||[]))})}});var qn=q(()=>{"use strict";var qe=require("handlebars/dist/handlebars.runtime"),mi=qe.template,di=qe.templates=qe.templates||{};di["dot.template.hbs"]=mi({1:function(t,e,n,m,a,u,i){var f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.hooks.blockHelperMissing,l=t.lookupProperty||function(_,B){if(Object.prototype.hasOwnProperty.call(_,B))return _[B]},b="",c=(c=l(n,"noteName")||(e!=null?l(e,"noteName"):e))!=null?c:y,I={name:"noteName",hash:{},fn:t.noop,inverse:t.program(2,a,0,u,i),data:a,loc:{start:{line:9,column:2},end:{line:26,column:15}}},x=typeof c==p?c.call(f,I):c;return(x=l(n,"noteName")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"noteName")||(e!=null?l(e,"noteName"):e))!=null?c:y,I={name:"noteName",hash:{},fn:t.program(19,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:27,column:2},end:{line:37,column:15}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"noteName")?x:d.call(e,x,I))!=null&&(b+=x),b},2:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d="",l=(l=p(n,"isCompositeSelf")||(e!=null?p(e,"isCompositeSelf"):e))!=null?l:i,b={name:"isCompositeSelf",hash:{},fn:t.noop,inverse:t.program(3,a,0),data:a,loc:{start:{line:10,column:4},end:{line:16,column:24}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"isCompositeSelf")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"isCompositeSelf")||(e!=null?p(e,"isCompositeSelf"):e))!=null?l:i,b={name:"isCompositeSelf",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a,loc:{start:{line:17,column:4},end:{line:25,column:24}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"isCompositeSelf")?c:y.call(e,c,b))!=null&&(d+=c),d},3:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d='    "'+((c=typeof(l=(l=p(n,"from")||(e!=null?p(e,"from"):e))!=null?l:i)==f?l.call(u,{name:"from",hash:{},data:a,loc:{start:{line:11,column:5},end:{line:11,column:15}}}):l)!=null?c:"")+'" -> "'+((c=typeof(l=(l=p(n,"to")||(e!=null?p(e,"to"):e))!=null?l:i)==f?l.call(u,{name:"to",hash:{},data:a,loc:{start:{line:11,column:21},end:{line:11,column:29}}}):l)!=null?c:"")+'" [label="',l=(l=p(n,"label")||(e!=null?p(e,"label"):e))!=null?l:i,b={name:"label",hash:{},fn:t.noop,inverse:t.program(4,a,0),data:a,loc:{start:{line:11,column:39},end:{line:11,column:60}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"label")?c:y.call(e,c,b))!=null&&(d+=c),d+=((c=typeof(l=(l=p(n,"label")||(e!=null?p(e,"label"):e))!=null?l:i)==f?l.call(u,{name:"label",hash:{},data:a,loc:{start:{line:11,column:60},end:{line:11,column:71}}}):l)!=null?c:"")+'"',l=(l=p(n,"fromComposite")||(e!=null?p(e,"fromComposite"):e))!=null?l:i,b={name:"fromComposite",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:12,column:28},end:{line:12,column:92}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"fromComposite")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"toComposite")||(e!=null?p(e,"toComposite"):e))!=null?l:i,b={name:"toComposite",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a,loc:{start:{line:13,column:28},end:{line:13,column:86}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"toComposite")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"color")||(e!=null?p(e,"color"):e))!=null?l:i,b={name:"color",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:14,column:28},end:{line:14,column:85}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"color")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"width")||(e!=null?p(e,"width"):e))!=null?l:i,b={name:"width",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:15,column:28},end:{line:15,column:68}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"width")?c:y.call(e,c,b))!=null&&(d+=c),d+' class="'+((c=typeof(l=(l=p(n,"class")||(e!=null?p(e,"class"):e))!=null?l:i)==f?l.call(u,{name:"class",hash:{},data:a,loc:{start:{line:15,column:76},end:{line:15,column:87}}}):l)!=null?c:"")+`"]
`},4:function(t,e,n,m,a){return" "},6:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return' ltail="cluster_'+((u=typeof(n=(n=u(n,"from")||(e!=null?u(e,"from"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"from",hash:{},data:a,loc:{start:{line:12,column:63},end:{line:12,column:73}}}):n)!=null?u:"")+'"'},8:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return' lhead="cluster_'+((u=typeof(n=(n=u(n,"to")||(e!=null?u(e,"to"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"to",hash:{},data:a,loc:{start:{line:13,column:61},end:{line:13,column:69}}}):n)!=null?u:"")+'"'},10:function(i,e,n,m,a){var u,i=i.lambda;return' color="'+((u=i(e,e))!=null?u:"")+'" fontcolor="'+((u=i(e,e))!=null?u:"")+'"'},12:function(t,e,n,m,a){return' penwidth="'+((t=t.lambda(e,e))!=null?t:"")+'"'},14:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.hooks.blockHelperMissing,p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d='      "'+((c=typeof(l=(l=p(n,"from")||(e!=null?p(e,"from"):e))!=null?l:i)==f?l.call(u,{name:"from",hash:{},data:a,loc:{start:{line:18,column:7},end:{line:18,column:17}}}):l)!=null?c:"")+'" -> "self_'+((c=typeof(l=(l=p(n,"name")||(e!=null?p(e,"name"):e))!=null?l:i)==f?l.call(u,{name:"name",hash:{},data:a,loc:{start:{line:18,column:28},end:{line:18,column:38}}}):l)!=null?c:"")+'" [label="',l=(l=p(n,"label")||(e!=null?p(e,"label"):e))!=null?l:i,b={name:"label",hash:{},fn:t.noop,inverse:t.program(4,a,0),data:a,loc:{start:{line:18,column:48},end:{line:18,column:69}}},c=typeof l==f?l.call(u,b):l;return(c=p(n,"label")?c:y.call(e,c,b))!=null&&(d+=c),d+=((c=typeof(l=(l=p(n,"label")||(e!=null?p(e,"label"):e))!=null?l:i)==f?l.call(u,{name:"label",hash:{},data:a,loc:{start:{line:18,column:69},end:{line:18,column:80}}}):l)!=null?c:"")+'" arrowhead=none',l=(l=p(n,"tailportflags")||(e!=null?p(e,"tailportflags"):e))!=null?l:i,b={name:"tailportflags",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a,loc:{start:{line:19,column:28},end:{line:19,column:73}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"tailportflags")?c:y.call(e,c,b))!=null&&(d+=c),d+=' ltail="cluster_'+((c=typeof(l=(l=p(n,"from")||(e!=null?p(e,"from"):e))!=null?l:i)==f?l.call(u,{name:"from",hash:{},data:a,loc:{start:{line:19,column:89},end:{line:19,column:99}}}):l)!=null?c:"")+'"',l=(l=p(n,"color")||(e!=null?p(e,"color"):e))!=null?l:i,b={name:"color",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:20,column:28},end:{line:20,column:85}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"color")?c:y.call(e,c,b))!=null&&(d+=c),d+=' class="'+((c=typeof(l=(l=p(n,"class")||(e!=null?p(e,"class"):e))!=null?l:i)==f?l.call(u,{name:"class",hash:{},data:a,loc:{start:{line:20,column:93},end:{line:20,column:104}}}):l)!=null?c:"")+`"]
      "self_`+((c=typeof(l=(l=p(n,"name")||(e!=null?p(e,"name"):e))!=null?l:i)==f?l.call(u,{name:"name",hash:{},data:a,loc:{start:{line:21,column:12},end:{line:21,column:22}}}):l)!=null?c:"")+'" -> "'+((c=typeof(l=(l=p(n,"from")||(e!=null?p(e,"from"):e))!=null?l:i)==f?l.call(u,{name:"from",hash:{},data:a,loc:{start:{line:21,column:28},end:{line:21,column:38}}}):l)!=null?c:"")+'" [lhead="cluster_'+((c=typeof(l=(l=p(n,"from")||(e!=null?p(e,"from"):e))!=null?l:i)==f?l.call(u,{name:"from",hash:{},data:a,loc:{start:{line:21,column:56},end:{line:21,column:66}}}):l)!=null?c:"")+'"',l=(l=p(n,"headportflags")||(e!=null?p(e,"headportflags"):e))!=null?l:i,b={name:"headportflags",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a,loc:{start:{line:22,column:28},end:{line:22,column:73}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"headportflags")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"color")||(e!=null?p(e,"color"):e))!=null?l:i,b={name:"color",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a,loc:{start:{line:23,column:28},end:{line:23,column:65}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"color")?c:y.call(e,c,b))!=null&&(d+=c),l=(l=p(n,"width")||(e!=null?p(e,"width"):e))!=null?l:i,b={name:"width",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:24,column:28},end:{line:24,column:68}}},c=typeof l==f?l.call(u,b):l,(c=p(n,"width")?c:y.call(e,c,b))!=null&&(d+=c),d+' class="'+((c=typeof(l=(l=p(n,"class")||(e!=null?p(e,"class"):e))!=null?l:i)==f?l.call(u,{name:"class",hash:{},data:a,loc:{start:{line:24,column:76},end:{line:24,column:87}}}):l)!=null?c:"")+`"]
`},15:function(t,e,n,m,a){return" "+((t=t.lambda(e,e))!=null?t:"")},17:function(t,e,n,m,a){return' color="'+((t=t.lambda(e,e))!=null?t:"")+'"'},19:function(t,e,n,m,a,u,i){var f,y=t.lambda,p=t.hooks.blockHelperMissing,d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'      "i_'+((f=y(e,e))!=null?f:"")+`" [shape=point style=invis margin=0 width=0 height=0 fixedsize=true]
      "`+((f=y(i[1]!=null?d(i[1],"from"):i[1],e))!=null?f:"")+'" -> "i_'+((f=y(e,e))!=null?f:"")+'" [arrowhead=none'+((f=p.call(e,y(i[1]!=null?d(i[1],"fromComposite"):i[1],e),{name:"../fromComposite",hash:{},fn:t.program(20,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:30,column:32},end:{line:30,column:105}}}))!=null?f:"")+((f=p.call(e,y(i[1]!=null?d(i[1],"color"):i[1],e),{name:"../color",hash:{},fn:t.program(17,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:31,column:32},end:{line:31,column:75}}}))!=null?f:"")+`]
      "i_`+((f=y(e,e))!=null?f:"")+'" -> "'+((f=y(i[1]!=null?d(i[1],"to"):i[1],e))!=null?f:"")+'" [label="'+((f=p.call(e,y(i[1]!=null?d(i[1],"label"):i[1],e),{name:"../label",hash:{},fn:t.noop,inverse:t.program(4,a,0,u,i),data:a,loc:{start:{line:32,column:43},end:{line:32,column:70}}}))!=null?f:"")+((f=y(i[1]!=null?d(i[1],"label"):i[1],e))!=null?f:"")+'"'+((f=p.call(e,y(i[1]!=null?d(i[1],"toComposite"):i[1],e),{name:"../toComposite",hash:{},fn:t.program(22,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:33,column:32},end:{line:33,column:99}}}))!=null?f:"")+((f=p.call(e,y(i[1]!=null?d(i[1],"color"):i[1],e),{name:"../color",hash:{},fn:t.program(10,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:34,column:32},end:{line:34,column:95}}}))!=null?f:"")+`]
      "i_`+((f=y(e,e))!=null?f:"")+'" -> "'+((f=y(e,e))!=null?f:"")+`" [style=dashed arrowtail=none arrowhead=none weight=0]
      "`+((f=y(e,e))!=null?f:"")+'" [label="'+((f=y(i[1]!=null?d(i[1],"noteFlattened"):i[1],e))!=null?f:"")+`" shape=note fontsize=10 color=black fontcolor=black fillcolor="#ffffcc" penwidth=1.0]
`},20:function(t,e,n,m,a,u,i){var f=t.lookupProperty||function(y,p){if(Object.prototype.hasOwnProperty.call(y,p))return y[p]};return' ltail="cluster_'+((t=t.lambda(i[1]!=null?f(i[1],"from"):i[1],e))!=null?t:"")+'"'},22:function(t,e,n,m,a,u,i){var f=t.lookupProperty||function(y,p){if(Object.prototype.hasOwnProperty.call(y,p))return y[p]};return' lhead="cluster_'+((t=t.lambda(i[1]!=null?f(i[1],"to"):i[1],e))!=null?t:"")+'"'},compiler:[8,">= 4.3.0"],main:function(t,e,n,d,a,u,i){var f=e??(t.nullContext||{}),b=t.hooks.helperMissing,y="function",p=t.lookupProperty||function(I,x){if(Object.prototype.hasOwnProperty.call(I,x))return I[x]},d=`digraph "state transitions" {
  `+((c=typeof(l=(l=p(n,"graphAttributes")||(e!=null?p(e,"graphAttributes"):e))!=null?l:b)==y?l.call(f,{name:"graphAttributes",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:23}}}):l)!=null?c:"")+`
  node [`+((c=typeof(l=(l=p(n,"nodeAttributes")||(e!=null?p(e,"nodeAttributes"):e))!=null?l:b)==y?l.call(f,{name:"nodeAttributes",hash:{},data:a,loc:{start:{line:3,column:8},end:{line:3,column:28}}}):l)!=null?c:"")+`]
  edge [`+((c=typeof(l=(l=p(n,"edgeAttributes")||(e!=null?p(e,"edgeAttributes"):e))!=null?l:b)==y?l.call(f,{name:"edgeAttributes",hash:{},data:a,loc:{start:{line:4,column:8},end:{line:4,column:28}}}):l)!=null?c:"")+`]

`+((c=t.invokePartial(p(d,"dot.states.template.hbs"),e,{name:"dot.states.template.hbs",data:a,indent:"  ",helpers:n,partials:d,decorators:t.decorators}))!=null?c:"")+`
`,l=(l=p(n,"transitions")||(e!=null?p(e,"transitions"):e))!=null?l:b,b={name:"transitions",hash:{},fn:t.program(1,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:8,column:2},end:{line:38,column:18}}},c=typeof l==y?l.call(f,b):l;return(c=p(n,"transitions")?c:t.hooks.blockHelperMissing.call(e,c,b))!=null&&(d+=c),d+`}
`},usePartial:!0,useData:!0,useDepths:!0})});var Mn=q(()=>{"use strict";var Me=require("handlebars/dist/handlebars.runtime"),hi=Me.template,gi=Me.templates=Me.templates||{};gi["dot.states.template.hbs"]=hi({1:function(t,e,n,m,f){var u=t.lookupProperty||function(p,d){if(Object.prototype.hasOwnProperty.call(p,d))return p[d]},i="",y=(y=u(n,"nestedExternalSelfTransitions")||(e!=null?u(e,"nestedExternalSelfTransitions"):e))!=null?y:t.hooks.helperMissing,f={name:"nestedExternalSelfTransitions",hash:{},fn:t.program(2,f,0),inverse:t.noop,data:f,loc:{start:{line:2,column:2},end:{line:4,column:36}}},y=typeof y=="function"?y.call(e??(t.nullContext||{}),f):y;return(y=u(n,"nestedExternalSelfTransitions")?y:t.hooks.blockHelperMissing.call(e,y,f))!=null&&(i+=y),i},2:function(t,e,n,m,a){return'  "self_'+((t=t.lambda(e,e))!=null?t:"")+`" [shape=point style=invis width=0 height=0 fixedsize=true]
`},4:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'  "'+((u=typeof(i=(i=d(n,"name")||(e!=null?d(e,"name"):e))!=null?i:y)==p?i.call(f,{name:"name",hash:{},data:a,loc:{start:{line:7,column:3},end:{line:7,column:13}}}):i)!=null?u:"")+'" [shape=circle style=filled class="'+((u=typeof(i=(i=d(n,"class")||(e!=null?d(e,"class"):e))!=null?i:y)==p?i.call(f,{name:"class",hash:{},data:a,loc:{start:{line:7,column:49},end:{line:7,column:60}}}):i)!=null?u:"")+'" '+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.program(7,a,0),data:a,loc:{start:{line:7,column:62},end:{line:7,column:150}}}))!=null?u:"")+((u=d(n,"if").call(f,e!=null?d(e,"active"):e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:7,column:150},end:{line:7,column:184}}}))!=null?u:"")+`fixedsize=true height=0.15 label=""]
`},5:function(d,e,n,m,a){var u,i,f=e??(d.nullContext||{}),y=d.hooks.helperMissing,p="function",d=d.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'color="'+((u=typeof(i=(i=d(n,"color")||(e!=null?d(e,"color"):e))!=null?i:y)==p?i.call(f,{name:"color",hash:{},data:a,loc:{start:{line:7,column:82},end:{line:7,column:93}}}):i)!=null?u:"")+'" fillcolor="'+((u=typeof(i=(i=d(n,"color")||(e!=null?d(e,"color"):e))!=null?i:y)==p?i.call(f,{name:"color",hash:{},data:a,loc:{start:{line:7,column:106},end:{line:7,column:117}}}):i)!=null?u:"")+'" '},7:function(t,e,n,m,a){return"fillcolor=black "},9:function(t,e,n,m,a){return"penwidth=3.0 "},11:function(t,e,n,m,a){var u=e??(t.nullContext||{}),d=t.hooks.helperMissing,i="function",f=t.lookupProperty||function(b,c){if(Object.prototype.hasOwnProperty.call(b,c))return b[c]},y='  "'+((l=typeof(p=(p=f(n,"name")||(e!=null?f(e,"name"):e))!=null?p:d)==i?p.call(u,{name:"name",hash:{},data:a,loc:{start:{line:10,column:3},end:{line:10,column:13}}}):p)!=null?l:"")+'" [margin=0 class="'+((l=typeof(p=(p=f(n,"class")||(e!=null?f(e,"class"):e))!=null?p:d)==i?p.call(u,{name:"class",hash:{},data:a,loc:{start:{line:10,column:32},end:{line:10,column:43}}}):p)!=null?l:"")+'" '+((l=f(n,"if").call(u,e!=null?f(e,"color"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:10,column:45},end:{line:10,column:85}}}))!=null?l:"")+((l=f(n,"if").call(u,e!=null?f(e,"active"):e,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a,loc:{start:{line:10,column:85},end:{line:10,column:134}}}))!=null?l:"")+`label= < 
    <table align="center" cellborder="0" border="2" style="rounded" width="48">
      <tr><td width="48"`+((l=f(n,"if").call(u,e!=null?f(e,"actionStrings"):e,{name:"if",hash:{},fn:t.program(16,a,0),inverse:t.program(18,a,0),data:a,loc:{start:{line:12,column:24},end:{line:12,column:92}}}))!=null?l:"")+">"+((l=f(n,"if").call(u,e!=null?f(e,"active"):e,{name:"if",hash:{},fn:t.program(20,a,0),inverse:t.program(22,a,0),data:a,loc:{start:{line:12,column:93},end:{line:12,column:147}}}))!=null?l:"")+`</td></tr>
`,p=(p=f(n,"actionStrings")||(e!=null?f(e,"actionStrings"):e))!=null?p:d,d={name:"actionStrings",hash:{},fn:t.program(24,a,0),inverse:t.noop,data:a,loc:{start:{line:13,column:6},end:{line:16,column:24}}},l=typeof p==i?p.call(u,d):p;return(l=f(n,"actionStrings")?l:t.hooks.blockHelperMissing.call(e,l,d))!=null&&(y+=l),y+`    </table>
  >]
`},12:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return'color="'+((u=typeof(n=(n=u(n,"color")||(e!=null?u(e,"color"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"color",hash:{},data:a,loc:{start:{line:10,column:65},end:{line:10,column:76}}}):n)!=null?u:"")+'" '},14:function(t,e,n,m,a){return"peripheries=1 style=rounded "},16:function(t,e,n,m,a){return' cellpadding="2"'},18:function(t,e,n,m,a){return' cellpadding="7"'},20:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return"<i>"+t.escapeExpression(typeof(n=(n=u(n,"label")||(e!=null?u(e,"label"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"label",hash:{},data:a,loc:{start:{line:12,column:110},end:{line:12,column:119}}}):n)+"</i>"},22:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return t.escapeExpression(typeof(n=(n=u(n,"label")||(e!=null?u(e,"label"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"label",hash:{},data:a,loc:{start:{line:12,column:131},end:{line:12,column:140}}}):n)},24:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return"        "+((n=u(n,"if").call(e??(t.nullContext||{}),a&&u(a,"first"),{name:"if",hash:{},fn:t.program(25,a,0),inverse:t.noop,data:a,loc:{start:{line:14,column:8},end:{line:14,column:34}}}))!=null?n:"")+`
        <tr><td align="left" cellpadding="2">`+t.escapeExpression(t.lambda(e,e))+`</td></tr>
`},25:function(t,e,n,m,a){return"<hr/>"},27:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'  "'+((u=typeof(i=(i=d(n,"name")||(e!=null?d(e,"name"):e))!=null?i:y)==p?i.call(f,{name:"name",hash:{},data:a,loc:{start:{line:21,column:3},end:{line:21,column:13}}}):i)!=null?u:"")+'" [shape=circle class="'+((u=typeof(i=(i=d(n,"class")||(e!=null?d(e,"class"):e))!=null?i:y)==p?i.call(f,{name:"class",hash:{},data:a,loc:{start:{line:21,column:36},end:{line:21,column:47}}}):i)!=null?u:"")+'" '+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:21,column:49},end:{line:21,column:89}}}))!=null?u:"")+((u=d(n,"if").call(f,e!=null?d(e,"active"):e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:21,column:89},end:{line:21,column:123}}}))!=null?u:"")+`label="H"]
`},29:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'  "'+((u=typeof(i=(i=d(n,"name")||(e!=null?d(e,"name"):e))!=null?i:y)==p?i.call(f,{name:"name",hash:{},data:a,loc:{start:{line:24,column:3},end:{line:24,column:13}}}):i)!=null?u:"")+'" [shape=circle class="'+((u=typeof(i=(i=d(n,"class")||(e!=null?d(e,"class"):e))!=null?i:y)==p?i.call(f,{name:"class",hash:{},data:a,loc:{start:{line:24,column:36},end:{line:24,column:47}}}):i)!=null?u:"")+'" '+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:24,column:49},end:{line:24,column:89}}}))!=null?u:"")+((u=d(n,"if").call(f,e!=null?d(e,"active"):e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:24,column:89},end:{line:24,column:123}}}))!=null?u:"")+`label="H*"]
`},31:function(t,e,n,m,a,u,i){var f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.hooks.blockHelperMissing,l=t.lookupProperty||function(_,B){if(Object.prototype.hasOwnProperty.call(_,B))return _[B]},b='  "'+((x=typeof(c=(c=l(n,"name")||(e!=null?l(e,"name"):e))!=null?c:y)==p?c.call(f,{name:"name",hash:{},data:a,loc:{start:{line:27,column:3},end:{line:27,column:13}}}):c)!=null?x:"")+'" [shape=diamond fixedsize=true width=0.35 height=0.35 fontsize=10 class="'+((x=typeof(c=(c=l(n,"class")||(e!=null?l(e,"class"):e))!=null?c:y)==p?c.call(f,{name:"class",hash:{},data:a,loc:{start:{line:27,column:87},end:{line:27,column:98}}}):c)!=null?x:"")+'" '+((x=l(n,"if").call(f,e!=null?l(e,"color"):e,{name:"if",hash:{},fn:t.program(12,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:27,column:100},end:{line:27,column:140}}}))!=null?x:"")+((x=l(n,"if").call(f,e!=null?l(e,"active"):e,{name:"if",hash:{},fn:t.program(9,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:27,column:140},end:{line:27,column:174}}}))!=null?x:"")+`label=" "]
  "`+((x=typeof(c=(c=l(n,"name")||(e!=null?l(e,"name"):e))!=null?c:y)==p?c.call(f,{name:"name",hash:{},data:a,loc:{start:{line:28,column:3},end:{line:28,column:13}}}):c)!=null?x:"")+'" -> "'+((x=typeof(c=(c=l(n,"name")||(e!=null?l(e,"name"):e))!=null?c:y)==p?c.call(f,{name:"name",hash:{},data:a,loc:{start:{line:28,column:19},end:{line:28,column:29}}}):c)!=null?x:"")+'" [label=<',c=(c=l(n,"actionStrings")||(e!=null?l(e,"actionStrings"):e))!=null?c:y,I={name:"actionStrings",hash:{},fn:t.program(32,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:28,column:39},end:{line:28,column:156}}},x=typeof c==p?c.call(f,I):c;return(x=l(n,"actionStrings")?x:d.call(e,x,I))!=null&&(b+=x),b+='> color="#FFFFFF01"',c=(c=l(n,"color")||(e!=null?l(e,"color"):e))!=null?c:y,I={name:"color",hash:{},fn:t.program(41,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:28,column:175},end:{line:28,column:215}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"color")?x:d.call(e,x,I))!=null&&(b+=x),b+' class="'+((x=typeof(c=(c=l(n,"class")||(e!=null?l(e,"class"):e))!=null?c:y)==p?c.call(f,{name:"class",hash:{},data:a,loc:{start:{line:28,column:223},end:{line:28,column:234}}}):c)!=null?x:"")+`"];
`},32:function(t,y,n,m,a,u,i){var f,y=y??(t.nullContext||{}),p=t.lookupProperty||function(d,l){if(Object.prototype.hasOwnProperty.call(d,l))return d[l]};return((f=p(n,"if").call(y,a&&p(a,"first"),{name:"if",hash:{},fn:t.program(33,a,0,u,i),inverse:t.program(35,a,0,u,i),data:a,loc:{start:{line:28,column:57},end:{line:28,column:88}}}))!=null?f:"")+((f=p(n,"if").call(y,i[1]!=null?p(i[1],"active"):i[1],{name:"if",hash:{},fn:t.program(37,a,0,u,i),inverse:t.program(39,a,0,u,i),data:a,loc:{start:{line:28,column:88},end:{line:28,column:137}}}))!=null?f:"")},33:function(t,e,n,m,a){return""},35:function(t,e,n,m,a){return"\\n"},37:function(t,e,n,m,a){return"<i>"+t.escapeExpression(t.lambda(e,e))+"</i>"},39:function(t,e,n,m,a){return t.escapeExpression(t.lambda(e,e))},41:function(t,e,n,m,a){return' fontcolor="'+((t=t.lambda(e,e))!=null?t:"")+'"'},43:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'  "'+((u=typeof(i=(i=d(n,"name")||(e!=null?d(e,"name"):e))!=null?i:y)==p?i.call(f,{name:"name",hash:{},data:a,loc:{start:{line:31,column:3},end:{line:31,column:13}}}):i)!=null?u:"")+'" [shape=rect class="'+((u=typeof(i=(i=d(n,"class")||(e!=null?d(e,"class"):e))!=null?i:y)==p?i.call(f,{name:"class",hash:{},data:a,loc:{start:{line:31,column:34},end:{line:31,column:45}}}):i)!=null?u:"")+'" '+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.program(7,a,0),data:a,loc:{start:{line:31,column:47},end:{line:31,column:135}}}))!=null?u:"")+((u=d(n,"if").call(f,e!=null?d(e,"active"):e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:31,column:135},end:{line:31,column:169}}}))!=null?u:"")+'label=" " fixedsize=true style=filled '+((u=typeof(i=(i=d(n,"sizingExtras")||(e!=null?d(e,"sizingExtras"):e))!=null?i:y)==p?i.call(f,{name:"sizingExtras",hash:{},data:a,loc:{start:{line:31,column:207},end:{line:31,column:225}}}):i)!=null?u:"")+`]
`},45:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'  "'+((u=typeof(i=(i=d(n,"name")||(e!=null?d(e,"name"):e))!=null?i:y)==p?i.call(f,{name:"name",hash:{},data:a,loc:{start:{line:37,column:3},end:{line:37,column:13}}}):i)!=null?u:"")+`" [label= < 
      <table align="center" cellborder="0" border="0">
        <tr><td cellpadding="0"><font `+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:39,column:38},end:{line:39,column:78}}}))!=null?u:"")+`point-size="20">X</font></td></tr>
        <tr><td cellpadding="0"><font `+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(46,a,0),inverse:t.noop,data:a,loc:{start:{line:40,column:38},end:{line:40,column:77}}}))!=null?u:"")+">"+t.escapeExpression(typeof(i=(i=d(n,"label")||(e!=null?d(e,"label"):e))!=null?i:y)==p?i.call(f,{name:"label",hash:{},data:a,loc:{start:{line:40,column:78},end:{line:40,column:87}}}):i)+`</font></td></tr>
      </table>
    > class="`+((u=typeof(i=(i=d(n,"class")||(e!=null?d(e,"class"):e))!=null?i:y)==p?i.call(f,{name:"class",hash:{},data:a,loc:{start:{line:42,column:13},end:{line:42,column:24}}}):i)!=null?u:"")+`"]
`},46:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return'color="'+((u=typeof(n=(n=u(n,"color")||(e!=null?u(e,"color"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"color",hash:{},data:a,loc:{start:{line:40,column:58},end:{line:40,column:69}}}):n)!=null?u:"")+'"'},48:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return'  "'+((u=typeof(i=(i=d(n,"name")||(e!=null?d(e,"name"):e))!=null?i:y)==p?i.call(f,{name:"name",hash:{},data:a,loc:{start:{line:45,column:3},end:{line:45,column:13}}}):i)!=null?u:"")+'" [shape=circle style=filled class="'+((u=typeof(i=(i=d(n,"class")||(e!=null?d(e,"class"):e))!=null?i:y)==p?i.call(f,{name:"class",hash:{},data:a,loc:{start:{line:45,column:49},end:{line:45,column:60}}}):i)!=null?u:"")+'" '+((u=d(n,"if").call(f,e!=null?d(e,"color"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.program(7,a,0),data:a,loc:{start:{line:45,column:62},end:{line:45,column:150}}}))!=null?u:"")+"fixedsize=true height=0.15 peripheries=2 "+((u=d(n,"if").call(f,e!=null?d(e,"active"):e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:45,column:191},end:{line:45,column:225}}}))!=null?u:"")+`label=""]
`},50:function(t,e,n,m,a){var u=e??(t.nullContext||{}),i=t.hooks.helperMissing,f="function",y=t.lookupProperty||function(c,I){if(Object.prototype.hasOwnProperty.call(c,I))return c[I]},p='  subgraph "cluster_'+((b=typeof(d=(d=y(n,"name")||(e!=null?y(e,"name"):e))!=null?d:i)==f?d.call(u,{name:"name",hash:{},data:a,loc:{start:{line:48,column:20},end:{line:48,column:30}}}):d)!=null?b:"")+`" {
    class="`+((b=typeof(d=(d=y(n,"class")||(e!=null?y(e,"class"):e))!=null?d:i)==f?d.call(u,{name:"class",hash:{},data:a,loc:{start:{line:49,column:11},end:{line:49,column:22}}}):d)!=null?b:"")+'" '+((b=y(n,"if").call(u,e!=null?y(e,"color"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:49,column:24},end:{line:49,column:64}}}))!=null?b:"")+`label= <
    <table cellborder="0" border="0">
      <tr><td>`+((b=y(n,"if").call(u,e!=null?y(e,"active"):e,{name:"if",hash:{},fn:t.program(20,a,0),inverse:t.program(22,a,0),data:a,loc:{start:{line:51,column:14},end:{line:51,column:68}}}))!=null?b:"")+`</td></tr>
`,d=(d=y(n,"actionStrings")||(e!=null?y(e,"actionStrings"):e))!=null?d:i,l={name:"actionStrings",hash:{},fn:t.program(51,a,0),inverse:t.noop,data:a,loc:{start:{line:52,column:6},end:{line:55,column:24}}},b=typeof d==f?d.call(u,l):d;return(b=y(n,"actionStrings")?b:t.hooks.blockHelperMissing.call(e,b,l))!=null&&(p+=b),p+`    </table>
    > `+((b=y(n,"if").call(u,e!=null?y(e,"parentIsParallel"):e,{name:"if",hash:{},fn:t.program(53,a,0),inverse:t.program(55,a,0),data:a,loc:{start:{line:57,column:6},end:{line:57,column:137}}}))!=null?b:"")+`
    "`+((b=typeof(d=(d=y(n,"name")||(e!=null?y(e,"name"):e))!=null?d:i)==f?d.call(u,{name:"name",hash:{},data:a,loc:{start:{line:58,column:5},end:{line:58,column:15}}}):d)!=null?b:"")+`" [shape=point style=invis margin=0 width=0 height=0 fixedsize=true]
    `+((b=(y(n,"stateSection")||e&&y(e,"stateSection")||i).call(u,e!=null?y(e,"statemachine"):e,{name:"stateSection",hash:{},fn:t.program(33,a,0),inverse:t.noop,data:a,loc:{start:{line:59,column:4},end:{line:59,column:51}}}))!=null?b:"")+`
  }
`},51:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return"        "+((n=u(n,"if").call(e??(t.nullContext||{}),a&&u(a,"first"),{name:"if",hash:{},fn:t.program(25,a,0),inverse:t.noop,data:a,loc:{start:{line:53,column:8},end:{line:53,column:34}}}))!=null?n:"")+`
        <tr><td align="left">`+t.escapeExpression(t.lambda(e,e))+`</td></tr>
`},53:function(t,e,n,m,a){return'style="dashed" penwidth=1'},55:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return"style=rounded "+((n=u(n,"if").call(e??(t.nullContext||{}),e!=null?u(e,"active"):e,{name:"if",hash:{},fn:t.program(56,a,0),inverse:t.program(58,a,0),data:a,loc:{start:{line:57,column:77},end:{line:57,column:130}}}))!=null?n:"")},56:function(t,e,n,m,a){return"penwidth=3.0"},58:function(t,e,n,m,a){return"penwidth=2.0"},60:function(t,e,n,m,a,d,l){var f=t.lookupProperty||function(b,c){if(Object.prototype.hasOwnProperty.call(b,c))return b[c]},y="",p=(p=f(n,"noteName")||(e!=null?f(e,"noteName"):e))!=null?p:t.hooks.helperMissing,d={name:"noteName",hash:{},fn:t.program(61,a,0,d,l),inverse:t.noop,data:a,loc:{start:{line:63,column:4},end:{line:66,column:17}}},l=typeof p=="function"?p.call(e??(t.nullContext||{}),d):p;return(l=f(n,"noteName")?l:t.hooks.blockHelperMissing.call(e,l,d))!=null&&(y+=l),y},61:function(p,e,n,m,a,u,i){var f,y=p.lambda,p=p.lookupProperty||function(d,l){if(Object.prototype.hasOwnProperty.call(d,l))return d[l]};return'    "'+((f=y(e,e))!=null?f:"")+'" [color=black fontcolor=black label="'+((f=y(i[1]!=null?p(i[1],"noteFlattened"):i[1],e))!=null?f:"")+`" shape=note fontsize=10 fillcolor="#ffffcc" penwidth=1.0]
    "`+((f=y(i[1]!=null?p(i[1],"name"):i[1],e))!=null?f:"")+'" -> "'+((f=y(e,e))!=null?f:"")+`" [style=dashed arrowtail=none arrowhead=none]
`},compiler:[8,">= 4.3.0"],main:function(t,e,n,m,a,u,i){var f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.hooks.blockHelperMissing,l=t.lookupProperty||function(_,B){if(Object.prototype.hasOwnProperty.call(_,B))return _[B]},b="",c=(c=l(n,"compositeStates")||(e!=null?l(e,"compositeStates"):e))!=null?c:y,I={name:"compositeStates",hash:{},fn:t.program(1,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:1,column:0},end:{line:5,column:20}}},x=typeof c==p?c.call(f,I):c;return(x=l(n,"compositeStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"initialStates")||(e!=null?l(e,"initialStates"):e))!=null?c:y,I={name:"initialStates",hash:{},fn:t.program(4,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:6,column:0},end:{line:8,column:18}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"initialStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"regularStates")||(e!=null?l(e,"regularStates"):e))!=null?c:y,I={name:"regularStates",hash:{},fn:t.program(11,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:9,column:0},end:{line:19,column:18}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"regularStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"historyStates")||(e!=null?l(e,"historyStates"):e))!=null?c:y,I={name:"historyStates",hash:{},fn:t.program(27,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:20,column:0},end:{line:22,column:18}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"historyStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"deepHistoryStates")||(e!=null?l(e,"deepHistoryStates"):e))!=null?c:y,I={name:"deepHistoryStates",hash:{},fn:t.program(29,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:23,column:0},end:{line:25,column:22}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"deepHistoryStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"choiceStates")||(e!=null?l(e,"choiceStates"):e))!=null?c:y,I={name:"choiceStates",hash:{},fn:t.program(31,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:26,column:0},end:{line:29,column:17}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"choiceStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"forkjoinStates")||(e!=null?l(e,"forkjoinStates"):e))!=null?c:y,I={name:"forkjoinStates",hash:{},fn:t.program(43,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:30,column:0},end:{line:32,column:19}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"forkjoinStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"junctionStates")||(e!=null?l(e,"junctionStates"):e))!=null?c:y,I={name:"junctionStates",hash:{},fn:t.program(4,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:33,column:0},end:{line:35,column:19}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"junctionStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"terminateStates")||(e!=null?l(e,"terminateStates"):e))!=null?c:y,I={name:"terminateStates",hash:{},fn:t.program(45,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:36,column:0},end:{line:43,column:20}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"terminateStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"finalStates")||(e!=null?l(e,"finalStates"):e))!=null?c:y,I={name:"finalStates",hash:{},fn:t.program(48,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:44,column:0},end:{line:46,column:16}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"finalStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"compositeStates")||(e!=null?l(e,"compositeStates"):e))!=null?c:y,I={name:"compositeStates",hash:{},fn:t.program(50,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:47,column:0},end:{line:61,column:20}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"compositeStates")?x:d.call(e,x,I))!=null&&(b+=x),c=(c=l(n,"states")||(e!=null?l(e,"states"):e))!=null?c:y,I={name:"states",hash:{},fn:t.program(60,a,0,u,i),inverse:t.noop,data:a,loc:{start:{line:62,column:0},end:{line:67,column:11}}},x=typeof c==p?c.call(f,I):c,(x=l(n,"states")?x:d.call(e,x,I))!=null&&(b+=x),b},useData:!0,useDepths:!0})});var Un=q((Hs,zn)=>{"use strict";var ue=require("handlebars/dist/handlebars.runtime.js");qn();Mn();ue.registerPartial("dot.states.template.hbs",ue.templates["dot.states.template.hbs"]);ue.registerHelper("stateSection",t=>ue.templates["dot.states.template.hbs"](vi(t)));function J(t){return e=>e.type===t}function yi(t){return e=>t.includes(e.type)}function vi(t){return t.initialStates=t.states.filter(J("initial")),t.regularStates=t.states.filter(e=>J("regular")(e)&&!e.statemachine),t.historyStates=t.states.filter(J("history")),t.deepHistoryStates=t.states.filter(J("deephistory")),t.choiceStates=t.states.filter(J("choice")),t.forkjoinStates=t.states.filter(yi(["fork","join","forkjoin"])),t.junctionStates=t.states.filter(J("junction")),t.terminateStates=t.states.filter(J("terminate")),t.finalStates=t.states.filter(J("final")),t.compositeStates=t.states.filter(e=>e.statemachine),t}zn.exports=function(e){return ue.templates["dot.template.hbs"](e)}});var Kn=q(()=>{"use strict";var Je=require("handlebars/dist/handlebars.runtime"),zi=Je.template,Ui=Je.templates=Je.templates||{};Ui["scxml.template.hbs"]=zi({1:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return'initial="'+t.escapeExpression(typeof(n=(n=u(n,"initial")||(e!=null?u(e,"initial"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"initial",hash:{},data:a,loc:{start:{line:2,column:71},end:{line:2,column:82}}}):n)+'" '},compiler:[8,">= 4.3.0"],main:function(t,e,n,m,a){var u,i=t.lookupProperty||function(f,y){if(Object.prototype.hasOwnProperty.call(f,y))return f[y]};return`<?xml version="1.0" encoding="UTF-8"?>
<scxml xmlns="http://www.w3.org/2005/07/scxml" `+((u=i(n,"if").call(e??(t.nullContext||{}),e!=null?i(e,"initial"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:47},end:{line:2,column:91}}}))!=null?u:"")+`version="1.0">
`+((u=t.invokePartial(i(m,"scxml.states.template.hbs"),e,{name:"scxml.states.template.hbs",data:a,helpers:n,partials:m,decorators:t.decorators}))!=null?u:"")+`</scxml>
`},usePartial:!0,useData:!0})});var er=q(()=>{"use strict";var Xe=require("handlebars/dist/handlebars.runtime"),Ji=Xe.template,Xi=Xe.templates=Xe.templates||{};Xi["scxml.states.template.hbs"]=Ji({1:function(t,e,n,m,a){var u,i,f=e??(t.nullContext||{}),y=t.hooks.helperMissing,p="function",d=t.escapeExpression,l=t.lookupProperty||function(b,c){if(Object.prototype.hasOwnProperty.call(b,c))return b[c]};return"    <"+d(typeof(i=(i=l(n,"kind")||(e!=null?l(e,"kind"):e))!=null?i:y)==p?i.call(f,{name:"kind",hash:{},data:a,loc:{start:{line:2,column:5},end:{line:2,column:13}}}):i)+' id="'+d(typeof(i=(i=l(n,"id")||(e!=null?l(e,"id"):e))!=null?i:y)==p?i.call(f,{name:"id",hash:{},data:a,loc:{start:{line:2,column:18},end:{line:2,column:24}}}):i)+'"'+((u=l(n,"if").call(f,e!=null?l(e,"initial"):e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:25},end:{line:2,column:69}}}))!=null?u:"")+((u=l(n,"if").call(f,e!=null?l(e,"type"):e,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:69},end:{line:2,column:104}}}))!=null?u:"")+`>
`+((u=t.invokePartial(l(m,"scxml.states.template.hbs"),e,{name:"scxml.states.template.hbs",data:a,indent:"    ",helpers:n,partials:m,decorators:t.decorators}))!=null?u:"")+((u=l(n,"each").call(f,e!=null?l(e,"onentries"):e,{name:"each",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:4,column:4},end:{line:6,column:13}}}))!=null?u:"")+((u=l(n,"each").call(f,e!=null?l(e,"onexits"):e,{name:"each",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a,loc:{start:{line:7,column:4},end:{line:9,column:13}}}))!=null?u:"")+((u=l(n,"each").call(f,e!=null?l(e,"transitions"):e,{name:"each",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a,loc:{start:{line:10,column:4},end:{line:18,column:13}}}))!=null?u:"")+"    </"+d(typeof(i=(i=l(n,"kind")||(e!=null?l(e,"kind"):e))!=null?i:y)==p?i.call(f,{name:"kind",hash:{},data:a,loc:{start:{line:19,column:6},end:{line:19,column:14}}}):i)+`>
`},2:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return' initial="'+t.escapeExpression(typeof(n=(n=u(n,"initial")||(e!=null?u(e,"initial"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"initial",hash:{},data:a,loc:{start:{line:2,column:50},end:{line:2,column:61}}}):n)+'"'},4:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return' type="'+t.escapeExpression(typeof(n=(n=u(n,"type")||(e!=null?u(e,"type"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"type",hash:{},data:a,loc:{start:{line:2,column:88},end:{line:2,column:96}}}):n)+'"'},6:function(t,e,n,m,a){return"        <onentry>"+t.escapeExpression(t.lambda(e,e))+`</onentry>
`},8:function(t,e,n,m,a){return"        <onexit>"+t.escapeExpression(t.lambda(e,e))+`</onexit>
`},10:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return(n=u(n,"if").call(e??(t.nullContext||{}),e!=null?u(e,"action"):e,{name:"if",hash:{},fn:t.program(11,a,0),inverse:t.program(18,a,0),data:a,loc:{start:{line:11,column:8},end:{line:17,column:15}}}))!=null?n:""},11:function(t,e,n,m,a){var u,i=e??(t.nullContext||{}),f=t.hooks.helperMissing,y="function",p=t.escapeExpression,d=t.lookupProperty||function(l,b){if(Object.prototype.hasOwnProperty.call(l,b))return l[b]};return"        <transition "+((u=d(n,"if").call(i,e!=null?d(e,"event"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:12,column:20},end:{line:12,column:58}}}))!=null?u:"")+((u=d(n,"if").call(i,e!=null?d(e,"cond"):e,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a,loc:{start:{line:12,column:58},end:{line:12,column:93}}}))!=null?u:"")+((u=d(n,"if").call(i,e!=null?d(e,"type"):e,{name:"if",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a,loc:{start:{line:12,column:93},end:{line:12,column:128}}}))!=null?u:"")+'target="'+p(typeof(t=(t=d(n,"target")||(e!=null?d(e,"target"):e))!=null?t:f)==y?t.call(i,{name:"target",hash:{},data:a,loc:{start:{line:12,column:136},end:{line:12,column:146}}}):t)+`">
            `+p(typeof(t=(t=d(n,"action")||(e!=null?d(e,"action"):e))!=null?t:f)==y?t.call(i,{name:"action",hash:{},data:a,loc:{start:{line:13,column:12},end:{line:13,column:22}}}):t)+`
        </transition>
`},12:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return'event="'+t.escapeExpression(typeof(n=(n=u(n,"event")||(e!=null?u(e,"event"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"event",hash:{},data:a,loc:{start:{line:12,column:40},end:{line:12,column:49}}}):n)+'" '},14:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return'cond="'+t.escapeExpression(typeof(n=(n=u(n,"cond")||(e!=null?u(e,"cond"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"cond",hash:{},data:a,loc:{start:{line:12,column:76},end:{line:12,column:84}}}):n)+'" '},16:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return'type="'+t.escapeExpression(typeof(n=(n=u(n,"type")||(e!=null?u(e,"type"):e))!=null?n:t.hooks.helperMissing)=="function"?n.call(e??(t.nullContext||{}),{name:"type",hash:{},data:a,loc:{start:{line:12,column:111},end:{line:12,column:119}}}):n)+'" '},18:function(t,e,n,m,a){var u,i=e??(t.nullContext||{}),f=t.lookupProperty||function(y,p){if(Object.prototype.hasOwnProperty.call(y,p))return y[p]};return"        <transition "+((u=f(n,"if").call(i,e!=null?f(e,"event"):e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a,loc:{start:{line:16,column:20},end:{line:16,column:58}}}))!=null?u:"")+((u=f(n,"if").call(i,e!=null?f(e,"cond"):e,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a,loc:{start:{line:16,column:58},end:{line:16,column:93}}}))!=null?u:"")+((u=f(n,"if").call(i,e!=null?f(e,"type"):e,{name:"if",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a,loc:{start:{line:16,column:93},end:{line:16,column:128}}}))!=null?u:"")+'target="'+t.escapeExpression(typeof(u=(u=f(n,"target")||(e!=null?f(e,"target"):e))!=null?u:t.hooks.helperMissing)=="function"?u.call(i,{name:"target",hash:{},data:a,loc:{start:{line:16,column:136},end:{line:16,column:146}}}):u)+`"/>
`},compiler:[8,">= 4.3.0"],main:function(t,e,n,m,a){var u=t.lookupProperty||function(i,f){if(Object.prototype.hasOwnProperty.call(i,f))return i[f]};return(n=u(n,"each").call(e??(t.nullContext||{}),e!=null?u(e,"states"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:0},end:{line:20,column:9}}}))!=null?n:""},usePartial:!0,useData:!0})});var nr=q((cc,tr)=>{"use strict";var Ge=require("handlebars/dist/handlebars.runtime.js");Kn();er();Ge.registerPartial("scxml.states.template.hbs",Ge.templates["scxml.states.template.hbs"]);tr.exports=function(e){return Ge.templates["scxml.template.hbs"](e)}});var Yi={};Ql(Yi,{default:()=>Qi,getAllowedValues:()=>ur,render:()=>sr,version:()=>cr});module.exports=Yl(Yi);var an=Object.freeze({inputType:{default:"smcat",values:[{name:"smcat"},{name:"json"},{name:"scxml"}]},outputType:{default:"svg",values:[{name:"ast"},{name:"dot"},{name:"eps"},{name:"json"},{name:"oldeps"},{name:"oldps"},{name:"oldps2"},{name:"oldsvg"},{name:"pdf"},{name:"png"},{name:"ps"},{name:"ps2"},{name:"scjson"},{name:"scxml"},{name:"smcat"},{name:"svg"}]},engine:{default:"dot",values:[{name:"dot"},{name:"circo"},{name:"fdp"},{name:"neato"},{name:"osage"},{name:"twopi"}]},direction:{default:"top-down",values:[{name:"top-down"},{name:"bottom-top"},{name:"left-right"},{name:"right-left"}]},desugar:{default:!1,values:[{name:!0},{name:!1}]}});function Zl(t,e){return(t==null?void 0:t[e])??an[e].default}function Kl(){return an}var N={getAllowedValues:Kl,getOptionValue:Zl};var Cn=F(require("ajv"),1);function ln(t,e=!1){let n=[];return t.filter(m=>Boolean(m.statemachine)).forEach(m=>{Object.prototype.hasOwnProperty.call(m.statemachine,"states")&&(n=n.concat(ln(m.statemachine.states,!0)))}),n.concat(t.map(m=>({name:m.name,type:m.type,statemachine:Boolean(m.statemachine),hasParent:e})))}function on(t){let e=[];return Object.prototype.hasOwnProperty.call(t,"transitions")&&(e=t.transitions),Object.prototype.hasOwnProperty.call(t,"states")&&t.states.filter(n=>Boolean(n.statemachine)).forEach(n=>{e=e.concat(on(n.statemachine))}),e}var L=class{_flattenedTransitions;_flattenedStates;constructor(e){this._flattenedStates=ln(e.states||[]),this._flattenedTransitions=on(e)}get flattenedTransitions(){return this._flattenedTransitions}findStateByName(e){return this._flattenedStates.find(n=>n.name===e)}findStatesByTypes(e){return this._flattenedStates.filter(n=>e.includes(n.type))}findExternalSelfTransitions(e){return this._flattenedTransitions.filter(n=>n.from===e&&n.to===e&&n.type!=="internal")}findTransitionsByFrom(e){return this._flattenedTransitions.filter(n=>n.from===e)}findTransitionsByTo(e){return this._flattenedTransitions.filter(n=>n.to===e)}};var eo="^(entry|activity|exit)\\s*/\\s*([^\\n$]*)(\\n|$)",to=new RegExp(eo);function sn(t,e){return t.includes(e)}var no=[{re:/initial/,stateType:"initial"},{re:/final/,stateType:"final"},{re:/parallel/,stateType:"parallel"},{re:/(deep.*history)|(history.*deep)/,stateType:"deephistory"},{re:/history/,stateType:"history"},{re:/^\^.*/,stateType:"choice"},{re:/^].*/,stateType:"forkjoin"}];function ro(t){return e=>e.re.test(t)}function cn(t){return(no.find(ro(t))||{stateType:"regular"}).stateType}function _e(t){return{name:t,type:cn(t)}}function un(t){return Boolean(t.statemachine)}function fn(t){let e=(t==null?void 0:t.states)??[];return e.filter(un).reduce((n,m)=>n.concat(fn(m.statemachine)),e.map(({name:n})=>n))}function pn(t,e){e=e||fn(t),t.states=(t==null?void 0:t.states)??[];let n=(t==null?void 0:t.transitions)??[];return t.states.filter(un).forEach(m=>{m.statemachine.states=pn(m.statemachine,e)}),n.forEach(m=>{sn(e,m.from)||(e.push(m.from),t.states.push(_e(m.from))),sn(e,m.to)||(e.push(m.to),t.states.push(_e(m.to)))}),t.states}function ao(t,e){let n="junction";return t<=1&&e>1&&(n="fork"),t>1&&e<=1&&(n="join"),n}function mn(t,e=new L(t)){return t.states=t.states.map(n=>{if(n.type==="forkjoin"&&!n.typeExplicitlySet){let m=e.findTransitionsByTo(n.name).length,a=e.findTransitionsByFrom(n.name).length;n.type=ao(m,a)}return n.statemachine&&(n.statemachine=mn(n.statemachine,e)),n}),t}function lo(t,e){return t.name===e.name}function oo(t,e){return t.reduce((n,m)=>{let a=n.findIndex(u=>e(u,m));return a>-1?(n[a]=m,n):n.concat(m)},[])}function io(t){let e=/([^[/]+)?(\[[^\]]+\])?[^/]*(\/.+)?/,n={},m=t.match(e),a=1,u=2,i=3;return m[a]&&(n.event=m[a].trim()),m[u]&&(n.cond=m[u].slice(1,-1).trim()),m[i]&&(n.action=m[i].slice(1,m[i].length).trim()),n}function dn(t,e,n,m=Boolean){m(n)&&(t[e]=n)}function so(t,e,n){dn(t,e,n,m=>m&&m.length>0)}function co(t){let e=t.match(to),n=1,m=2;return e?{type:e[n],body:e[m]}:{type:"activity",body:t}}function uo(t){return t.split(/\n\s*/g).map(e=>e.trim()).map(co)}var P={initState:_e,extractUndeclaredStates:pn,classifyForkJoins:mn,getStateType:cn,stateEqual:lo,uniq:oo,parseTransitionExpression:io,extractActions:uo,setIf:dn,setIfNotEmpty:so};function fo(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Q(t,e,n,m){var a=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(a,Q.prototype),a.expected=e,a.found=n,a.location=m,a.name="SyntaxError",a}fo(Q,Error);function Fe(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}Q.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,m;for(m=0;m<t.length;m++)if(t[m].source===this.location.source){n=t[m].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,u=this.location.source+":"+a.line+":"+a.column;if(n){var i=this.location.end,f=Fe("",a.line.toString().length," "),y=n[a.line-1],p=a.line===i.line?i.column:y.length+1,d=p-a.column||1;e+=`
 --> `+u+`
`+f+` |
`+a.line+" | "+y+`
`+f+" | "+Fe("",a.column-1," ")+Fe("",d,"^")}else e+=`
 at `+u}return e};Q.buildMessage=function(t,e){var n={literal:function(p){return'"'+a(p.text)+'"'},class:function(p){var d=p.parts.map(function(l){return Array.isArray(l)?u(l[0])+"-"+u(l[1]):u(l)});return"["+(p.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(p){return p.description}};function m(p){return p.charCodeAt(0).toString(16).toUpperCase()}function a(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+m(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+m(d)})}function u(p){return p.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+m(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+m(d)})}function i(p){return n[p.type](p)}function f(p){var d=p.map(i),l,b;if(d.sort(),d.length>0){for(l=1,b=1;l<d.length;l++)d[l-1]!==d[l]&&(d[b]=d[l],b++);d.length=b}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function y(p){return p?'"'+a(p)+'"':"end of input"}return"Expected "+f(t)+" but "+y(e)+" found."};function hn(t,e){e=e!==void 0?e:{};var n={},m=e.grammarSource,a={program:Ut},u=Ut,i=",",f=";",y="[",p="]",d=":",l="{",b="}",c="=",I="label",x="color",_="class",B="active",Qe="type",Ye="regular",Ze="initial",Ke="terminate",et="final",tt="parallel",nt="history",rt="deephistory",at="choice",lt="forkjoin",ot="fork",it="join",st="junction",fr="width",ct="external",ut="internal",ft="->",pt="=>>",mt="=>",dt=">>",ht=":>",gt="--",yt="==",vt="<-",bt="<<=",xt="<=",$t="<<",It="<:",pr="#",mr=".",z='"',fe='\\"',Et="/*",pe="*/",kt="//",St=/^[0-9]/,Tt=/^[a-zA-Z0-9_\- ]/,At=/^[^;, "\t\n\r=\-><:{[]/,dr=/^[ \t]/,hr=/^[\r\n]/,gr=/^[^\r\n]/,yr=C("statemachine"),me=A(",",!1),Z=A(";",!1),vr=C("state"),wt=A("[",!1),Ot=A("]",!1),Ct=A(":",!1),re=A("{",!1),br=A("}",!1),xr=C("extended state attributes"),$r=C("extended state attribute"),X=A("=",!1),Ir=C("state attribute name"),Er=A("label",!0),jt=A("color",!0),kr=C("class attribute"),Sr=A("class",!0),Tr=C("state flag"),Ar=A("active",!0),wr=C("state type"),Pt=A("type",!0),Or=C("state type type"),Cr=A("regular",!1),jr=A("initial",!1),Pr=A("terminate",!1),_r=A("final",!1),Fr=A("parallel",!1),Rr=A("history",!1),Nr=A("deephistory",!1),Vr=A("choice",!1),Lr=A("forkjoin",!1),Br=A("fork",!1),Dr=A("join",!1),Hr=A("junction",!1),qr=C("transition"),Mr=C("extended transition attributes"),zr=C("extended transition attribute"),Ur=C("transition attribute name"),Jr=C("transition type name"),Xr=C("numeric transition attribute name"),Gr=A("width",!0),Wr=C("transition type value"),Qr=A("external",!1),Yr=A("internal",!1),Zr=C("left to right arrow"),Kr=A("->",!1),ea=A("=>>",!1),ta=A("=>",!1),na=A(">>",!1),ra=A(":>",!1),aa=A("--",!1),la=A("==",!1),oa=C("right to left arrow"),ia=A("<-",!1),sa=A("<<=",!1),ca=A("<=",!1),ua=A("<<",!1),fa=A("<:",!1),pa=A("#",!1),ma=A(".",!1),_t=K([["0","9"]],!1,!1),da=C("double quoted string"),U=A('"',!1),Ft=A('\\"',!1),G=pl(),ha=C("valid class string"),Rt=K([["a","z"],["A","Z"],["0","9"],"_","-"," "],!1,!1),ga=C("identifier"),Nt=K([";",","," ",'"',"	",`
`,"\r","=","-",">","<",":","{","["],!0,!1),ya=C("whitespace"),va=K([" ","	"],!1,!1),ba=C("line end"),xa=K(["\r",`
`],!1,!1),$a=A("/*",!1),Vt=A("*/",!1),Ia=A("//",!1),Ea=K(["\r",`
`],!0,!1),ka=C("comment"),Sa=function(r){return r.states=P.extractUndeclaredStates(r),P.classifyForkJoins(r)},Ta=function(r,s){let g={};return P.setIf(g,"states",r),P.setIfNotEmpty(g,"transitions",s),g},Lt=function(r){return r},Aa=function(r){return r},wa=function(r){return P.uniq(r[0].concat(r[1]),P.stateEqual)},Oa=function(r,s,g){return g},Ca=function(r,s,g,h){return h},ja=function(r,s,g,h,E){return E},Pa=function(r,s,g,h,E){let T=P.initState(s);return(g||[]).forEach(w=>P.setIf(T,w.name,w.value)),P.setIf(T,"typeExplicitlySet",(g||[]).some(w=>w.typeExplicitlySet)),P.setIf(T,"statemachine",E),P.setIfNotEmpty(T,"note",r),Boolean(h)&&P.setIfNotEmpty(T,"actions",P.extractActions(h)),T},_a=function(r,s){return{name:r,value:s}},Fa=function(r,s){return{name:r,value:s}},Ra=function(r){return{name:r,value:!0}},Na=function(r,s){return{name:r,value:s,typeExplicitlySet:!0}},Va=function(r){return r.toLowerCase()},La=function(r){return r.toLowerCase()},Ba=function(r){return r.toLowerCase()},Da=function(r){return r.toLowerCase()},Ha=function(r,s,g){return g},qa=function(r,s,g,h){return h},Ma=function(r,s,g,h){return h&&(s.label=h,s=Object.assign(s,P.parseTransitionExpression(h))),(g||[]).forEach(E=>P.setIf(s,E.name,E.value)),P.setIfNotEmpty(s,"note",r),s},za=function(r,s){return{from:r,to:s}},Ua=function(r,s){return{from:s,to:r}},Ja=function(r,s){return{name:r,value:s}},Xa=function(r,s){return{name:r,value:s}},Ga=function(r,s){return{name:r,value:s}},Wa=function(r,s){return{name:r,value:s}},Qa=function(r){return r.toLowerCase()},Ya=function(r){return r.toLowerCase()},Za=function(r){return r},Ka=function(r){return r.join("").trim()},el=function(r){return parseFloat(r.join(""))},tl=function(r){return parseInt(r.join(""),10)},nl=function(r){return r.join("").replace(/\\\"/g,'"')},Bt=function(r){return r},rl=function(r){return r.join("")},Dt=function(r){return r},al=function(r){return r.join("").trim()},ll=function(r){return r.join("").trim()},Ht=function(r){return r},qt=function(r){return r},ol=function(r){return r.join("")},il=function(r){return r},sl=function(r){return r},cl=function(r){return r},ul=function(r,s,g){return r+s.join("")+g},fl=function(r,s){return r+s.join("")},o=0,k=0,de=[{line:1,column:1}],D=0,we=[],v=0,he;if("startRule"in e){if(!(e.startRule in a))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');u=a[e.startRule]}function Zi(){return t.substring(k,o)}function Ki(){return k}function es(){return{source:m,start:k,end:o}}function ts(){return ae(k,o)}function ns(r,s){throw s=s!==void 0?s:ae(k,o),zt([C(r)],t.substring(k,o),s)}function rs(r,s){throw s=s!==void 0?s:ae(k,o),dl(r,s)}function A(r,s){return{type:"literal",text:r,ignoreCase:s}}function K(r,s,g){return{type:"class",parts:r,inverted:s,ignoreCase:g}}function pl(){return{type:"any"}}function ml(){return{type:"end"}}function C(r){return{type:"other",description:r}}function Mt(r){var s=de[r],g;if(s)return s;for(g=r-1;!de[g];)g--;for(s=de[g],s={line:s.line,column:s.column};g<r;)t.charCodeAt(g)===10?(s.line++,s.column=1):s.column++,g++;return de[r]=s,s}function ae(r,s){var g=Mt(r),h=Mt(s);return{source:m,start:{offset:r,line:g.line,column:g.column},end:{offset:s,line:h.line,column:h.column}}}function $(r){o<D||(o>D&&(D=o,we=[]),we.push(r))}function dl(r,s){return new Q(r,null,null,s)}function zt(r,s,g){return new Q(Q.buildMessage(r,s),r,s,g)}function Ut(){var r,s,g,h;return r=o,s=S(),g=Jt(),h=S(),k=r,r=Sa(g),r}function Jt(){var r,s,g,h;for(v++,r=o,s=hl(),s===n&&(s=null),g=[],h=Wt();h!==n;)g.push(h),h=Wt();return k=r,r=Ta(s,g),v--,s=n,v===0&&$(yr),r}function hl(){var r,s,g,h,E,T;for(r=o,s=o,g=[],h=o,E=Oe(),E!==n?(t.charCodeAt(o)===44?(T=i,o++):(T=n,v===0&&$(me)),T!==n?(k=h,h=Lt(E)):(o=h,h=n)):(o=h,h=n);h!==n;)g.push(h),h=o,E=Oe(),E!==n?(t.charCodeAt(o)===44?(T=i,o++):(T=n,v===0&&$(me)),T!==n?(k=h,h=Lt(E)):(o=h,h=n)):(o=h,h=n);return h=o,E=Oe(),E!==n?(t.charCodeAt(o)===59?(T=f,o++):(T=n,v===0&&$(Z)),T!==n?(k=h,h=Aa(E)):(o=h,h=n)):(o=h,h=n),h!==n?(g=[g,h],s=g):(o=s,s=n),s!==n&&(k=r,s=wa(s)),r=s,r}function Oe(){var r,s,g,h,E,T,w,O,H,R,W,nn,je,zl,Pe;for(v++,r=o,s=[],g=ge();g!==n;)s.push(g),g=ge();return g=S(),h=oe(),h!==n?(E=S(),T=o,t.charCodeAt(o)===91?(w=y,o++):(w=n,v===0&&$(wt)),w!==n?(O=gl(),t.charCodeAt(o)===93?(H=p,o++):(H=n,v===0&&$(Ot)),H!==n?(k=T,T=Oa(s,h,O)):(o=T,T=n)):(o=T,T=n),T===n&&(T=null),w=S(),O=o,t.charCodeAt(o)===58?(H=d,o++):(H=n,v===0&&$(Ct)),H!==n?(R=S(),W=Pl(),W!==n?(nn=S(),k=O,O=Ca(s,h,T,W)):(o=O,O=n)):(o=O,O=n),O===n&&(O=null),H=S(),R=o,t.charCodeAt(o)===123?(W=l,o++):(W=n,v===0&&$(re)),W!==n?(nn=S(),je=Jt(),je!==n?(zl=S(),t.charCodeAt(o)===125?(Pe=b,o++):(Pe=n,v===0&&$(br)),Pe!==n?(k=R,R=ja(s,h,T,O,je)):(o=R,R=n)):(o=R,R=n)):(o=R,R=n),R===n&&(R=null),W=S(),k=r,r=Pa(s,h,T,O,R)):(o=r,r=n),v--,r===n&&(s=n,v===0&&$(vr)),r}function gl(){var r,s;for(v++,r=[],s=Xt();s!==n;)r.push(s),s=Xt();return v--,s=n,v===0&&$(xr),r}function Xt(){var r,s,g,h,E,T,w,O;return v++,r=o,s=S(),g=yl(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=le(),w!==n?(O=S(),k=r,r=_a(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n),r===n&&(r=o,s=S(),g=Gt(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=Yt(),w!==n?(O=S(),k=r,r=Fa(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n),r===n&&(r=o,s=S(),g=vl(),g!==n?(h=S(),k=r,r=Ra(g)):(o=r,r=n),r===n&&(r=o,s=S(),g=bl(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=xl(),w!==n?(O=S(),k=r,r=Na(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n)))),v--,r===n&&(s=n,v===0&&$($r)),r}function yl(){var r,s;return v++,r=o,t.substr(o,5).toLowerCase()===I?(s=t.substr(o,5),o+=5):(s=n,v===0&&$(Er)),s===n&&(t.substr(o,5).toLowerCase()===x?(s=t.substr(o,5),o+=5):(s=n,v===0&&$(jt))),s!==n&&(k=r,s=Va(s)),r=s,v--,r===n&&(s=n,v===0&&$(Ir)),r}function Gt(){var r,s;return v++,r=o,t.substr(o,5).toLowerCase()===_?(s=t.substr(o,5),o+=5):(s=n,v===0&&$(Sr)),s!==n&&(k=r,s=La(s)),r=s,v--,r===n&&(s=n,v===0&&$(kr)),r}function vl(){var r,s;return v++,r=o,t.substr(o,6).toLowerCase()===B?(s=t.substr(o,6),o+=6):(s=n,v===0&&$(Ar)),s!==n&&(k=r,s=Ba(s)),r=s,v--,r===n&&(s=n,v===0&&$(Tr)),r}function bl(){var r,s;return v++,r=o,t.substr(o,4).toLowerCase()===Qe?(s=t.substr(o,4),o+=4):(s=n,v===0&&$(Pt)),s!==n&&(k=r,s=Da(s)),r=s,v--,r===n&&(s=n,v===0&&$(wr)),r}function xl(){var r,s;return v++,t.substr(o,7)===Ye?(r=Ye,o+=7):(r=n,v===0&&$(Cr)),r===n&&(t.substr(o,7)===Ze?(r=Ze,o+=7):(r=n,v===0&&$(jr)),r===n&&(t.substr(o,9)===Ke?(r=Ke,o+=9):(r=n,v===0&&$(Pr)),r===n&&(t.substr(o,5)===et?(r=et,o+=5):(r=n,v===0&&$(_r)),r===n&&(t.substr(o,8)===tt?(r=tt,o+=8):(r=n,v===0&&$(Fr)),r===n&&(t.substr(o,7)===nt?(r=nt,o+=7):(r=n,v===0&&$(Rr)),r===n&&(t.substr(o,11)===rt?(r=rt,o+=11):(r=n,v===0&&$(Nr)),r===n&&(t.substr(o,6)===at?(r=at,o+=6):(r=n,v===0&&$(Vr)),r===n&&(t.substr(o,8)===lt?(r=lt,o+=8):(r=n,v===0&&$(Lr)),r===n&&(t.substr(o,4)===ot?(r=ot,o+=4):(r=n,v===0&&$(Br)),r===n&&(t.substr(o,4)===it?(r=it,o+=4):(r=n,v===0&&$(Dr)),r===n&&(t.substr(o,8)===st?(r=st,o+=8):(r=n,v===0&&$(Hr))))))))))))),v--,r===n&&(s=n,v===0&&$(Or)),r}function Wt(){var r,s,g,h,E,T,w,O,H;for(v++,r=o,s=[],g=ge();g!==n;)s.push(g),g=ge();return g=$l(),g!==n?(h=o,t.charCodeAt(o)===91?(E=y,o++):(E=n,v===0&&$(wt)),E!==n?(T=Il(),t.charCodeAt(o)===93?(w=p,o++):(w=n,v===0&&$(Ot)),w!==n?(O=S(),k=h,h=Ha(s,g,T)):(o=h,h=n)):(o=h,h=n),h===n&&(h=null),E=o,t.charCodeAt(o)===58?(T=d,o++):(T=n,v===0&&$(Ct)),T!==n?(w=S(),O=jl(),O!==n?(H=S(),k=E,E=qa(s,g,h,O)):(o=E,E=n)):(o=E,E=n),E===n&&(E=null),t.charCodeAt(o)===59?(T=f,o++):(T=n,v===0&&$(Z)),T!==n?(k=r,r=Ma(s,g,h,E)):(o=r,r=n)):(o=r,r=n),v--,r===n&&(s=n,v===0&&$(qr)),r}function $l(){var r,s,g,h,E,T,w,O;return r=o,s=S(),g=oe(),g!==n?(h=S(),E=Al(),E!==n?(T=S(),w=oe(),w!==n?(O=S(),k=r,r=za(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n),r===n&&(r=o,s=S(),g=oe(),g!==n?(h=S(),E=wl(),E!==n?(T=S(),w=oe(),w!==n?(O=S(),k=r,r=Ua(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n)),r}function Il(){var r,s;for(v++,r=[],s=Qt();s!==n;)r.push(s),s=Qt();return v--,s=n,v===0&&$(Mr),r}function Qt(){var r,s,g,h,E,T,w,O;return v++,r=o,s=S(),g=El(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=le(),w!==n?(O=S(),k=r,r=Ja(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n),r===n&&(r=o,s=S(),g=Gt(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=Yt(),w!==n?(O=S(),k=r,r=Xa(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n),r===n&&(r=o,s=S(),g=kl(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=Tl(),w!==n?(O=S(),k=r,r=Ga(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n),r===n&&(r=o,s=S(),g=Sl(),g!==n?(h=S(),t.charCodeAt(o)===61?(E=c,o++):(E=n,v===0&&$(X)),E!==n?(T=S(),w=Ol(),w!==n?(O=S(),k=r,r=Wa(g,w)):(o=r,r=n)):(o=r,r=n)):(o=r,r=n)))),v--,r===n&&(s=n,v===0&&$(zr)),r}function El(){var r,s;return v++,r=o,t.substr(o,5).toLowerCase()===x?(s=t.substr(o,5),o+=5):(s=n,v===0&&$(jt)),s!==n&&(k=r,s=Qa(s)),r=s,v--,r===n&&(s=n,v===0&&$(Ur)),r}function kl(){var r,s;return v++,r=o,t.substr(o,4).toLowerCase()===Qe?(s=t.substr(o,4),o+=4):(s=n,v===0&&$(Pt)),s!==n&&(k=r,s=Ya(s)),r=s,v--,r===n&&(s=n,v===0&&$(Jr)),r}function Sl(){var r,s;return v++,r=o,t.substr(o,5).toLowerCase()===fr?(s=t.substr(o,5),o+=5):(s=n,v===0&&$(Gr)),s!==n&&(k=r,s=Za(s)),r=s,v--,r===n&&(s=n,v===0&&$(Xr)),r}function Tl(){var r,s;return v++,t.substr(o,8)===ct?(r=ct,o+=8):(r=n,v===0&&$(Qr)),r===n&&(t.substr(o,8)===ut?(r=ut,o+=8):(r=n,v===0&&$(Yr))),v--,r===n&&(s=n,v===0&&$(Wr)),r}function Al(){var r,s;return v++,t.substr(o,2)===ft?(r=ft,o+=2):(r=n,v===0&&$(Kr)),r===n&&(t.substr(o,3)===pt?(r=pt,o+=3):(r=n,v===0&&$(ea)),r===n&&(t.substr(o,2)===mt?(r=mt,o+=2):(r=n,v===0&&$(ta)),r===n&&(t.substr(o,2)===dt?(r=dt,o+=2):(r=n,v===0&&$(na)),r===n&&(t.substr(o,2)===ht?(r=ht,o+=2):(r=n,v===0&&$(ra)),r===n&&(t.substr(o,2)===gt?(r=gt,o+=2):(r=n,v===0&&$(aa)),r===n&&(t.substr(o,2)===yt?(r=yt,o+=2):(r=n,v===0&&$(la)))))))),v--,r===n&&(s=n,v===0&&$(Zr)),r}function wl(){var r,s;return v++,t.substr(o,2)===vt?(r=vt,o+=2):(r=n,v===0&&$(ia)),r===n&&(t.substr(o,3)===bt?(r=bt,o+=3):(r=n,v===0&&$(sa)),r===n&&(t.substr(o,2)===xt?(r=xt,o+=2):(r=n,v===0&&$(ca)),r===n&&(t.substr(o,2)===$t?(r=$t,o+=2):(r=n,v===0&&$(ua)),r===n&&(t.substr(o,2)===It?(r=It,o+=2):(r=n,v===0&&$(fa)))))),v--,r===n&&(s=n,v===0&&$(oa)),r}function ge(){var r,s,g,h,E;if(r=o,s=S(),t.charCodeAt(o)===35?(g=pr,o++):(g=n,v===0&&$(pa)),g!==n){for(h=[],E=ye();E!==n;)h.push(E),E=ye();k=r,r=Ka(h)}else o=r,r=n;return r}function Ol(){var r;return r=Cl(),r===n&&(r=Ce()),r}function Cl(){var r,s,g,h,E;return r=o,s=o,g=Ce(),g!==n?(t.charCodeAt(o)===46?(h=mr,o++):(h=n,v===0&&$(ma)),h!==n?(E=Ce(),E!==n?(g=[g,h,E],s=g):(o=s,s=n)):(o=s,s=n)):(o=s,s=n),s!==n&&(k=r,s=el(s)),r=s,r}function Ce(){var r,s,g;if(r=o,s=[],St.test(t.charAt(o))?(g=t.charAt(o),o++):(g=n,v===0&&$(_t)),g!==n)for(;g!==n;)s.push(g),St.test(t.charAt(o))?(g=t.charAt(o),o++):(g=n,v===0&&$(_t));else s=n;return s!==n&&(k=r,s=tl(s)),r=s,r}function jl(){var r;return r=le(),r===n&&(r=Rl()),r}function Pl(){var r;return r=le(),r===n&&(r=Nl()),r}function le(){var r,s,g,h;return v++,r=o,t.charCodeAt(o)===34?(s=z,o++):(s=n,v===0&&$(U)),s!==n?(g=_l(),t.charCodeAt(o)===34?(h=z,o++):(h=n,v===0&&$(U)),h!==n?(k=r,r=nl(g)):(o=r,r=n)):(o=r,r=n),v--,r===n&&(s=n,v===0&&$(da)),r}function _l(){var r,s,g,h;for(r=[],s=o,g=o,v++,t.charCodeAt(o)===34?(h=z,o++):(h=n,v===0&&$(U)),v--,h===n?g=void 0:(o=g,g=n),g!==n?(t.substr(o,2)===fe?(h=fe,o+=2):(h=n,v===0&&$(Ft)),h===n&&(t.length>o?(h=t.charAt(o),o++):(h=n,v===0&&$(G))),h!==n?(k=s,s=Bt(h)):(o=s,s=n)):(o=s,s=n);s!==n;)r.push(s),s=o,g=o,v++,t.charCodeAt(o)===34?(h=z,o++):(h=n,v===0&&$(U)),v--,h===n?g=void 0:(o=g,g=n),g!==n?(t.substr(o,2)===fe?(h=fe,o+=2):(h=n,v===0&&$(Ft)),h===n&&(t.length>o?(h=t.charAt(o),o++):(h=n,v===0&&$(G))),h!==n?(k=s,s=Bt(h)):(o=s,s=n)):(o=s,s=n);return r}function Yt(){var r,s,g,h;return v++,r=o,t.charCodeAt(o)===34?(s=z,o++):(s=n,v===0&&$(U)),s!==n?(g=Fl(),t.charCodeAt(o)===34?(h=z,o++):(h=n,v===0&&$(U)),h!==n?(k=r,r=rl(g)):(o=r,r=n)):(o=r,r=n),v--,r===n&&(s=n,v===0&&$(ha)),r}function Fl(){var r,s,g,h;for(r=[],s=o,g=o,v++,t.charCodeAt(o)===34?(h=z,o++):(h=n,v===0&&$(U)),v--,h===n?g=void 0:(o=g,g=n),g!==n?(Tt.test(t.charAt(o))?(h=t.charAt(o),o++):(h=n,v===0&&$(Rt)),h!==n?(k=s,s=Dt(h)):(o=s,s=n)):(o=s,s=n);s!==n;)r.push(s),s=o,g=o,v++,t.charCodeAt(o)===34?(h=z,o++):(h=n,v===0&&$(U)),v--,h===n?g=void 0:(o=g,g=n),g!==n?(Tt.test(t.charAt(o))?(h=t.charAt(o),o++):(h=n,v===0&&$(Rt)),h!==n?(k=s,s=Dt(h)):(o=s,s=n)):(o=s,s=n);return r}function Rl(){var r,s;return r=o,s=Ll(),k=r,s=al(s),r=s,r}function Nl(){var r,s;return r=o,s=Vl(),k=r,s=ll(s),r=s,r}function Vl(){var r,s,g,h;for(r=[],s=o,g=o,v++,t.charCodeAt(o)===44?(h=i,o++):(h=n,v===0&&$(me)),h===n&&(t.charCodeAt(o)===59?(h=f,o++):(h=n,v===0&&$(Z)),h===n&&(t.charCodeAt(o)===123?(h=l,o++):(h=n,v===0&&$(re)))),v--,h===n?g=void 0:(o=g,g=n),g!==n?(t.length>o?(h=t.charAt(o),o++):(h=n,v===0&&$(G)),h!==n?(k=s,s=Ht(h)):(o=s,s=n)):(o=s,s=n);s!==n;)r.push(s),s=o,g=o,v++,t.charCodeAt(o)===44?(h=i,o++):(h=n,v===0&&$(me)),h===n&&(t.charCodeAt(o)===59?(h=f,o++):(h=n,v===0&&$(Z)),h===n&&(t.charCodeAt(o)===123?(h=l,o++):(h=n,v===0&&$(re)))),v--,h===n?g=void 0:(o=g,g=n),g!==n?(t.length>o?(h=t.charAt(o),o++):(h=n,v===0&&$(G)),h!==n?(k=s,s=Ht(h)):(o=s,s=n)):(o=s,s=n);return r}function Ll(){var r,s,g,h;for(r=[],s=o,g=o,v++,t.charCodeAt(o)===59?(h=f,o++):(h=n,v===0&&$(Z)),h===n&&(t.charCodeAt(o)===123?(h=l,o++):(h=n,v===0&&$(re))),v--,h===n?g=void 0:(o=g,g=n),g!==n?(t.length>o?(h=t.charAt(o),o++):(h=n,v===0&&$(G)),h!==n?(k=s,s=qt(h)):(o=s,s=n)):(o=s,s=n);s!==n;)r.push(s),s=o,g=o,v++,t.charCodeAt(o)===59?(h=f,o++):(h=n,v===0&&$(Z)),h===n&&(t.charCodeAt(o)===123?(h=l,o++):(h=n,v===0&&$(re))),v--,h===n?g=void 0:(o=g,g=n),g!==n?(t.length>o?(h=t.charAt(o),o++):(h=n,v===0&&$(G)),h!==n?(k=s,s=qt(h)):(o=s,s=n)):(o=s,s=n);return r}function oe(){var r,s,g;if(v++,r=o,s=[],At.test(t.charAt(o))?(g=t.charAt(o),o++):(g=n,v===0&&$(Nt)),g!==n)for(;g!==n;)s.push(g),At.test(t.charAt(o))?(g=t.charAt(o),o++):(g=n,v===0&&$(Nt));else s=n;return s!==n&&(k=r,s=ol(s)),r=s,r===n&&(r=le()),v--,r===n&&(s=n,v===0&&$(ga)),r}function Zt(){var r,s;return v++,r=o,dr.test(t.charAt(o))?(s=t.charAt(o),o++):(s=n,v===0&&$(va)),s!==n&&(k=r,s=il(s)),r=s,v--,r===n&&(s=n,v===0&&$(ya)),r}function Kt(){var r,s;return v++,r=o,hr.test(t.charAt(o))?(s=t.charAt(o),o++):(s=n,v===0&&$(xa)),s!==n&&(k=r,s=sl(s)),r=s,v--,r===n&&(s=n,v===0&&$(ba)),r}function Bl(){var r;return t.substr(o,2)===Et?(r=Et,o+=2):(r=n,v===0&&$($a)),r}function Dl(){var r;return t.substr(o,2)===pe?(r=pe,o+=2):(r=n,v===0&&$(Vt)),r}function en(){var r,s,g;return r=o,s=o,v++,t.substr(o,2)===pe?(g=pe,o+=2):(g=n,v===0&&$(Vt)),v--,g===n?s=void 0:(o=s,s=n),s!==n?(t.length>o?(g=t.charAt(o),o++):(g=n,v===0&&$(G)),g!==n?(k=r,r=cl(g)):(o=r,r=n)):(o=r,r=n),r}function Hl(){var r,s,g,h;if(r=o,s=Bl(),s!==n){for(g=[],h=en();h!==n;)g.push(h),h=en();h=Dl(),h!==n?(k=r,r=ul(s,g,h)):(o=r,r=n)}else o=r,r=n;return r}function ql(){var r;return t.substr(o,2)===kt?(r=kt,o+=2):(r=n,v===0&&$(Ia)),r}function ye(){var r;return gr.test(t.charAt(o))?(r=t.charAt(o),o++):(r=n,v===0&&$(Ea)),r}function Ml(){var r,s,g,h;if(r=o,s=ql(),s!==n){for(g=[],h=ye();h!==n;)g.push(h),h=ye();k=r,r=fl(s,g)}else o=r,r=n;return r}function tn(){var r,s;return v++,r=Ml(),r===n&&(r=Hl()),v--,r===n&&(s=n,v===0&&$(ka)),r}function S(){var r,s;for(r=[],s=Zt(),s===n&&(s=Kt(),s===n&&(s=tn()));s!==n;)r.push(s),s=Zt(),s===n&&(s=Kt(),s===n&&(s=tn()));return r}if(he=u(),he!==n&&o===t.length)return he;throw he!==n&&o<t.length&&$(ml()),zt(we,D<t.length?t.charAt(D):null,D<t.length?ae(D,D+1):ae(D,D))}var kn=F(require("fast-xml-parser"),1),Y=F(require("he"),1),Ee=F(require("lodash/castArray.js"),1),Sn=F($n(),1);function bo(t,e,n){let m="";return t&&(m+=t),e&&(m+=` [${e}]`),n&&(m+=`/ ${n}`),m.trim()}var Ie={formatLabel:bo};var ie=F(require("lodash/castArray.js"),1);function xo(t,e){let n={id:e?`${e}.initial`:"initial"};return t.transition&&Object.assign(n,{transition:[t.transition]}),n}function $o(t){return{id:"initial",transition:[{target:t}]}}function Io(t){let e=[];return t.initial&&(typeof t.initial=="string"?e.push($o(t.initial)):e.push(xo(t.initial,t.id))),e}function In(t){return{...t,initial:Io(t),state:(0,ie.default)((t==null?void 0:t.state)??[]),parallel:(0,ie.default)((t==null?void 0:t.parallel)??[]),history:(0,ie.default)((t==null?void 0:t.history)??[]),final:(0,ie.default)((t==null?void 0:t.final)??[])}}var Eo=Ie.formatLabel;function En(t,e){return(0,Ee.default)(t[e]).map(n=>({type:e==="onexit"?"exit":"entry",body:Y.default.decode(n).trim()}))}function ko(t){return(0,Ee.default)(t).map(e=>({type:"activity",body:Y.default.decode(e.id||"").trim()||Y.default.decode(e||"").trim()}))}function So(t){let e=[];return t.onentry&&(e=e.concat(En(t,"onentry"))),t.invoke&&(e=e.concat(ko(t.invoke))),t.onexit&&(e=e.concat(En(t,"onexit"))),e}function To(t,e){return t==="history"&&e.type==="deep"?"deephistory":t}function se(t){return e=>{let n={name:e.id,type:To(t,e)};return P.getStateType(e.id)!==n.type&&(n.typeExplicitlySet=!0),(e.onentry||e.onexit||e.invoke)&&(n.actions=So(e)),Object.keys(e).some(m=>["initial","state","history","parallel","final"].includes(m))&&(n.statemachine=Tn(e)),n}}function Ao(t){let e={};return t.event&&(e.event=t.event.split(/\s+/).join(`
`)),t.cond&&(e.cond=t.cond),t["#text"]&&(e.action=Y.default.decode(t["#text"]).trim()),t.type&&(e.type=t.type),e}function wo(t){let e={};typeof t=="string"?e.action=Y.default.decode(t).trim():Object.assign(e,Ao(t));let n=Eo(e.event,e.cond,e.action);return n&&(e.label=n),e}function Oo(t){return(e,n)=>{let m=((n==null?void 0:n.target)??t.id).split(/\s+/),a=wo(n);return e.concat(m.map(u=>({from:t.id,to:u,...a})))}}function Re(t){return t.filter(e=>Object.prototype.hasOwnProperty.call(e,"transition")).reduce((e,n)=>e.concat((0,Ee.default)(n.transition).reduce(Oo(n),[])),[])}function Tn(t){let e=In(t),n={states:e.initial.map(se("initial")).concat(e.state.map(se("regular"))).concat(e.parallel.map(se("parallel"))).concat(e.history.map(se("history"))).concat(e.final.map(se("final")))},m=Re(e.initial).concat(Re(e.state)).concat(Re(e.parallel));return m.length>0&&(n.transitions=m),n}function Co(t,e){return(0,Sn.default)(t).map(function(){var m;if((m=this.key)!=null&&m.startsWith(e)){let a=this.key.slice(e.length);this.parent.keys.includes(a)?this.remove():(this.parent.node[a]=this.node,this.remove())}})}function An(t){let e=t.trim(),n="@_",m={},a=new kn.default.XMLParser({attributeNamePrefix:n,ignoreAttributes:!1,parseTagValue:!0,processEntities:!1,tagValueProcessor:(u,i)=>Y.default.decode(i),stopNodes:["*.onentry","*.onexit","*.transition"]});try{m=Co(a.parse(e,!0),n)}catch{throw new Error(`That doesn't look like valid xml ...
`)}return Tn((m==null?void 0:m.scxml)??{xmlns:"http://www.w3.org/2005/07/scxml",version:"1.0"})}var wn={$schema:"http://json-schema.org/draft-07/schema#",title:"state-machine-cat abstract syntax tree schema",$ref:"#/definitions/StateMachineType",$id:"org.js.state-machine-cat/v7.4.0",definitions:{StateType:{type:"string",enum:["regular","initial","terminate","final","parallel","history","deephistory","choice","forkjoin","fork","join","junction"]},TransitionType:{type:"string",enum:["internal","external"]},NoteType:{type:"array",items:{type:"string"}},ActionTypeType:{type:"string",enum:["entry","activity","exit"]},ActionType:{type:"object",required:["type","body"],additionalProperties:!1,properties:{type:{$ref:"#/definitions/ActionTypeType"},body:{type:"string"}}},ClassType:{type:"string",pattern:"^[a-zA-Z0-9_\\- ]*$"},StateMachineType:{type:"object",additionalProperties:!1,required:["states"],properties:{states:{type:"array",items:{type:"object",required:["name","type"],additionalProperties:!1,properties:{name:{description:"The name and identifier of the state. Unique within the root state machine.",type:"string"},type:{description:"What kind of state (or pseudo state) this state is. E.g. 'regular' for normal states or 'initial', 'final', 'choice' etc for pseudo states. Most UML (pseudo-) states are supported.",$ref:"#/definitions/StateType"},label:{description:"The display label of the state. If it's not present, most renderers will use the states' name in stead.",type:"string"},color:{description:'Color to use for rendering the state. Accepts all css color names ("blue") and hex notation - with ("#0000FF77") or without ("#0000FF") transparency.',type:"string"},class:{description:"Class name to give the state in dot and svg output.",$ref:"#/definitions/ClassType"},active:{description:"If true the state is considered to be active and rendered as such.",type:"boolean"},typeExplicitlySet:{description:"The default parser derives the `type` from the `name` with inband signaling. The user can override that behavior by explicitly setting the `type`. This attribute is there to express that (and make sure that on next parses & processing it doesn't get accidentily re-derived from the name again).",type:"boolean"},isComposite:{description:"convenience, derived attribute - set to true if there's a state machine inside the state; false in all other cases. For internal use - @deprecated",type:"boolean"},actions:{type:"array",description:"A series of actions and their types. The type describe when the action takes place (on entry, exit, or otherwise ('activity'))",items:{$ref:"#/definitions/ActionType"}},note:{description:"Comments related to this state. Some renderers will use the note attribute to render a note (i.e. as a post-it) attached to the state.",$ref:"#/definitions/NoteType"},statemachine:{description:"state machine nested within the state.",$ref:"#/definitions/StateMachineType"}}}},transitions:{type:"array",items:{type:"object",required:["from","to"],additionalProperties:!1,properties:{from:{description:"The name of the state this transition transitions from",type:"string"},to:{description:"The name of the state this transition transitions to",type:"string"},label:{description:"A display label to represent this transition. Parsers can parse this label into events conditions and actions.",type:"string"},event:{description:"Event triggering the transition",type:"string"},cond:{description:"Condition for the transition to occur.",type:"string"},action:{description:"Action to execute when the transition occurs.",type:"string"},note:{description:"Comments related to this transition",$ref:"#/definitions/NoteType"},color:{description:'Color to use for rendering the transition. Accepts all css color names ("blue") and hex notation - with ("#0000FF77") or without ("#0000FF") transparency.',type:"string"},width:{description:"The line width to use for rendering the transition",type:"number",minimum:0,maximum:30},class:{description:"Class name to give the state in dot and svg output.",$ref:"#/definitions/ClassType"},type:{description:"Whether the transition is external (default) or internal. See https://www.w3.org/TR/scxml/#transition for details.",$ref:"#/definitions/TransitionType"}}}}}}}};var On=new Cn.default;function jo(t,e){if(!On.validate(t,e))throw new Error(`The provided JSON is not a valid state-machine-cat AST: ${On.errorsText()}.
`)}var jn={getAST(t,e){let n=t;return N.getOptionValue(e,"inputType")==="smcat"?n=hn(t):N.getOptionValue(e,"inputType")==="scxml"?n=An(t):typeof t=="string"&&(n=JSON.parse(t)),jo(wn,n),n}};var Ve=F(require("lodash/cloneDeep.js"),1),Ne=F(require("lodash/reject.js"),1);function Po(t,e,n){return t?`${t}${n}${e}`:e}function _o(t,e){let n={...t,...e,from:t.from,to:e.to};return e.action&&(n.action=Po(t.action,e.action,`
`)),(n.event||n.cond||n.action)&&(n.label=Ie.formatLabel(n.event,n.cond,n.action)),n}function Fo(t,e,n){return t.reduce((m,a)=>(e.forEach((u,i)=>{u===a.to&&n[u]?m=m.concat(n[u].map(f=>_o(a,f))):m=i===0?m.concat(a):m}),m),[])}function Pn(t,e,n){let m=(0,Ve.default)(t);return m.transitions&&e.length>0&&(m.transitions=Fo(m.transitions,e,n)),m.states=m.states.map(a=>a.statemachine?{...a,statemachine:Pn(a.statemachine,e,n)}:a),m}function _n(t,e){let n=(0,Ve.default)(t);return n.transitions&&(n.transitions=(0,Ne.default)(n.transitions,m=>e.some(a=>a===m.from||a===m.to))),n.states=(0,Ne.default)(n.states,m=>e.includes(m.name)).map(m=>m.statemachine?{...m,statemachine:_n(m.statemachine,e)}:m),n}var Fn=(t,e=["fork","junction","choice"])=>{let n=new L(t),m=n.findStatesByTypes(e).map(({name:i})=>i),a=m.reduce((i,f)=>(i[f]=n.findTransitionsByFrom(f),i),{}),u=Pn(t,m,a);return _n(u,m)};var lr=F(require("lodash/has.js"),1),or=F(Bn(),1);var Jn=F(require("lodash/cloneDeep.js"),1);var Uo=[{name:"fontname",value:'"Helvetica"'},{name:"fontsize",value:"12"},{name:"penwidth",value:"2.0"}],Jo={dot:[{name:"splines",value:"true"},{name:"ordering",value:"out"},{name:"compound",value:"true"},{name:"overlap",value:"scale"},{name:"nodesep",value:"0.3"},{name:"ranksep",value:"0.1"}],fdp:[{name:"K",value:"0.9"}],osage:[{name:"pack",value:"42"}],neato:[{name:"epsilon",value:"0.9"}]},Xo={"bottom-top":[{name:"rankdir",value:"BT"}],"left-right":[{name:"rankdir",value:"LR"}],"right-left":[{name:"rankdir",value:"RL"}]},Go=[{name:"shape",value:"plaintext"},{name:"style",value:"filled"},{name:"fillcolor",value:'"#FFFFFF01"'},{name:"fontname",value:"Helvetica"},{name:"fontsize",value:12},{name:"penwidth",value:"2.0"}],Wo=[{name:"fontname",value:"Helvetica"},{name:"fontsize",value:10}];function De(t){return`${t.name}=${t.value}`}var ke={buildGraphAttributes:(t,e,n)=>Uo.concat(Jo[t]||[]).concat(Xo[e]||[]).concat(n||[]).map(De).join(" "),buildNodeAttributes:t=>Go.concat(t||[]).map(De).join(" "),buildEdgeAttributes:t=>Wo.concat(t||[]).map(De).join(" ")};var Dn=F(require("lodash/cloneDeep.js"),1);function Qo(t){return t.replace(/\\/g,"\\\\").replace(/\n\s*/g,"\\l").replace(/"/g,'\\"').concat("\\l")}function Yo(t){return t.replace(/\\/g,"\\\\").replace(/\n\s*/g,"   \\l").replace(/"/g,'\\"').concat("   \\l")}function Zo(t){let e=t||"top-down";return e==="top-down"||e==="bottom-top"}function Ko(t,e){return e.from===e.to&&t.findStateByName(e.from).statemachine&&e.type!=="internal"}var M={escapeString:Qo,escapeLabelString:Yo,isVertical:Zo,isCompositeSelf:Ko};function Hn(t){return e=>e.type===t}function He(t){return e=>t.includes(e.type)}function ei(t){let e=(0,Dn.default)(t);return e.label=t.label||t.name,e}function ti(t){return t.note?{noteName:`note_${t.name}`,...t}:t}function ni(t){let e={...t},n=["state",t.type];return t.class&&n.push(t.class.trim().replace(/[ ]{2,}/g," ")),e.class=n.join(" "),e}function ri(t){return t==="activity"?"":`${t}/ `}function ai(t){return t.actions?{...t,actionStrings:t.actions.map(e=>`${ri(e.type)}${e.body}`)}:t}function li(t){return t.note?{...t,noteFlattened:t.note.join("")}:t}function oi(t){return e=>{var m;let n=(m=(t||[]).find(a=>a.name==="color"))==null?void 0:m.value;return n&&!e.color&&He(["initial","fork","join","junction","forkjoin","final"])(e)&&(e.color=n),e}}function ii(t){return t.note?{...t,note:t.note.map(M.escapeString)}:t}function si(t){return e=>He(["fork","join","forkjoin"])(e)?{sizingExtras:M.isVertical(t)?"height=0.1":"width=0.1",...e}:e}function ci(t){return t.type==="parallel"&&t.statemachine&&t.statemachine.states&&(t.statemachine.states=t.statemachine.states.map(e=>Hn("regular")(e)?{...e,parentIsParallel:!0}:e)),t}var j={isType:Hn,isOneOfTypes:He,setLabel:ei,classifyState:ni,nameNote:ti,flattenActions:ai,flattenNote:li,recolor:oi,escapeStateStrings:ii,tipForkJoinStates:si,flagParallelChildren:ci};function ui(t){let e={...t};return e.note&&(e.note=e.note.map(M.escapeString)),e.label&&(e.label=M.escapeLabelString(e.label)),e}function fi(t){return e=>{let n={};return e.isCompositeSelf&&(M.isVertical(t)?n={tailportflags:'tailport="e" headport="e"',headportflags:'tailport="w"'}:e.hasParent?n={tailportflags:'tailport="n" headport="n"',headportflags:'tailport="s"'}:n={tailportflags:'tailport="s" headport="s"',headportflags:'tailport="n"'}),{...e,...n}}}function pi(t){let e=["transition"];return t.type&&e.push(t.type),t.class&&e.push(t.class.trim().replace(/[ ]{2,}/g," ")),t.class=e.join(" "),t}var Se={escapeTransitionStrings:ui,addPorts:fi,classifyTransition:pi};var ce=class{COUNTER=0;constructor(){this.reset()}reset(){this.COUNTER=0}next(){return++this.COUNTER}nextAsString(){return this.next().toString(10)}};var Xn=F(Un(),1);function bi(t){return e=>(Object.prototype.hasOwnProperty.call(e,"statemachine")&&(e.nestedExternalSelfTransitions=t.findExternalSelfTransitions(e.name).map(n=>n.name)),e)}function Gn(t,e,n,m){return t.filter(a=>a.statemachine).forEach(a=>{a.statemachine.states=Gn(a.statemachine.states,e,n,m)}),t.map(j.setLabel).map(j.nameNote).map(j.classifyState).map(j.escapeStateStrings).map(j.flattenNote).map(j.flattenActions).map(j.flagParallelChildren).map(j.tipForkJoinStates(e)).map(j.recolor(n)).map(bi(m))}function xi(t){return t.initialStates=t.states.filter(j.isType("initial")),t.regularStates=t.states.filter(e=>j.isType("regular")(e)&&!e.statemachine),t.historyStates=t.states.filter(j.isType("history")),t.deepHistoryStates=t.states.filter(j.isType("deephistory")),t.choiceStates=t.states.filter(j.isType("choice")),t.forkjoinStates=t.states.filter(j.isOneOfTypes(["fork","join","forkjoin"])),t.junctionStates=t.states.filter(j.isType("junction")),t.terminateStates=t.states.filter(j.isType("terminate")),t.finalStates=t.states.filter(j.isType("final")),t.compositeStates=t.states.filter(e=>e.statemachine),t}function $i(t){return e=>(t.findStateByName(e.from).statemachine&&(e.fromComposite=!0),t.findStateByName(e.to).statemachine&&(e.toComposite=!0),e)}function Ii(t){return e=>{let n={};return M.isCompositeSelf(t,e)&&(t.findStateByName(e.from).hasParent?n={hasParent:!0,isCompositeSelf:!0}:n={isCompositeSelf:!0}),{...e,...n}}}function Ei(t){return e=>(e.name=`tr_${e.from}_${e.to}_${t.nextAsString()}`,Boolean(e.note)&&(e.noteName=`note_${e.name}`),e)}function ki(t,e,n){return t.flattenedTransitions.map(Ei(n)).map(Se.escapeTransitionStrings).map(Se.classifyTransition).map(j.flattenNote).map($i(t)).map(Ii(t)).map(Se.addPorts(e))}var Te=(t,e)=>{e=e||{};let n=(0,Jn.default)(t),m=new L(n);return n.transitions=ki(m,e.direction,new ce),n.states=Gn(n.states,e.direction,e.dotNodeAttrs,m),n=xi(n),n.graphAttributes=ke.buildGraphAttributes(N.getOptionValue(e,"engine"),N.getOptionValue(e,"direction"),e.dotGraphAttrs),n.nodeAttributes=ke.buildNodeAttributes(e.dotNodeAttrs),n.edgeAttributes=ke.buildEdgeAttributes(e.dotEdgeAttrs),(0,Xn.default)(n)};var Wn=F(require("viz.js"),1);var Si={oldsvg:"svg",oldps2:"ps2",oldeps:"eps"},Ti=(t,e)=>(0,Wn.default)(Te(t,e),{engine:N.getOptionValue(e,"engine"),format:Si[N.getOptionValue(e,"outputType")]||"svg"}),ze=Ti;var Ai=/[\u0000-\u002C|\u002F|\u003B-\u0040|\u005B-\u0060|\u007B-\u00BF|\u00D7|\u00F7|\u0300-\u036F|\u037E|\u2000-\u200B|\u200E-\u206F|\u2190-\u2BFF|\u2FF0-\u3000|\uD800-\uF8FF|\uFDD0-\uFDEF|\uFFFE-\uFFFF]/g,wi=/[-|.|0-9|\u00B7|\u0300-\u036F|\u203F-\u2040]/g;function Qn(t){return t.replace(Ai,"_")}function Oi(t){let e=Qn(t);return e.match(wi)&&(e=`_${t}`),e}var Ae=t=>(t=t||"",t.length===0?"__empty":Oi(t[0]).concat(Qn(t.slice(1))));var Ci=/[\u00B7|\u0300-\u036F|\u203F-\u2040|\u0000-\u0029|\u002B-\u002C|\u002F|\u003B-\u0040|\u005B-\u0060|\u007B-\u00BF|\u00D7|\u00F7|\u0300-\u036F|\u037E|\u2000-\u200B|\u200E-\u206F|\u2190-\u2BFF|\u2FF0-\u3000|\uD800-\uF8FF|\uFDD0-\uFDEF|\uFFFE-\uFFFF]/g,ji=/[.]/g;function Yn(t){return t.replace(Ci,"_")}function Pi(t){let e=Yn(t);return e.match(ji)&&(e=`_${t}`),e}function _i(t){return t=t.replace(/\s+/g," ").trim(),Pi(t[0]).concat(Yn(t.slice(1)))}var Zn=t=>{let e=t||"";return e.length===0?"empty":e.split(/[\n\r]+/).filter(n=>n.length>0).map(_i).join(" ")};var Fi={regular:"state",initial:"initial",final:"final",terminate:"final",parallel:"parallel",history:"history",deephistory:"history"};function Ri(t){return Fi[t]||"state"}function Ni(t){let e={target:Ae(t.to)};return t.event&&(e.event=Zn(t.event)),t.cond&&(e.cond=t.cond),t.action&&(e.action=t.action),t.type&&(e.type=t.type),e}function Vi(t,e){return t.filter(n=>n.type===e).map(n=>n.body)}function Ue(t,e,n,m){let a=Vi(n,m);a.length>0&&(t[e]=(t[e]||[]).concat(a))}function Li(t,e){e.actions&&(Ue(t,"onentries",e.actions,"entry"),Ue(t,"onentries",e.actions,"activity"),Ue(t,"onexits",e.actions,"exit"))}function Bi(t,e,n){let m=n.filter(a=>a.from===e.name).map(Ni);m.length>0&&(t.transitions=m)}function Di(t,e,n){if(e.statemachine){let m=ne(e.statemachine,void 0,n);t.states=(t.states||[]).concat(m.states),m.initial&&(t.initial=m.initial)}}function Hi(t){return t=t||[],e=>{let n={kind:Ri(e.type),id:Ae(e.name)};return e.type==="deephistory"&&(n.type="deep"),Li(n,e),Bi(n,e,t),Di(n,e,t),n}}function qi(t){let e=t.states.filter(n=>n.type==="initial");if(e.length>0)return e[0].name}function Mi(t,e){let n=e;if(e&&t.transitions){let m=t.transitions.filter(a=>a.from===e);m.length>0&&!m[0].action&&(n=m[0].to)}return n}function ne(t,e,n){let m=qi(t),a=Mi(t,m),u={states:t.states.filter(i=>a&&a!==m?i.type!=="initial":!0).map(Hi(n||new L(t).flattenedTransitions))};return a&&(u.initial=Ae(a)),u}var rr=F(nr(),1),Gi=t=>(0,rr.default)(ne(t)),ar=Gi;var Wi=or.default;function We(t){let e={smcat:Wi,dot:Te,svg:ze,oldsvg:ze,scjson:ne,scxml:ar};return(0,lr.default)(e,t)?e[t]:n=>n}var ir="10.1.8";function sr(t,e){let n=jn.getAST(t,e),m=N.getOptionValue(e,"desugar");return We(N.getOptionValue(e,"outputType"))(m?Fn(n):n,e)}var cr=ir;function ur(){return N.getAllowedValues()}var Qi={render:sr,version:cr,getAllowedValues:ur};
