var yo=Object.create;var il=Object.defineProperty,po=Object.defineProperties,vo=Object.getOwnPropertyDescriptor,bo=Object.getOwnPropertyDescriptors,ko=Object.getOwnPropertyNames,rn=Object.getOwnPropertySymbols,xo=Object.getPrototypeOf,on=Object.prototype.hasOwnProperty,$o=Object.prototype.propertyIsEnumerable;var an=(e,l,n)=>l in e?il(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,T=(e,l)=>{for(var n in l||(l={}))on.call(l,n)&&an(e,n,l[n]);if(rn)for(var n of rn(l))$o.call(l,n)&&an(e,n,l[n]);return e},L=(e,l)=>po(e,bo(l)),sn=e=>il(e,"__esModule",{value:!0});var ul=(e,l)=>()=>(l||e((l={exports:{}}).exports,l),l.exports),ho=(e,l)=>{sn(e);for(var n in l)il(e,n,{get:l[n],enumerable:!0})},Po=(e,l,n)=>{if(l&&typeof l=="object"||typeof l=="function")for(let c of ko(l))!on.call(e,c)&&c!=="default"&&il(e,c,{get:()=>l[c],enumerable:!(n=vo(l,c))||n.enumerable});return e},F=e=>Po(sn(il(e!=null?yo(xo(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Fn=ul(()=>{var zl=require("handlebars/dist/handlebars.runtime"),Ko=zl.template,No=zl.templates=zl.templates||{};No["smcat.template.hbs"]=Ko({"1":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x="";return r=(t=(t=y(n,"note")||(l!=null?y(l,"note"):l))!=null?t:g,s={name:"note",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:4,column:9}}},typeof t===m?t.call(i,s):t),y(n,"note")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=(r=(y(n,"quotifyState")||l&&y(l,"quotifyState")||g).call(i,l!=null?y(l,"name"):l,{name:"quotifyState",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:5,column:0},end:{line:5,column:40}}}))!=null?r:"",r=(t=(t=y(n,"hasExtendedAttributes")||(l!=null?y(l,"hasExtendedAttributes"):l))!=null?t:g,s={name:"hasExtendedAttributes",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:4},end:{line:6,column:270}}},typeof t===m?t.call(i,s):t),y(n,"hasExtendedAttributes")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=(r=y(n,"if").call(i,l!=null?y(l,"actions"):l,{name:"if",hash:{},fn:e.program(18,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:4},end:{line:7,column:28}}}))!=null?r:"",r=(t=(t=y(n,"actions")||(l!=null?y(l,"actions"):l))!=null?t:g,s={name:"actions",hash:{},fn:e.program(20,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:28},end:{line:7,column:93}}},typeof t===m?t.call(i,s):t),y(n,"actions")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"statemachine")||(l!=null?y(l,"statemachine"):l))!=null?t:g,s={name:"statemachine",hash:{},fn:e.program(22,a,0),inverse:e.noop,data:a,loc:{start:{line:8,column:4},end:{line:10,column:19}}},typeof t===m?t.call(i,s):t),y(n,"statemachine")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+((r=y(n,"if").call(i,a&&y(a,"last"),{name:"if",hash:{},fn:e.program(24,a,0),inverse:e.program(26,a,0),data:a,loc:{start:{line:11,column:0},end:{line:11,column:30}}}))!=null?r:"")+`
`},"2":function(e,l,n,c,a){var r;return"# "+((r=e.lambda(l,l))!=null?r:"")+`
`},"4":function(e,l,n,c,a){return""},"6":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x=" [";return r=(t=(t=y(n,"typeExplicitlySet")||(l!=null?y(l,"typeExplicitlySet"):l))!=null?t:g,s={name:"typeExplicitlySet",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:32},end:{line:6,column:107}}},typeof t===m?t.call(i,s):t),y(n,"typeExplicitlySet")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"label")||(l!=null?y(l,"label"):l))!=null?t:g,s={name:"label",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:107},end:{line:6,column:142}}},typeof t===m?t.call(i,s):t),y(n,"label")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"color")||(l!=null?y(l,"color"):l))!=null?t:g,s={name:"color",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:142},end:{line:6,column:178}}},typeof t===m?t.call(i,s):t),y(n,"color")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"class")||(l!=null?y(l,"class"):l))!=null?t:g,s={name:"class",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:178},end:{line:6,column:214}}},typeof t===m?t.call(i,s):t),y(n,"class")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+((r=y(n,"if").call(i,l!=null?y(l,"active"):l,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:214},end:{line:6,column:242}}}))!=null?r:"")+"]"},"7":function(e,l,n,c,a){var r,t,s,i=e.lookupProperty||function(g,m){if(Object.prototype.hasOwnProperty.call(g,m))return g[m]};return r=(t=(t=i(n,"type")||(l!=null?i(l,"type"):l))!=null?t:e.hooks.helperMissing,s={name:"type",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:54},end:{line:6,column:85}}},typeof t=="function"?t.call(l!=null?l:e.nullContext||{},s):t),i(n,"type")||(r=e.hooks.blockHelperMissing.call(l,r,s)),r!=null?r:""},"8":function(e,l,n,c,a){var r;return"type="+((r=e.lambda(l,l))!=null?r:"")+" "},"10":function(e,l,n,c,a){var r;return'label="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"12":function(e,l,n,c,a){var r;return' color="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"14":function(e,l,n,c,a){var r;return' class="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"16":function(e,l,n,c,a){return" active"},"18":function(e,l,n,c,a){return": "},"20":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return(r=(t(n,"quotifyActions")||l&&t(l,"quotifyActions")||e.hooks.helperMissing).call(l!=null?l:e.nullContext||{},l,{name:"quotifyActions",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:40},end:{line:7,column:80}}}))!=null?r:""},"22":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return` {
`+((r=e.invokePartial(t(c,"smcat.template.hbs"),l,{name:"smcat.template.hbs",data:a,indent:"    ",helpers:n,partials:c,decorators:e.decorators}))!=null?r:"")+"}"},"24":function(e,l,n,c,a){return";"},"26":function(e,l,n,c,a){return","},"28":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x="";return r=(t=(t=y(n,"note")||(l!=null?y(l,"note"):l))!=null?t:g,s={name:"note",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:15,column:0},end:{line:17,column:9}}},typeof t===m?t.call(i,s):t),y(n,"note")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=((r=(y(n,"quotifyState")||l&&y(l,"quotifyState")||g).call(i,l!=null?y(l,"from"):l,{name:"quotifyState",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:18,column:0},end:{line:18,column:39}}}))!=null?r:"")+" => "+((r=(y(n,"quotifyState")||l&&y(l,"quotifyState")||g).call(i,l!=null?y(l,"to"):l,{name:"quotifyState",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:18,column:43},end:{line:18,column:81}}}))!=null?r:""),r=(t=(t=y(n,"hasExtendedAttributes")||(l!=null?y(l,"hasExtendedAttributes"):l))!=null?t:g,s={name:"hasExtendedAttributes",hash:{},fn:e.program(29,a,0),inverse:e.noop,data:a,loc:{start:{line:19,column:4},end:{line:19,column:130}}},typeof t===m?t.call(i,s):t),y(n,"hasExtendedAttributes")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"label")||(l!=null?y(l,"label"):l))!=null?t:g,s={name:"label",hash:{},fn:e.program(34,a,0),inverse:e.noop,data:a,loc:{start:{line:20,column:4},end:{line:20,column:62}}},typeof t===m?t.call(i,s):t),y(n,"label")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+`;
`},"29":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x=" [";return r=(t=(t=y(n,"color")||(l!=null?y(l,"color"):l))!=null?t:g,s={name:"color",hash:{},fn:e.program(30,a,0),inverse:e.noop,data:a,loc:{start:{line:19,column:32},end:{line:19,column:68}}},typeof t===m?t.call(i,s):t),y(n,"color")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"type")||(l!=null?y(l,"type"):l))!=null?t:g,s={name:"type",hash:{},fn:e.program(32,a,0),inverse:e.noop,data:a,loc:{start:{line:19,column:69},end:{line:19,column:102}}},typeof t===m?t.call(i,s):t),y(n,"type")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+"]"},"30":function(e,l,n,c,a){var r;return'color="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"32":function(e,l,n,c,a){var r;return" type="+((r=e.lambda(l,l))!=null?r:"")},"34":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return": "+((r=(t(n,"quotifyLabel")||l&&t(l,"quotifyLabel")||e.hooks.helperMissing).call(l!=null?l:e.nullContext||{},l,{name:"quotifyLabel",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:20,column:16},end:{line:20,column:52}}}))!=null?r:"")},compiler:[8,">= 4.3.0"],main:function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]},m=((r=g(n,"each").call(i,l!=null?g(l,"states"):l,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))!=null?r:"")+`
`;return r=(t=(t=g(n,"transitions")||(l!=null?g(l,"transitions"):l))!=null?t:e.hooks.helperMissing,s={name:"transitions",hash:{},fn:e.program(28,a,0),inverse:e.noop,data:a,loc:{start:{line:14,column:0},end:{line:21,column:16}}},typeof t=="function"?t.call(i,s):t),g(n,"transitions")||(r=e.hooks.blockHelperMissing.call(l,r,s)),r!=null&&(m+=r),m},usePartial:!0,useData:!0})});var Sn=ul(()=>{var Ql=require("handlebars/dist/handlebars.runtime"),Aa=Ql.template,Fa=Ql.templates=Ql.templates||{};Fa["dot.template.hbs"]=Aa({"1":function(e,l,n,c,a,r,t){var s,i,g,m=l!=null?l:e.nullContext||{},d=e.hooks.helperMissing,y="function",x=e.hooks.blockHelperMissing,$=e.lookupProperty||function(M,V){if(Object.prototype.hasOwnProperty.call(M,V))return M[V]},O="";return s=(i=(i=$(n,"noteName")||(l!=null?$(l,"noteName"):l))!=null?i:d,g={name:"noteName",hash:{},fn:e.noop,inverse:e.program(2,a,0,r,t),data:a,loc:{start:{line:9,column:2},end:{line:26,column:15}}},typeof i===y?i.call(m,g):i),$(n,"noteName")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"noteName")||(l!=null?$(l,"noteName"):l))!=null?i:d,g={name:"noteName",hash:{},fn:e.program(19,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:27,column:2},end:{line:37,column:15}}},typeof i===y?i.call(m,g):i),$(n,"noteName")||(s=x.call(l,s,g)),s!=null&&(O+=s),O},"2":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x="";return r=(t=(t=y(n,"isCompositeSelf")||(l!=null?y(l,"isCompositeSelf"):l))!=null?t:g,s={name:"isCompositeSelf",hash:{},fn:e.noop,inverse:e.program(3,a,0),data:a,loc:{start:{line:10,column:4},end:{line:16,column:24}}},typeof t===m?t.call(i,s):t),y(n,"isCompositeSelf")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"isCompositeSelf")||(l!=null?y(l,"isCompositeSelf"):l))!=null?t:g,s={name:"isCompositeSelf",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:17,column:4},end:{line:25,column:24}}},typeof t===m?t.call(i,s):t),y(n,"isCompositeSelf")||(r=d.call(l,r,s)),r!=null&&(x+=r),x},"3":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x='    "'+((r=(t=(t=y(n,"from")||(l!=null?y(l,"from"):l))!=null?t:g,typeof t===m?t.call(i,{name:"from",hash:{},data:a,loc:{start:{line:11,column:5},end:{line:11,column:15}}}):t))!=null?r:"")+'" -> "'+((r=(t=(t=y(n,"to")||(l!=null?y(l,"to"):l))!=null?t:g,typeof t===m?t.call(i,{name:"to",hash:{},data:a,loc:{start:{line:11,column:21},end:{line:11,column:29}}}):t))!=null?r:"")+'" [label="';return r=(t=(t=y(n,"label")||(l!=null?y(l,"label"):l))!=null?t:g,s={name:"label",hash:{},fn:e.noop,inverse:e.program(4,a,0),data:a,loc:{start:{line:11,column:39},end:{line:11,column:60}}},typeof t===m?t.call(i,s):t),y(n,"label")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=((r=(t=(t=y(n,"label")||(l!=null?y(l,"label"):l))!=null?t:g,typeof t===m?t.call(i,{name:"label",hash:{},data:a,loc:{start:{line:11,column:60},end:{line:11,column:71}}}):t))!=null?r:"")+'"',r=(t=(t=y(n,"fromComposite")||(l!=null?y(l,"fromComposite"):l))!=null?t:g,s={name:"fromComposite",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:28},end:{line:12,column:92}}},typeof t===m?t.call(i,s):t),y(n,"fromComposite")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"toComposite")||(l!=null?y(l,"toComposite"):l))!=null?t:g,s={name:"toComposite",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:28},end:{line:13,column:86}}},typeof t===m?t.call(i,s):t),y(n,"toComposite")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"color")||(l!=null?y(l,"color"):l))!=null?t:g,s={name:"color",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:14,column:28},end:{line:14,column:85}}},typeof t===m?t.call(i,s):t),y(n,"color")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"width")||(l!=null?y(l,"width"):l))!=null?t:g,s={name:"width",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:15,column:28},end:{line:15,column:68}}},typeof t===m?t.call(i,s):t),y(n,"width")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+' class="'+((r=(t=(t=y(n,"class")||(l!=null?y(l,"class"):l))!=null?t:g,typeof t===m?t.call(i,{name:"class",hash:{},data:a,loc:{start:{line:15,column:76},end:{line:15,column:87}}}):t))!=null?r:"")+`"]
`},"4":function(e,l,n,c,a){return" "},"6":function(e,l,n,c,a){var r,t,s=e.lookupProperty||function(i,g){if(Object.prototype.hasOwnProperty.call(i,g))return i[g]};return' ltail="cluster_'+((r=(t=(t=s(n,"from")||(l!=null?s(l,"from"):l))!=null?t:e.hooks.helperMissing,typeof t=="function"?t.call(l!=null?l:e.nullContext||{},{name:"from",hash:{},data:a,loc:{start:{line:12,column:63},end:{line:12,column:73}}}):t))!=null?r:"")+'"'},"8":function(e,l,n,c,a){var r,t,s=e.lookupProperty||function(i,g){if(Object.prototype.hasOwnProperty.call(i,g))return i[g]};return' lhead="cluster_'+((r=(t=(t=s(n,"to")||(l!=null?s(l,"to"):l))!=null?t:e.hooks.helperMissing,typeof t=="function"?t.call(l!=null?l:e.nullContext||{},{name:"to",hash:{},data:a,loc:{start:{line:13,column:61},end:{line:13,column:69}}}):t))!=null?r:"")+'"'},"10":function(e,l,n,c,a){var r,t=e.lambda;return' color="'+((r=t(l,l))!=null?r:"")+'" fontcolor="'+((r=t(l,l))!=null?r:"")+'"'},"12":function(e,l,n,c,a){var r;return' penwidth="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"14":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.hooks.blockHelperMissing,y=e.lookupProperty||function($,O){if(Object.prototype.hasOwnProperty.call($,O))return $[O]},x='      "'+((r=(t=(t=y(n,"from")||(l!=null?y(l,"from"):l))!=null?t:g,typeof t===m?t.call(i,{name:"from",hash:{},data:a,loc:{start:{line:18,column:7},end:{line:18,column:17}}}):t))!=null?r:"")+'" -> "self_'+((r=(t=(t=y(n,"name")||(l!=null?y(l,"name"):l))!=null?t:g,typeof t===m?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:18,column:28},end:{line:18,column:38}}}):t))!=null?r:"")+'" [label="';return r=(t=(t=y(n,"label")||(l!=null?y(l,"label"):l))!=null?t:g,s={name:"label",hash:{},fn:e.noop,inverse:e.program(4,a,0),data:a,loc:{start:{line:18,column:48},end:{line:18,column:69}}},typeof t===m?t.call(i,s):t),y(n,"label")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=((r=(t=(t=y(n,"label")||(l!=null?y(l,"label"):l))!=null?t:g,typeof t===m?t.call(i,{name:"label",hash:{},data:a,loc:{start:{line:18,column:69},end:{line:18,column:80}}}):t))!=null?r:"")+'" arrowhead=none',r=(t=(t=y(n,"tailportflags")||(l!=null?y(l,"tailportflags"):l))!=null?t:g,s={name:"tailportflags",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:19,column:28},end:{line:19,column:73}}},typeof t===m?t.call(i,s):t),y(n,"tailportflags")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=' ltail="cluster_'+((r=(t=(t=y(n,"from")||(l!=null?y(l,"from"):l))!=null?t:g,typeof t===m?t.call(i,{name:"from",hash:{},data:a,loc:{start:{line:19,column:89},end:{line:19,column:99}}}):t))!=null?r:"")+'"',r=(t=(t=y(n,"color")||(l!=null?y(l,"color"):l))!=null?t:g,s={name:"color",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:20,column:28},end:{line:20,column:85}}},typeof t===m?t.call(i,s):t),y(n,"color")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+=' class="'+((r=(t=(t=y(n,"class")||(l!=null?y(l,"class"):l))!=null?t:g,typeof t===m?t.call(i,{name:"class",hash:{},data:a,loc:{start:{line:20,column:93},end:{line:20,column:104}}}):t))!=null?r:"")+`"]
      "self_`+((r=(t=(t=y(n,"name")||(l!=null?y(l,"name"):l))!=null?t:g,typeof t===m?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:21,column:12},end:{line:21,column:22}}}):t))!=null?r:"")+'" -> "'+((r=(t=(t=y(n,"from")||(l!=null?y(l,"from"):l))!=null?t:g,typeof t===m?t.call(i,{name:"from",hash:{},data:a,loc:{start:{line:21,column:28},end:{line:21,column:38}}}):t))!=null?r:"")+'" [lhead="cluster_'+((r=(t=(t=y(n,"from")||(l!=null?y(l,"from"):l))!=null?t:g,typeof t===m?t.call(i,{name:"from",hash:{},data:a,loc:{start:{line:21,column:56},end:{line:21,column:66}}}):t))!=null?r:"")+'"',r=(t=(t=y(n,"headportflags")||(l!=null?y(l,"headportflags"):l))!=null?t:g,s={name:"headportflags",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:22,column:28},end:{line:22,column:73}}},typeof t===m?t.call(i,s):t),y(n,"headportflags")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"color")||(l!=null?y(l,"color"):l))!=null?t:g,s={name:"color",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:23,column:28},end:{line:23,column:65}}},typeof t===m?t.call(i,s):t),y(n,"color")||(r=d.call(l,r,s)),r!=null&&(x+=r),r=(t=(t=y(n,"width")||(l!=null?y(l,"width"):l))!=null?t:g,s={name:"width",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:28},end:{line:24,column:68}}},typeof t===m?t.call(i,s):t),y(n,"width")||(r=d.call(l,r,s)),r!=null&&(x+=r),x+' class="'+((r=(t=(t=y(n,"class")||(l!=null?y(l,"class"):l))!=null?t:g,typeof t===m?t.call(i,{name:"class",hash:{},data:a,loc:{start:{line:24,column:76},end:{line:24,column:87}}}):t))!=null?r:"")+`"]
`},"15":function(e,l,n,c,a){var r;return" "+((r=e.lambda(l,l))!=null?r:"")},"17":function(e,l,n,c,a){var r;return' color="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"19":function(e,l,n,c,a,r,t){var s,i=e.lambda,g=e.hooks.blockHelperMissing,m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'      "i_'+((s=i(l,l))!=null?s:"")+`" [shape=point style=invis margin=0 width=0 height=0 fixedsize=true]
      "`+((s=i(t[1]!=null?m(t[1],"from"):t[1],l))!=null?s:"")+'" -> "i_'+((s=i(l,l))!=null?s:"")+'" [arrowhead=none'+((s=g.call(l,i(t[1]!=null?m(t[1],"fromComposite"):t[1],l),{name:"../fromComposite",hash:{},fn:e.program(20,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:30,column:32},end:{line:30,column:105}}}))!=null?s:"")+((s=g.call(l,i(t[1]!=null?m(t[1],"color"):t[1],l),{name:"../color",hash:{},fn:e.program(17,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:31,column:32},end:{line:31,column:75}}}))!=null?s:"")+`]
      "i_`+((s=i(l,l))!=null?s:"")+'" -> "'+((s=i(t[1]!=null?m(t[1],"to"):t[1],l))!=null?s:"")+'" [label="'+((s=g.call(l,i(t[1]!=null?m(t[1],"label"):t[1],l),{name:"../label",hash:{},fn:e.noop,inverse:e.program(4,a,0,r,t),data:a,loc:{start:{line:32,column:43},end:{line:32,column:70}}}))!=null?s:"")+((s=i(t[1]!=null?m(t[1],"label"):t[1],l))!=null?s:"")+'"'+((s=g.call(l,i(t[1]!=null?m(t[1],"toComposite"):t[1],l),{name:"../toComposite",hash:{},fn:e.program(22,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:33,column:32},end:{line:33,column:99}}}))!=null?s:"")+((s=g.call(l,i(t[1]!=null?m(t[1],"color"):t[1],l),{name:"../color",hash:{},fn:e.program(10,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:34,column:32},end:{line:34,column:95}}}))!=null?s:"")+`]
      "i_`+((s=i(l,l))!=null?s:"")+'" -> "'+((s=i(l,l))!=null?s:"")+`" [style=dashed arrowtail=none arrowhead=none weight=0]
      "`+((s=i(l,l))!=null?s:"")+'" [label="'+((s=i(t[1]!=null?m(t[1],"noteFlattened"):t[1],l))!=null?s:"")+`" shape=note fontsize=10 color=black fontcolor=black fillcolor="#ffffcc" penwidth=1.0]
`},"20":function(e,l,n,c,a,r,t){var s,i=e.lookupProperty||function(g,m){if(Object.prototype.hasOwnProperty.call(g,m))return g[m]};return' ltail="cluster_'+((s=e.lambda(t[1]!=null?i(t[1],"from"):t[1],l))!=null?s:"")+'"'},"22":function(e,l,n,c,a,r,t){var s,i=e.lookupProperty||function(g,m){if(Object.prototype.hasOwnProperty.call(g,m))return g[m]};return' lhead="cluster_'+((s=e.lambda(t[1]!=null?i(t[1],"to"):t[1],l))!=null?s:"")+'"'},compiler:[8,">= 4.3.0"],main:function(e,l,n,c,a,r,t){var s,i,g,m=l!=null?l:e.nullContext||{},d=e.hooks.helperMissing,y="function",x=e.lookupProperty||function(O,M){if(Object.prototype.hasOwnProperty.call(O,M))return O[M]},$=`digraph "state transitions" {
  `+((s=(i=(i=x(n,"graphAttributes")||(l!=null?x(l,"graphAttributes"):l))!=null?i:d,typeof i===y?i.call(m,{name:"graphAttributes",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:23}}}):i))!=null?s:"")+`
  node [`+((s=(i=(i=x(n,"nodeAttributes")||(l!=null?x(l,"nodeAttributes"):l))!=null?i:d,typeof i===y?i.call(m,{name:"nodeAttributes",hash:{},data:a,loc:{start:{line:3,column:8},end:{line:3,column:28}}}):i))!=null?s:"")+`]
  edge [`+((s=(i=(i=x(n,"edgeAttributes")||(l!=null?x(l,"edgeAttributes"):l))!=null?i:d,typeof i===y?i.call(m,{name:"edgeAttributes",hash:{},data:a,loc:{start:{line:4,column:8},end:{line:4,column:28}}}):i))!=null?s:"")+`]

`+((s=e.invokePartial(x(c,"dot.states.template.hbs"),l,{name:"dot.states.template.hbs",data:a,indent:"  ",helpers:n,partials:c,decorators:e.decorators}))!=null?s:"")+`
`;return s=(i=(i=x(n,"transitions")||(l!=null?x(l,"transitions"):l))!=null?i:d,g={name:"transitions",hash:{},fn:e.program(1,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:8,column:2},end:{line:38,column:18}}},typeof i===y?i.call(m,g):i),x(n,"transitions")||(s=e.hooks.blockHelperMissing.call(l,s,g)),s!=null&&($+=s),$+`}
`},usePartial:!0,useData:!0,useDepths:!0})});var Hn=ul(()=>{var Wl=require("handlebars/dist/handlebars.runtime"),Ta=Wl.template,Ra=Wl.templates=Wl.templates||{};Ra["dot.states.template.hbs"]=Ta({"1":function(e,l,n,c,a){var r,t,s,i=e.lookupProperty||function(m,d){if(Object.prototype.hasOwnProperty.call(m,d))return m[d]},g="";return r=(t=(t=i(n,"nestedExternalSelfTransitions")||(l!=null?i(l,"nestedExternalSelfTransitions"):l))!=null?t:e.hooks.helperMissing,s={name:"nestedExternalSelfTransitions",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:4,column:36}}},typeof t=="function"?t.call(l!=null?l:e.nullContext||{},s):t),i(n,"nestedExternalSelfTransitions")||(r=e.hooks.blockHelperMissing.call(l,r,s)),r!=null&&(g+=r),g},"2":function(e,l,n,c,a){var r;return'  "self_'+((r=e.lambda(l,l))!=null?r:"")+`" [shape=point style=invis width=0 height=0 fixedsize=true]
`},"4":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'  "'+((r=(t=(t=m(n,"name")||(l!=null?m(l,"name"):l))!=null?t:i,typeof t===g?t.call(s,{name:"name",hash:{},data:a,loc:{start:{line:7,column:3},end:{line:7,column:13}}}):t))!=null?r:"")+'" [shape=circle style=filled class="'+((r=(t=(t=m(n,"class")||(l!=null?m(l,"class"):l))!=null?t:i,typeof t===g?t.call(s,{name:"class",hash:{},data:a,loc:{start:{line:7,column:49},end:{line:7,column:60}}}):t))!=null?r:"")+'" '+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:7,column:62},end:{line:7,column:150}}}))!=null?r:"")+((r=m(n,"if").call(s,l!=null?m(l,"active"):l,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:150},end:{line:7,column:184}}}))!=null?r:"")+`fixedsize=true height=0.15 label=""]
`},"5":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'color="'+((r=(t=(t=m(n,"color")||(l!=null?m(l,"color"):l))!=null?t:i,typeof t===g?t.call(s,{name:"color",hash:{},data:a,loc:{start:{line:7,column:82},end:{line:7,column:93}}}):t))!=null?r:"")+'" fillcolor="'+((r=(t=(t=m(n,"color")||(l!=null?m(l,"color"):l))!=null?t:i,typeof t===g?t.call(s,{name:"color",hash:{},data:a,loc:{start:{line:7,column:106},end:{line:7,column:117}}}):t))!=null?r:"")+'" '},"7":function(e,l,n,c,a){return"fillcolor=black "},"9":function(e,l,n,c,a){return"penwidth=3.0 "},"11":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.lookupProperty||function(x,$){if(Object.prototype.hasOwnProperty.call(x,$))return x[$]},y='  "'+((r=(t=(t=d(n,"name")||(l!=null?d(l,"name"):l))!=null?t:g,typeof t===m?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:10,column:3},end:{line:10,column:13}}}):t))!=null?r:"")+'" [margin=0 class="'+((r=(t=(t=d(n,"class")||(l!=null?d(l,"class"):l))!=null?t:g,typeof t===m?t.call(i,{name:"class",hash:{},data:a,loc:{start:{line:10,column:32},end:{line:10,column:43}}}):t))!=null?r:"")+'" '+((r=d(n,"if").call(i,l!=null?d(l,"color"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:45},end:{line:10,column:85}}}))!=null?r:"")+((r=d(n,"if").call(i,l!=null?d(l,"active"):l,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:85},end:{line:10,column:134}}}))!=null?r:"")+`label= < 
    <table align="center" cellborder="0" border="2" style="rounded" width="48">
      <tr><td width="48"`+((r=d(n,"if").call(i,l!=null?d(l,"actions"):l,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.program(18,a,0),data:a,loc:{start:{line:12,column:24},end:{line:12,column:86}}}))!=null?r:"")+">"+((r=d(n,"if").call(i,l!=null?d(l,"active"):l,{name:"if",hash:{},fn:e.program(20,a,0),inverse:e.program(22,a,0),data:a,loc:{start:{line:12,column:87},end:{line:12,column:141}}}))!=null?r:"")+`</td></tr>
`;return r=(t=(t=d(n,"actions")||(l!=null?d(l,"actions"):l))!=null?t:g,s={name:"actions",hash:{},fn:e.program(24,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:6},end:{line:16,column:18}}},typeof t===m?t.call(i,s):t),d(n,"actions")||(r=e.hooks.blockHelperMissing.call(l,r,s)),r!=null&&(y+=r),y+`    </table>
  >]
`},"12":function(e,l,n,c,a){var r,t,s=e.lookupProperty||function(i,g){if(Object.prototype.hasOwnProperty.call(i,g))return i[g]};return'color="'+((r=(t=(t=s(n,"color")||(l!=null?s(l,"color"):l))!=null?t:e.hooks.helperMissing,typeof t=="function"?t.call(l!=null?l:e.nullContext||{},{name:"color",hash:{},data:a,loc:{start:{line:10,column:65},end:{line:10,column:76}}}):t))!=null?r:"")+'" '},"14":function(e,l,n,c,a){return"peripheries=1 style=rounded "},"16":function(e,l,n,c,a){return' cellpadding="2"'},"18":function(e,l,n,c,a){return' cellpadding="7"'},"20":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return"<i>"+e.escapeExpression((r=(r=t(n,"label")||(l!=null?t(l,"label"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"label",hash:{},data:a,loc:{start:{line:12,column:104},end:{line:12,column:113}}}):r))+"</i>"},"22":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return e.escapeExpression((r=(r=t(n,"label")||(l!=null?t(l,"label"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"label",hash:{},data:a,loc:{start:{line:12,column:125},end:{line:12,column:134}}}):r))},"24":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return"        "+((r=t(n,"if").call(l!=null?l:e.nullContext||{},a&&t(a,"first"),{name:"if",hash:{},fn:e.program(25,a,0),inverse:e.noop,data:a,loc:{start:{line:14,column:8},end:{line:14,column:34}}}))!=null?r:"")+`
        <tr><td align="left" cellpadding="2">`+e.escapeExpression(e.lambda(l,l))+`</td></tr>
`},"25":function(e,l,n,c,a){return"<hr/>"},"27":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'  "'+((r=(t=(t=m(n,"name")||(l!=null?m(l,"name"):l))!=null?t:i,typeof t===g?t.call(s,{name:"name",hash:{},data:a,loc:{start:{line:21,column:3},end:{line:21,column:13}}}):t))!=null?r:"")+'" [shape=circle class="'+((r=(t=(t=m(n,"class")||(l!=null?m(l,"class"):l))!=null?t:i,typeof t===g?t.call(s,{name:"class",hash:{},data:a,loc:{start:{line:21,column:36},end:{line:21,column:47}}}):t))!=null?r:"")+'" '+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:49},end:{line:21,column:89}}}))!=null?r:"")+((r=m(n,"if").call(s,l!=null?m(l,"active"):l,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:89},end:{line:21,column:123}}}))!=null?r:"")+`label="H"]
`},"29":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'  "'+((r=(t=(t=m(n,"name")||(l!=null?m(l,"name"):l))!=null?t:i,typeof t===g?t.call(s,{name:"name",hash:{},data:a,loc:{start:{line:24,column:3},end:{line:24,column:13}}}):t))!=null?r:"")+'" [shape=circle class="'+((r=(t=(t=m(n,"class")||(l!=null?m(l,"class"):l))!=null?t:i,typeof t===g?t.call(s,{name:"class",hash:{},data:a,loc:{start:{line:24,column:36},end:{line:24,column:47}}}):t))!=null?r:"")+'" '+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:49},end:{line:24,column:89}}}))!=null?r:"")+((r=m(n,"if").call(s,l!=null?m(l,"active"):l,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:89},end:{line:24,column:123}}}))!=null?r:"")+`label="H*"]
`},"31":function(e,l,n,c,a,r,t){var s,i,g,m=l!=null?l:e.nullContext||{},d=e.hooks.helperMissing,y="function",x=e.hooks.blockHelperMissing,$=e.lookupProperty||function(M,V){if(Object.prototype.hasOwnProperty.call(M,V))return M[V]},O='  "'+((s=(i=(i=$(n,"name")||(l!=null?$(l,"name"):l))!=null?i:d,typeof i===y?i.call(m,{name:"name",hash:{},data:a,loc:{start:{line:27,column:3},end:{line:27,column:13}}}):i))!=null?s:"")+'" [shape=diamond fixedsize=true width=0.35 height=0.35 fontsize=10 class="'+((s=(i=(i=$(n,"class")||(l!=null?$(l,"class"):l))!=null?i:d,typeof i===y?i.call(m,{name:"class",hash:{},data:a,loc:{start:{line:27,column:87},end:{line:27,column:98}}}):i))!=null?s:"")+'" '+((s=$(n,"if").call(m,l!=null?$(l,"color"):l,{name:"if",hash:{},fn:e.program(12,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:27,column:100},end:{line:27,column:140}}}))!=null?s:"")+((s=$(n,"if").call(m,l!=null?$(l,"active"):l,{name:"if",hash:{},fn:e.program(9,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:27,column:140},end:{line:27,column:174}}}))!=null?s:"")+`label=" "]
  "`+((s=(i=(i=$(n,"name")||(l!=null?$(l,"name"):l))!=null?i:d,typeof i===y?i.call(m,{name:"name",hash:{},data:a,loc:{start:{line:28,column:3},end:{line:28,column:13}}}):i))!=null?s:"")+'" -> "'+((s=(i=(i=$(n,"name")||(l!=null?$(l,"name"):l))!=null?i:d,typeof i===y?i.call(m,{name:"name",hash:{},data:a,loc:{start:{line:28,column:19},end:{line:28,column:29}}}):i))!=null?s:"")+'" [label=<';return s=(i=(i=$(n,"actions")||(l!=null?$(l,"actions"):l))!=null?i:d,g={name:"actions",hash:{},fn:e.program(32,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:28,column:39},end:{line:28,column:144}}},typeof i===y?i.call(m,g):i),$(n,"actions")||(s=x.call(l,s,g)),s!=null&&(O+=s),O+='> color="#FFFFFF01"',s=(i=(i=$(n,"color")||(l!=null?$(l,"color"):l))!=null?i:d,g={name:"color",hash:{},fn:e.program(41,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:28,column:163},end:{line:28,column:203}}},typeof i===y?i.call(m,g):i),$(n,"color")||(s=x.call(l,s,g)),s!=null&&(O+=s),O+' class="'+((s=(i=(i=$(n,"class")||(l!=null?$(l,"class"):l))!=null?i:d,typeof i===y?i.call(m,{name:"class",hash:{},data:a,loc:{start:{line:28,column:211},end:{line:28,column:222}}}):i))!=null?s:"")+`"];
`},"32":function(e,l,n,c,a,r,t){var s,i=l!=null?l:e.nullContext||{},g=e.lookupProperty||function(m,d){if(Object.prototype.hasOwnProperty.call(m,d))return m[d]};return((s=g(n,"if").call(i,a&&g(a,"first"),{name:"if",hash:{},fn:e.program(33,a,0,r,t),inverse:e.program(35,a,0,r,t),data:a,loc:{start:{line:28,column:51},end:{line:28,column:82}}}))!=null?s:"")+((s=g(n,"if").call(i,t[1]!=null?g(t[1],"active"):t[1],{name:"if",hash:{},fn:e.program(37,a,0,r,t),inverse:e.program(39,a,0,r,t),data:a,loc:{start:{line:28,column:82},end:{line:28,column:131}}}))!=null?s:"")},"33":function(e,l,n,c,a){return""},"35":function(e,l,n,c,a){return"\\n"},"37":function(e,l,n,c,a){return"<i>"+e.escapeExpression(e.lambda(l,l))+"</i>"},"39":function(e,l,n,c,a){return e.escapeExpression(e.lambda(l,l))},"41":function(e,l,n,c,a){var r;return' fontcolor="'+((r=e.lambda(l,l))!=null?r:"")+'"'},"43":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'  "'+((r=(t=(t=m(n,"name")||(l!=null?m(l,"name"):l))!=null?t:i,typeof t===g?t.call(s,{name:"name",hash:{},data:a,loc:{start:{line:31,column:3},end:{line:31,column:13}}}):t))!=null?r:"")+'" [shape=rect class="'+((r=(t=(t=m(n,"class")||(l!=null?m(l,"class"):l))!=null?t:i,typeof t===g?t.call(s,{name:"class",hash:{},data:a,loc:{start:{line:31,column:34},end:{line:31,column:45}}}):t))!=null?r:"")+'" '+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:31,column:47},end:{line:31,column:135}}}))!=null?r:"")+((r=m(n,"if").call(s,l!=null?m(l,"active"):l,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:31,column:135},end:{line:31,column:169}}}))!=null?r:"")+'label=" " fixedsize=true style=filled '+((r=(t=(t=m(n,"sizingExtras")||(l!=null?m(l,"sizingExtras"):l))!=null?t:i,typeof t===g?t.call(s,{name:"sizingExtras",hash:{},data:a,loc:{start:{line:31,column:207},end:{line:31,column:225}}}):t))!=null?r:"")+`]
`},"45":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'  "'+((r=(t=(t=m(n,"name")||(l!=null?m(l,"name"):l))!=null?t:i,typeof t===g?t.call(s,{name:"name",hash:{},data:a,loc:{start:{line:37,column:3},end:{line:37,column:13}}}):t))!=null?r:"")+`" [label= < 
      <table align="center" cellborder="0" border="0">
        <tr><td cellpadding="0"><font `+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:39,column:38},end:{line:39,column:78}}}))!=null?r:"")+`point-size="20">X</font></td></tr>
        <tr><td cellpadding="0"><font `+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(46,a,0),inverse:e.noop,data:a,loc:{start:{line:40,column:38},end:{line:40,column:77}}}))!=null?r:"")+">"+e.escapeExpression((t=(t=m(n,"label")||(l!=null?m(l,"label"):l))!=null?t:i,typeof t===g?t.call(s,{name:"label",hash:{},data:a,loc:{start:{line:40,column:78},end:{line:40,column:87}}}):t))+`</font></td></tr>
      </table>
    > class="`+((r=(t=(t=m(n,"class")||(l!=null?m(l,"class"):l))!=null?t:i,typeof t===g?t.call(s,{name:"class",hash:{},data:a,loc:{start:{line:42,column:13},end:{line:42,column:24}}}):t))!=null?r:"")+`"]
`},"46":function(e,l,n,c,a){var r,t,s=e.lookupProperty||function(i,g){if(Object.prototype.hasOwnProperty.call(i,g))return i[g]};return'color="'+((r=(t=(t=s(n,"color")||(l!=null?s(l,"color"):l))!=null?t:e.hooks.helperMissing,typeof t=="function"?t.call(l!=null?l:e.nullContext||{},{name:"color",hash:{},data:a,loc:{start:{line:40,column:58},end:{line:40,column:69}}}):t))!=null?r:"")+'"'},"48":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.lookupProperty||function(d,y){if(Object.prototype.hasOwnProperty.call(d,y))return d[y]};return'  "'+((r=(t=(t=m(n,"name")||(l!=null?m(l,"name"):l))!=null?t:i,typeof t===g?t.call(s,{name:"name",hash:{},data:a,loc:{start:{line:45,column:3},end:{line:45,column:13}}}):t))!=null?r:"")+'" [shape=circle style=filled class="'+((r=(t=(t=m(n,"class")||(l!=null?m(l,"class"):l))!=null?t:i,typeof t===g?t.call(s,{name:"class",hash:{},data:a,loc:{start:{line:45,column:49},end:{line:45,column:60}}}):t))!=null?r:"")+'" '+((r=m(n,"if").call(s,l!=null?m(l,"color"):l,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:45,column:62},end:{line:45,column:150}}}))!=null?r:"")+"fixedsize=true height=0.15 peripheries=2 "+((r=m(n,"if").call(s,l!=null?m(l,"active"):l,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:45,column:191},end:{line:45,column:225}}}))!=null?r:"")+`label=""]
`},"50":function(e,l,n,c,a){var r,t,s,i=l!=null?l:e.nullContext||{},g=e.hooks.helperMissing,m="function",d=e.lookupProperty||function(x,$){if(Object.prototype.hasOwnProperty.call(x,$))return x[$]},y='  subgraph "cluster_'+((r=(t=(t=d(n,"name")||(l!=null?d(l,"name"):l))!=null?t:g,typeof t===m?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:48,column:20},end:{line:48,column:30}}}):t))!=null?r:"")+`" {
    class="`+((r=(t=(t=d(n,"class")||(l!=null?d(l,"class"):l))!=null?t:g,typeof t===m?t.call(i,{name:"class",hash:{},data:a,loc:{start:{line:49,column:11},end:{line:49,column:22}}}):t))!=null?r:"")+'" '+((r=d(n,"if").call(i,l!=null?d(l,"color"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:49,column:24},end:{line:49,column:64}}}))!=null?r:"")+`label= <
    <table cellborder="0" border="0">
      <tr><td>`+((r=d(n,"if").call(i,l!=null?d(l,"active"):l,{name:"if",hash:{},fn:e.program(20,a,0),inverse:e.program(22,a,0),data:a,loc:{start:{line:51,column:14},end:{line:51,column:68}}}))!=null?r:"")+`</td></tr>
`;return r=(t=(t=d(n,"actions")||(l!=null?d(l,"actions"):l))!=null?t:g,s={name:"actions",hash:{},fn:e.program(51,a,0),inverse:e.noop,data:a,loc:{start:{line:52,column:6},end:{line:55,column:18}}},typeof t===m?t.call(i,s):t),d(n,"actions")||(r=e.hooks.blockHelperMissing.call(l,r,s)),r!=null&&(y+=r),y+`    </table>
    > `+((r=d(n,"if").call(i,l!=null?d(l,"parentIsParallel"):l,{name:"if",hash:{},fn:e.program(53,a,0),inverse:e.program(55,a,0),data:a,loc:{start:{line:57,column:6},end:{line:57,column:137}}}))!=null?r:"")+`
    "`+((r=(t=(t=d(n,"name")||(l!=null?d(l,"name"):l))!=null?t:g,typeof t===m?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:58,column:5},end:{line:58,column:15}}}):t))!=null?r:"")+`" [shape=point style=invis margin=0 width=0 height=0 fixedsize=true]
    `+((r=(d(n,"stateSection")||l&&d(l,"stateSection")||g).call(i,l!=null?d(l,"statemachine"):l,{name:"stateSection",hash:{},fn:e.program(33,a,0),inverse:e.noop,data:a,loc:{start:{line:59,column:4},end:{line:59,column:51}}}))!=null?r:"")+`
  }
`},"51":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return"        "+((r=t(n,"if").call(l!=null?l:e.nullContext||{},a&&t(a,"first"),{name:"if",hash:{},fn:e.program(25,a,0),inverse:e.noop,data:a,loc:{start:{line:53,column:8},end:{line:53,column:34}}}))!=null?r:"")+`
        <tr><td align="left">`+e.escapeExpression(e.lambda(l,l))+`</td></tr>
`},"53":function(e,l,n,c,a){return'style="dashed" penwidth=1'},"55":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return"style=rounded "+((r=t(n,"if").call(l!=null?l:e.nullContext||{},l!=null?t(l,"active"):l,{name:"if",hash:{},fn:e.program(56,a,0),inverse:e.program(58,a,0),data:a,loc:{start:{line:57,column:77},end:{line:57,column:130}}}))!=null?r:"")},"56":function(e,l,n,c,a){return"penwidth=3.0"},"58":function(e,l,n,c,a){return"penwidth=2.0"},"60":function(e,l,n,c,a,r,t){var s,i,g,m=e.lookupProperty||function(y,x){if(Object.prototype.hasOwnProperty.call(y,x))return y[x]},d="";return s=(i=(i=m(n,"noteName")||(l!=null?m(l,"noteName"):l))!=null?i:e.hooks.helperMissing,g={name:"noteName",hash:{},fn:e.program(61,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:63,column:4},end:{line:66,column:17}}},typeof i=="function"?i.call(l!=null?l:e.nullContext||{},g):i),m(n,"noteName")||(s=e.hooks.blockHelperMissing.call(l,s,g)),s!=null&&(d+=s),d},"61":function(e,l,n,c,a,r,t){var s,i=e.lambda,g=e.lookupProperty||function(m,d){if(Object.prototype.hasOwnProperty.call(m,d))return m[d]};return'    "'+((s=i(l,l))!=null?s:"")+'" [color=black fontcolor=black label="'+((s=i(t[1]!=null?g(t[1],"noteFlattened"):t[1],l))!=null?s:"")+`" shape=note fontsize=10 fillcolor="#ffffcc" penwidth=1.0]
    "`+((s=i(t[1]!=null?g(t[1],"name"):t[1],l))!=null?s:"")+'" -> "'+((s=i(l,l))!=null?s:"")+`" [style=dashed arrowtail=none arrowhead=none]
`},compiler:[8,">= 4.3.0"],main:function(e,l,n,c,a,r,t){var s,i,g,m=l!=null?l:e.nullContext||{},d=e.hooks.helperMissing,y="function",x=e.hooks.blockHelperMissing,$=e.lookupProperty||function(M,V){if(Object.prototype.hasOwnProperty.call(M,V))return M[V]},O="";return s=(i=(i=$(n,"compositeStates")||(l!=null?$(l,"compositeStates"):l))!=null?i:d,g={name:"compositeStates",hash:{},fn:e.program(1,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:5,column:20}}},typeof i===y?i.call(m,g):i),$(n,"compositeStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"initialStates")||(l!=null?$(l,"initialStates"):l))!=null?i:d,g={name:"initialStates",hash:{},fn:e.program(4,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:6,column:0},end:{line:8,column:18}}},typeof i===y?i.call(m,g):i),$(n,"initialStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"regularStates")||(l!=null?$(l,"regularStates"):l))!=null?i:d,g={name:"regularStates",hash:{},fn:e.program(11,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:9,column:0},end:{line:19,column:18}}},typeof i===y?i.call(m,g):i),$(n,"regularStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"historyStates")||(l!=null?$(l,"historyStates"):l))!=null?i:d,g={name:"historyStates",hash:{},fn:e.program(27,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:20,column:0},end:{line:22,column:18}}},typeof i===y?i.call(m,g):i),$(n,"historyStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"deepHistoryStates")||(l!=null?$(l,"deepHistoryStates"):l))!=null?i:d,g={name:"deepHistoryStates",hash:{},fn:e.program(29,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:23,column:0},end:{line:25,column:22}}},typeof i===y?i.call(m,g):i),$(n,"deepHistoryStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"choiceStates")||(l!=null?$(l,"choiceStates"):l))!=null?i:d,g={name:"choiceStates",hash:{},fn:e.program(31,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:26,column:0},end:{line:29,column:17}}},typeof i===y?i.call(m,g):i),$(n,"choiceStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"forkjoinStates")||(l!=null?$(l,"forkjoinStates"):l))!=null?i:d,g={name:"forkjoinStates",hash:{},fn:e.program(43,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:30,column:0},end:{line:32,column:19}}},typeof i===y?i.call(m,g):i),$(n,"forkjoinStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"junctionStates")||(l!=null?$(l,"junctionStates"):l))!=null?i:d,g={name:"junctionStates",hash:{},fn:e.program(4,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:33,column:0},end:{line:35,column:19}}},typeof i===y?i.call(m,g):i),$(n,"junctionStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"terminateStates")||(l!=null?$(l,"terminateStates"):l))!=null?i:d,g={name:"terminateStates",hash:{},fn:e.program(45,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:36,column:0},end:{line:43,column:20}}},typeof i===y?i.call(m,g):i),$(n,"terminateStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"finalStates")||(l!=null?$(l,"finalStates"):l))!=null?i:d,g={name:"finalStates",hash:{},fn:e.program(48,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:44,column:0},end:{line:46,column:16}}},typeof i===y?i.call(m,g):i),$(n,"finalStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"compositeStates")||(l!=null?$(l,"compositeStates"):l))!=null?i:d,g={name:"compositeStates",hash:{},fn:e.program(50,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:47,column:0},end:{line:61,column:20}}},typeof i===y?i.call(m,g):i),$(n,"compositeStates")||(s=x.call(l,s,g)),s!=null&&(O+=s),s=(i=(i=$(n,"states")||(l!=null?$(l,"states"):l))!=null?i:d,g={name:"states",hash:{},fn:e.program(60,a,0,r,t),inverse:e.noop,data:a,loc:{start:{line:62,column:0},end:{line:67,column:11}}},typeof i===y?i.call(m,g):i),$(n,"states")||(s=x.call(l,s,g)),s!=null&&(O+=s),O},useData:!0,useDepths:!0})});var Xn=ul(()=>{var Kl=require("handlebars/dist/handlebars.runtime"),ts=Kl.template,rs=Kl.templates=Kl.templates||{};rs["scxml.template.hbs"]=ts({"1":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return'initial="'+e.escapeExpression((r=(r=t(n,"initial")||(l!=null?t(l,"initial"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"initial",hash:{},data:a,loc:{start:{line:2,column:71},end:{line:2,column:82}}}):r))+'" '},compiler:[8,">= 4.3.0"],main:function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return`<?xml version="1.0" encoding="UTF-8"?>
<scxml xmlns="http://www.w3.org/2005/07/scxml" `+((r=t(n,"if").call(l!=null?l:e.nullContext||{},l!=null?t(l,"initial"):l,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:47},end:{line:2,column:91}}}))!=null?r:"")+`version="1.0">
`+((r=e.invokePartial(t(c,"scxml.states.template.hbs"),l,{name:"scxml.states.template.hbs",data:a,helpers:n,partials:c,decorators:e.decorators}))!=null?r:"")+`</scxml>
`},usePartial:!0,useData:!0})});var Jn=ul(()=>{var Nl=require("handlebars/dist/handlebars.runtime"),os=Nl.template,as=Nl.templates=Nl.templates||{};as["scxml.states.template.hbs"]=os({"1":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.escapeExpression,d=e.lookupProperty||function(y,x){if(Object.prototype.hasOwnProperty.call(y,x))return y[x]};return"    <"+m((t=(t=d(n,"kind")||(l!=null?d(l,"kind"):l))!=null?t:i,typeof t===g?t.call(s,{name:"kind",hash:{},data:a,loc:{start:{line:2,column:5},end:{line:2,column:13}}}):t))+' id="'+m((t=(t=d(n,"id")||(l!=null?d(l,"id"):l))!=null?t:i,typeof t===g?t.call(s,{name:"id",hash:{},data:a,loc:{start:{line:2,column:18},end:{line:2,column:24}}}):t))+'"'+((r=d(n,"if").call(s,l!=null?d(l,"initial"):l,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:25},end:{line:2,column:69}}}))!=null?r:"")+((r=d(n,"if").call(s,l!=null?d(l,"type"):l,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:69},end:{line:2,column:104}}}))!=null?r:"")+`>
`+((r=e.invokePartial(d(c,"scxml.states.template.hbs"),l,{name:"scxml.states.template.hbs",data:a,indent:"    ",helpers:n,partials:c,decorators:e.decorators}))!=null?r:"")+((r=d(n,"each").call(s,l!=null?d(l,"onentries"):l,{name:"each",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:4},end:{line:6,column:13}}}))!=null?r:"")+((r=d(n,"each").call(s,l!=null?d(l,"onexits"):l,{name:"each",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:4},end:{line:9,column:13}}}))!=null?r:"")+((r=d(n,"each").call(s,l!=null?d(l,"transitions"):l,{name:"each",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:4},end:{line:18,column:13}}}))!=null?r:"")+"    </"+m((t=(t=d(n,"kind")||(l!=null?d(l,"kind"):l))!=null?t:i,typeof t===g?t.call(s,{name:"kind",hash:{},data:a,loc:{start:{line:19,column:6},end:{line:19,column:14}}}):t))+`>
`},"2":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return' initial="'+e.escapeExpression((r=(r=t(n,"initial")||(l!=null?t(l,"initial"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"initial",hash:{},data:a,loc:{start:{line:2,column:50},end:{line:2,column:61}}}):r))+'"'},"4":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return' type="'+e.escapeExpression((r=(r=t(n,"type")||(l!=null?t(l,"type"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"type",hash:{},data:a,loc:{start:{line:2,column:88},end:{line:2,column:96}}}):r))+'"'},"6":function(e,l,n,c,a){return"        <onentry>"+e.escapeExpression(e.lambda(l,l))+`</onentry>
`},"8":function(e,l,n,c,a){return"        <onexit>"+e.escapeExpression(e.lambda(l,l))+`</onexit>
`},"10":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return(r=t(n,"if").call(l!=null?l:e.nullContext||{},l!=null?t(l,"action"):l,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.program(18,a,0),data:a,loc:{start:{line:11,column:8},end:{line:17,column:15}}}))!=null?r:""},"11":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.hooks.helperMissing,g="function",m=e.escapeExpression,d=e.lookupProperty||function(y,x){if(Object.prototype.hasOwnProperty.call(y,x))return y[x]};return"        <transition "+((r=d(n,"if").call(s,l!=null?d(l,"event"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:20},end:{line:12,column:58}}}))!=null?r:"")+((r=d(n,"if").call(s,l!=null?d(l,"cond"):l,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:58},end:{line:12,column:93}}}))!=null?r:"")+((r=d(n,"if").call(s,l!=null?d(l,"type"):l,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:93},end:{line:12,column:128}}}))!=null?r:"")+'target="'+m((t=(t=d(n,"target")||(l!=null?d(l,"target"):l))!=null?t:i,typeof t===g?t.call(s,{name:"target",hash:{},data:a,loc:{start:{line:12,column:136},end:{line:12,column:146}}}):t))+`">
            `+m((t=(t=d(n,"action")||(l!=null?d(l,"action"):l))!=null?t:i,typeof t===g?t.call(s,{name:"action",hash:{},data:a,loc:{start:{line:13,column:12},end:{line:13,column:22}}}):t))+`
        </transition>
`},"12":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return'event="'+e.escapeExpression((r=(r=t(n,"event")||(l!=null?t(l,"event"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"event",hash:{},data:a,loc:{start:{line:12,column:40},end:{line:12,column:49}}}):r))+'" '},"14":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return'cond="'+e.escapeExpression((r=(r=t(n,"cond")||(l!=null?t(l,"cond"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"cond",hash:{},data:a,loc:{start:{line:12,column:76},end:{line:12,column:84}}}):r))+'" '},"16":function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return'type="'+e.escapeExpression((r=(r=t(n,"type")||(l!=null?t(l,"type"):l))!=null?r:e.hooks.helperMissing,typeof r=="function"?r.call(l!=null?l:e.nullContext||{},{name:"type",hash:{},data:a,loc:{start:{line:12,column:111},end:{line:12,column:119}}}):r))+'" '},"18":function(e,l,n,c,a){var r,t,s=l!=null?l:e.nullContext||{},i=e.lookupProperty||function(g,m){if(Object.prototype.hasOwnProperty.call(g,m))return g[m]};return"        <transition "+((r=i(n,"if").call(s,l!=null?i(l,"event"):l,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:16,column:20},end:{line:16,column:58}}}))!=null?r:"")+((r=i(n,"if").call(s,l!=null?i(l,"cond"):l,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:16,column:58},end:{line:16,column:93}}}))!=null?r:"")+((r=i(n,"if").call(s,l!=null?i(l,"type"):l,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a,loc:{start:{line:16,column:93},end:{line:16,column:128}}}))!=null?r:"")+'target="'+e.escapeExpression((t=(t=i(n,"target")||(l!=null?i(l,"target"):l))!=null?t:e.hooks.helperMissing,typeof t=="function"?t.call(s,{name:"target",hash:{},data:a,loc:{start:{line:16,column:136},end:{line:16,column:146}}}):t))+`"/>
`},compiler:[8,">= 4.3.0"],main:function(e,l,n,c,a){var r,t=e.lookupProperty||function(s,i){if(Object.prototype.hasOwnProperty.call(s,i))return s[i]};return(r=t(n,"each").call(l!=null?l:e.nullContext||{},l!=null?t(l,"states"):l,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:20,column:9}}}))!=null?r:""},usePartial:!0,useData:!0})});ho(exports,{default:()=>ss});var Bl=F(require("lodash.get")),un=Object.freeze({inputType:{default:"smcat",values:[{name:"smcat"},{name:"json"},{name:"scxml"}]},outputType:{default:"svg",values:[{name:"svg"},{name:"eps"},{name:"ps"},{name:"ps2"},{name:"dot"},{name:"smcat"},{name:"json"},{name:"ast"},{name:"scxml"},{name:"oldsvg"},{name:"oldps2"},{name:"oldeps"},{name:"scjson"}]},engine:{default:"dot",values:[{name:"dot"},{name:"circo"},{name:"fdp"},{name:"neato"},{name:"osage"},{name:"twopi"}]},direction:{default:"top-down",values:[{name:"top-down"},{name:"bottom-top"},{name:"left-right"},{name:"right-left"}]},desugar:{default:!1,values:[{name:!0},{name:!1}]}});function jo(e,l){return(0,Bl.default)(e,l,(0,Bl.default)(un,`${l}.default`))}function wo(){return un}var H={getAllowedValues:wo,getOptionValue:jo};var wn=F(require("ajv"));function fn(e,l=!1){let n=[];return e.filter(c=>Boolean(c.statemachine)).forEach(c=>{Object.prototype.hasOwnProperty.call(c.statemachine,"states")&&(n=n.concat(fn(c.statemachine.states,!0)))}),n.concat(e.map(c=>({name:c.name,type:c.type,statemachine:Boolean(c.statemachine),hasParent:l})))}function cn(e){let l=[];return Object.prototype.hasOwnProperty.call(e,"transitions")&&(l=e.transitions),Object.prototype.hasOwnProperty.call(e,"states")&&e.states.filter(n=>Boolean(n.statemachine)).forEach(n=>{l=l.concat(cn(n.statemachine))}),l}var q=class{constructor(l){this._flattenedStates=fn(l.states||[]),this._flattenedTransitions=cn(l)}get flattenedTransitions(){return this._flattenedTransitions}findStateByName(l){return this._flattenedStates.find(n=>n.name===l)}findStatesByTypes(l){return this._flattenedStates.filter(n=>l.includes(n.type))}findExternalSelfTransitions(l){return this._flattenedTransitions.filter(n=>n.from===l&&n.to===l&&n.type!=="internal")}findTransitionsByFrom(l){return this._flattenedTransitions.filter(n=>n.from===l)}findTransitionsByTo(l){return this._flattenedTransitions.filter(n=>n.to===l)}};var Oo="^(entry|activity|exit)\\s*/\\s*([^\\n$]*)(\\n|$)",_o=new RegExp(Oo);function mn(e,l){return e.includes(l)}var Co=[{re:/initial/,stateType:"initial"},{re:/final/,stateType:"final"},{re:/parallel/,stateType:"parallel"},{re:/(deep.*history)|(history.*deep)/,stateType:"deephistory"},{re:/history/,stateType:"history"},{re:/^\^.*/,stateType:"choice"},{re:/^].*/,stateType:"forkjoin"}];function Eo(e){return l=>l.re.test(e)}function gn(e){return(Co.find(Eo(e))||{stateType:"regular"}).stateType}function Ml(e){return{name:e,type:gn(e)}}function yn(e){return Boolean(e.statemachine)}function pn(e){let l=e.states||[];return l.filter(yn).reduce((n,c)=>n.concat(pn(c.statemachine)),l.map(n=>n.name))}function vn(e,l){l=l||pn(e),e.states=e.states||[];let n=e.transitions||[];return e.states.filter(yn).forEach(c=>{c.statemachine.states=vn(c.statemachine,l)}),n.forEach(c=>{mn(l,c.from)||(l.push(c.from),e.states.push(Ml(c.from))),mn(l,c.to)||(l.push(c.to),e.states.push(Ml(c.to)))}),e.states}function Ao(e,l){let n="junction";return e<=1&&l>1&&(n="fork"),e>1&&l<=1&&(n="join"),n}function bn(e,l=new q(e)){return e.states=e.states.map(n=>{if(n.type==="forkjoin"&&!n.typeExplicitlySet){let c=l.findTransitionsByTo(n.name).length,a=l.findTransitionsByFrom(n.name).length;n.type=Ao(c,a)}return n.statemachine&&(n.statemachine=bn(n.statemachine,l)),n}),e}function Fo(e,l){return e.name===l.name}function To(e,l){return e.reduce((n,c)=>{let a=n.findIndex(r=>l(r,c));return a>-1?(n[a]=c,n):n.concat(c)},[])}function Ro(e){let l=/([^[/]+)?(\[[^\]]+\])?[^/]*(\/.+)?/,n={},c=e.match(l),a=1,r=2,t=3;return c[a]&&(n.event=c[a].trim()),c[r]&&(n.cond=c[r].slice(1,-1).trim()),c[t]&&(n.action=c[t].slice(1,c[t].length).trim()),n}function dn(e,l,n,c=a=>a){c(n)&&(e[l]=n)}function Bo(e,l,n){dn(e,l,n,c=>c&&c.length>0)}function Mo(e){let l=e.match(_o),n=1,c=2;return l?{type:l[n],body:l[c]}:{type:"activity",body:e}}function So(e){return e.split(/\n\s*/g).map(l=>l.trim()).map(Mo)}var B={initState:Ml,extractUndeclaredStates:vn,classifyForkJoins:bn,getStateType:gn,stateEqual:Fo,uniq:To,parseTransitionExpression:Ro,extractActions:So,setIf:dn,setIfNotEmpty:Bo};function Ho(e,l){function n(){this.constructor=e}n.prototype=l.prototype,e.prototype=new n}function Y(e,l,n,c){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,Y.prototype),a.expected=l,a.found=n,a.location=c,a.name="SyntaxError",a}Ho(Y,Error);function Sl(e,l,n){return n=n||" ",e.length>l?e:(l-=e.length,n+=n.repeat(l),e+n.slice(0,l))}Y.prototype.format=function(e){var l="Error: "+this.message;if(this.location){var n=null,c;for(c=0;c<e.length;c++)if(e[c].source===this.location.source){n=e[c].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,r=this.location.source+":"+a.line+":"+a.column;if(n){var t=this.location.end,s=Sl("",a.line.toString().length),i=n[a.line-1],g=a.line===t.line?t.column:i.length+1;l+=`
 --> `+r+`
`+s+` |
`+a.line+" | "+i+`
`+s+" | "+Sl("",a.column-1)+Sl("",g-a.column,"^")}else l+=`
 at `+r}return l};Y.buildMessage=function(e,l){var n={literal:function(g){return'"'+a(g.text)+'"'},class:function(g){var m=g.parts.map(function(d){return Array.isArray(d)?r(d[0])+"-"+r(d[1]):r(d)});return"["+(g.inverted?"^":"")+m+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function c(g){return g.charCodeAt(0).toString(16).toUpperCase()}function a(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+c(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+c(m)})}function r(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+c(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+c(m)})}function t(g){return n[g.type](g)}function s(g){var m=g.map(t),d,y;if(m.sort(),m.length>0){for(d=1,y=1;d<m.length;d++)m[d-1]!==m[d]&&(m[y]=m[d],y++);m.length=y}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function i(g){return g?'"'+a(g)+'"':"end of input"}return"Expected "+s(e)+" but "+i(l)+" found."};function kn(e,l){l=l!==void 0?l:{};var n={},c=l.grammarSource,a={program:Xe},r=Xe,t=",",s=";",i="[",g="]",m=":",d="{",y="}",x="=",$="label",O="color",M="class",V="active",ee="type",ne="regular",te="initial",re="terminate",oe="final",ae="parallel",se="history",ie="deephistory",ue="choice",fe="forkjoin",ce="fork",me="join",ge="junction",Zn="width",ye="external",pe="internal",ve="->",be="=>>",de="=>",ke=">>",xe=":>",$e="--",he="==",Pe="<-",je="<<=",we="<=",Oe="<<",_e="<:",Kn="#",Nn=".",G='"',yl='\\"',Ce="/*",pl="*/",Ee="//",Ae=/^[0-9]/,Fe=/^[a-zA-Z0-9_\- ]/,Te=/^[^;, "\t\n\r=\-><:{[]/,lt=/^[ \t]/,et=/^[\r\n]/,nt=/^[^\r\n]/,tt=A("statemachine"),vl=_(",",!1),K=_(";",!1),rt=A("state"),Re=_("[",!1),Be=_("]",!1),Me=_(":",!1),tl=_("{",!1),ot=_("}",!1),at=A("extended state attributes"),st=A("extended state attribute"),J=_("=",!1),it=A("state attribute name"),ut=_("label",!0),Se=_("color",!0),ft=A("class attribute"),ct=_("class",!0),mt=A("state flag"),gt=_("active",!0),yt=A("state type"),He=_("type",!0),pt=A("state type type"),vt=_("regular",!1),bt=_("initial",!1),dt=_("terminate",!1),kt=_("final",!1),xt=_("parallel",!1),$t=_("history",!1),ht=_("deephistory",!1),Pt=_("choice",!1),jt=_("forkjoin",!1),wt=_("fork",!1),Ot=_("join",!1),_t=_("junction",!1),Ct=A("transition"),Et=A("extended transition attributes"),At=A("extended transition attribute"),Ft=A("transition attribute name"),Tt=A("transition type name"),Rt=A("numeric transition attribute name"),Bt=_("width",!0),Mt=A("transition type value"),St=_("external",!1),Ht=_("internal",!1),It=A("left to right arrow"),Vt=_("->",!1),Dt=_("=>>",!1),Lt=_("=>",!1),qt=_(">>",!1),zt=_(":>",!1),Ut=_("--",!1),Gt=_("==",!1),Xt=A("right to left arrow"),Jt=_("<-",!1),Qt=_("<<=",!1),Wt=_("<=",!1),Yt=_("<<",!1),Zt=_("<:",!1),Kt=_("#",!1),Nt=_(".",!1),Ie=ll([["0","9"]],!1,!1),lr=A("double quoted string"),X=_('"',!1),Ve=_('\\"',!1),Q=Mr(),er=A("valid class string"),De=ll([["a","z"],["A","Z"],["0","9"],"_","-"," "],!1,!1),nr=A("identifier"),Le=ll([";",","," ",'"',"	",`
`,"\r","=","-",">","<",":","{","["],!0,!1),tr=A("whitespace"),rr=ll([" ","	"],!1,!1),or=A("line end"),ar=ll(["\r",`
`],!1,!1),sr=_("/*",!1),qe=_("*/",!1),ir=_("//",!1),ur=ll(["\r",`
`],!0,!1),fr=A("comment"),cr=function(o){return o.states=B.extractUndeclaredStates(o),B.classifyForkJoins(o)},mr=function(o,f){let v={};return B.setIf(v,"states",o),B.setIfNotEmpty(v,"transitions",f),v},Cl=function(o){return o},gr=function(o){return B.uniq(o[0].concat(o[1]),B.stateEqual)},yr=function(o,f,v){return v},pr=function(o,f,v,p){return p},vr=function(o,f,v,p,h){return h},br=function(o,f,v,p,h){let w=B.initState(f);return(v||[]).forEach(C=>B.setIf(w,C.name,C.value)),B.setIf(w,"typeExplicitlySet",(v||[]).some(C=>C.typeExplicitlySet)),B.setIf(w,"statemachine",h),B.setIfNotEmpty(w,"note",o),Boolean(p)&&B.setIfNotEmpty(w,"actions",B.extractActions(p)),w},rl=function(o,f){return{name:o,value:f}},dr=function(o,f){return{name:o,value:f}},kr=function(o){return{name:o,value:!0}},xr=function(o,f){return{name:o,value:f,typeExplicitlySet:!0}},N=function(o){return o.toLowerCase()},$r=function(o,f,v){return v},hr=function(o,f,v,p){return p},Pr=function(o,f,v,p){return p&&(f.label=p,f=Object.assign(f,B.parseTransitionExpression(p))),(v||[]).forEach(h=>B.setIf(f,h.name,h.value)),B.setIfNotEmpty(f,"note",o),f},jr=function(o,f){return{from:o,to:f}},wr=function(o,f){return{from:f,to:o}},Or=function(o){return o},_r=function(o){return o.join("").trim()},Cr=function(o){return parseFloat(o.join(""))},Er=function(o){return parseInt(o.join(""),10)},Ar=function(o){return o.join("").replace(/\\\"/g,'"')},I=function(o){return o},Fr=function(o){return o.join("")},ze=function(o){return o.join("").trim()},Tr=function(o){return o.join("")},Rr=function(o,f,v){return o+f.join("")+v},Br=function(o,f){return o+f.join("")},u=0,P=0,bl=[{line:1,column:1}],D=0,El=[],b=0,dl;if("startRule"in l){if(!(l.startRule in a))throw new Error(`Can't start parsing from rule "`+l.startRule+'".');r=a[l.startRule]}function is(){return e.substring(P,u)}function us(){return P}function fs(){return{source:c,start:P,end:u}}function cs(){return ol(P,u)}function ms(o,f){throw f=f!==void 0?f:ol(P,u),Ge([A(o)],e.substring(P,u),f)}function gs(o,f){throw f=f!==void 0?f:ol(P,u),Hr(o,f)}function _(o,f){return{type:"literal",text:o,ignoreCase:f}}function ll(o,f,v){return{type:"class",parts:o,inverted:f,ignoreCase:v}}function Mr(){return{type:"any"}}function Sr(){return{type:"end"}}function A(o){return{type:"other",description:o}}function Ue(o){var f=bl[o],v;if(f)return f;for(v=o-1;!bl[v];)v--;for(f=bl[v],f={line:f.line,column:f.column};v<o;)e.charCodeAt(v)===10?(f.line++,f.column=1):f.column++,v++;return bl[o]=f,f}function ol(o,f){var v=Ue(o),p=Ue(f);return{source:c,start:{offset:o,line:v.line,column:v.column},end:{offset:f,line:p.line,column:p.column}}}function k(o){u<D||(u>D&&(D=u,El=[]),El.push(o))}function Hr(o,f){return new Y(o,null,null,f)}function Ge(o,f,v){return new Y(Y.buildMessage(o,f),o,f,v)}function Xe(){var o,f,v,p;return o=u,f=j(),v=Je(),p=j(),P=o,o=cr(v),o}function Je(){var o,f,v,p;for(b++,o=u,f=Ir(),f===n&&(f=null),v=[],p=Ye();p!==n;)v.push(p),p=Ye();return P=o,o=mr(f,v),b--,f=n,b===0&&k(tt),o}function Ir(){var o,f,v,p,h,w;for(o=u,f=u,v=[],p=u,h=Al(),h!==n?(e.charCodeAt(u)===44?(w=t,u++):(w=n,b===0&&k(vl)),w!==n?(P=p,p=Cl(h)):(u=p,p=n)):(u=p,p=n);p!==n;)v.push(p),p=u,h=Al(),h!==n?(e.charCodeAt(u)===44?(w=t,u++):(w=n,b===0&&k(vl)),w!==n?(P=p,p=Cl(h)):(u=p,p=n)):(u=p,p=n);return p=u,h=Al(),h!==n?(e.charCodeAt(u)===59?(w=s,u++):(w=n,b===0&&k(K)),w!==n?(P=p,p=Cl(h)):(u=p,p=n)):(u=p,p=n),p!==n?(v=[v,p],f=v):(u=f,f=n),f!==n&&(P=o,f=gr(f)),o=f,o}function Al(){var o,f,v,p,h,w,C,E,z,S,W,tn,Tl,go,Rl;for(b++,o=u,f=[],v=kl();v!==n;)f.push(v),v=kl();return v=j(),p=sl(),p!==n?(h=j(),w=u,e.charCodeAt(u)===91?(C=i,u++):(C=n,b===0&&k(Re)),C!==n?(E=Vr(),e.charCodeAt(u)===93?(z=g,u++):(z=n,b===0&&k(Be)),z!==n?(P=w,w=yr(f,p,E)):(u=w,w=n)):(u=w,w=n),w===n&&(w=null),C=j(),E=u,e.charCodeAt(u)===58?(z=m,u++):(z=n,b===0&&k(Me)),z!==n?(S=j(),W=eo(),W!==n?(tn=j(),P=E,E=pr(f,p,w,W)):(u=E,E=n)):(u=E,E=n),E===n&&(E=null),z=j(),S=u,e.charCodeAt(u)===123?(W=d,u++):(W=n,b===0&&k(tl)),W!==n?(tn=j(),Tl=Je(),Tl!==n?(go=j(),e.charCodeAt(u)===125?(Rl=y,u++):(Rl=n,b===0&&k(ot)),Rl!==n?(P=S,S=vr(f,p,w,E,Tl)):(u=S,S=n)):(u=S,S=n)):(u=S,S=n),S===n&&(S=null),W=j(),P=o,o=br(f,p,w,E,S)):(u=o,o=n),b--,o===n&&(f=n,b===0&&k(rt)),o}function Vr(){var o,f;for(b++,o=[],f=Qe();f!==n;)o.push(f),f=Qe();return b--,f=n,b===0&&k(at),o}function Qe(){var o,f,v,p,h,w,C,E;return b++,o=u,f=j(),v=Dr(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=al(),C!==n?(E=j(),P=o,o=rl(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n),o===n&&(o=u,f=j(),v=We(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=Ke(),C!==n?(E=j(),P=o,o=dr(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n),o===n&&(o=u,f=j(),v=Lr(),v!==n?(p=j(),P=o,o=kr(v)):(u=o,o=n),o===n&&(o=u,f=j(),v=qr(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=zr(),C!==n?(E=j(),P=o,o=xr(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n)))),b--,o===n&&(f=n,b===0&&k(st)),o}function Dr(){var o,f;return b++,o=u,e.substr(u,5).toLowerCase()===$?(f=e.substr(u,5),u+=5):(f=n,b===0&&k(ut)),f===n&&(e.substr(u,5).toLowerCase()===O?(f=e.substr(u,5),u+=5):(f=n,b===0&&k(Se))),f!==n&&(P=o,f=N(f)),o=f,b--,o===n&&(f=n,b===0&&k(it)),o}function We(){var o,f;return b++,o=u,e.substr(u,5).toLowerCase()===M?(f=e.substr(u,5),u+=5):(f=n,b===0&&k(ct)),f!==n&&(P=o,f=N(f)),o=f,b--,o===n&&(f=n,b===0&&k(ft)),o}function Lr(){var o,f;return b++,o=u,e.substr(u,6).toLowerCase()===V?(f=e.substr(u,6),u+=6):(f=n,b===0&&k(gt)),f!==n&&(P=o,f=N(f)),o=f,b--,o===n&&(f=n,b===0&&k(mt)),o}function qr(){var o,f;return b++,o=u,e.substr(u,4).toLowerCase()===ee?(f=e.substr(u,4),u+=4):(f=n,b===0&&k(He)),f!==n&&(P=o,f=N(f)),o=f,b--,o===n&&(f=n,b===0&&k(yt)),o}function zr(){var o,f;return b++,e.substr(u,7)===ne?(o=ne,u+=7):(o=n,b===0&&k(vt)),o===n&&(e.substr(u,7)===te?(o=te,u+=7):(o=n,b===0&&k(bt)),o===n&&(e.substr(u,9)===re?(o=re,u+=9):(o=n,b===0&&k(dt)),o===n&&(e.substr(u,5)===oe?(o=oe,u+=5):(o=n,b===0&&k(kt)),o===n&&(e.substr(u,8)===ae?(o=ae,u+=8):(o=n,b===0&&k(xt)),o===n&&(e.substr(u,7)===se?(o=se,u+=7):(o=n,b===0&&k($t)),o===n&&(e.substr(u,11)===ie?(o=ie,u+=11):(o=n,b===0&&k(ht)),o===n&&(e.substr(u,6)===ue?(o=ue,u+=6):(o=n,b===0&&k(Pt)),o===n&&(e.substr(u,8)===fe?(o=fe,u+=8):(o=n,b===0&&k(jt)),o===n&&(e.substr(u,4)===ce?(o=ce,u+=4):(o=n,b===0&&k(wt)),o===n&&(e.substr(u,4)===me?(o=me,u+=4):(o=n,b===0&&k(Ot)),o===n&&(e.substr(u,8)===ge?(o=ge,u+=8):(o=n,b===0&&k(_t))))))))))))),b--,o===n&&(f=n,b===0&&k(pt)),o}function Ye(){var o,f,v,p,h,w,C,E,z;for(b++,o=u,f=[],v=kl();v!==n;)f.push(v),v=kl();return v=Ur(),v!==n?(p=u,e.charCodeAt(u)===91?(h=i,u++):(h=n,b===0&&k(Re)),h!==n?(w=Gr(),e.charCodeAt(u)===93?(C=g,u++):(C=n,b===0&&k(Be)),C!==n?(E=j(),P=p,p=$r(f,v,w)):(u=p,p=n)):(u=p,p=n),p===n&&(p=null),h=u,e.charCodeAt(u)===58?(w=m,u++):(w=n,b===0&&k(Me)),w!==n?(C=j(),E=lo(),E!==n?(z=j(),P=h,h=hr(f,v,p,E)):(u=h,h=n)):(u=h,h=n),h===n&&(h=null),e.charCodeAt(u)===59?(w=s,u++):(w=n,b===0&&k(K)),w!==n?(P=o,o=Pr(f,v,p,h)):(u=o,o=n)):(u=o,o=n),b--,o===n&&(f=n,b===0&&k(Ct)),o}function Ur(){var o,f,v,p,h,w,C,E;return o=u,f=j(),v=sl(),v!==n?(p=j(),h=Yr(),h!==n?(w=j(),C=sl(),C!==n?(E=j(),P=o,o=jr(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n),o===n&&(o=u,f=j(),v=sl(),v!==n?(p=j(),h=Zr(),h!==n?(w=j(),C=sl(),C!==n?(E=j(),P=o,o=wr(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n)),o}function Gr(){var o,f;for(b++,o=[],f=Ze();f!==n;)o.push(f),f=Ze();return b--,f=n,b===0&&k(Et),o}function Ze(){var o,f,v,p,h,w,C,E;return b++,o=u,f=j(),v=Xr(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=al(),C!==n?(E=j(),P=o,o=rl(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n),o===n&&(o=u,f=j(),v=We(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=Ke(),C!==n?(E=j(),P=o,o=rl(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n),o===n&&(o=u,f=j(),v=Jr(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=Wr(),C!==n?(E=j(),P=o,o=rl(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n),o===n&&(o=u,f=j(),v=Qr(),v!==n?(p=j(),e.charCodeAt(u)===61?(h=x,u++):(h=n,b===0&&k(J)),h!==n?(w=j(),C=Kr(),C!==n?(E=j(),P=o,o=rl(v,C)):(u=o,o=n)):(u=o,o=n)):(u=o,o=n)))),b--,o===n&&(f=n,b===0&&k(At)),o}function Xr(){var o,f;return b++,o=u,e.substr(u,5).toLowerCase()===O?(f=e.substr(u,5),u+=5):(f=n,b===0&&k(Se)),f!==n&&(P=o,f=N(f)),o=f,b--,o===n&&(f=n,b===0&&k(Ft)),o}function Jr(){var o,f;return b++,o=u,e.substr(u,4).toLowerCase()===ee?(f=e.substr(u,4),u+=4):(f=n,b===0&&k(He)),f!==n&&(P=o,f=N(f)),o=f,b--,o===n&&(f=n,b===0&&k(Tt)),o}function Qr(){var o,f;return b++,o=u,e.substr(u,5).toLowerCase()===Zn?(f=e.substr(u,5),u+=5):(f=n,b===0&&k(Bt)),f!==n&&(P=o,f=Or(f)),o=f,b--,o===n&&(f=n,b===0&&k(Rt)),o}function Wr(){var o,f;return b++,e.substr(u,8)===ye?(o=ye,u+=8):(o=n,b===0&&k(St)),o===n&&(e.substr(u,8)===pe?(o=pe,u+=8):(o=n,b===0&&k(Ht))),b--,o===n&&(f=n,b===0&&k(Mt)),o}function Yr(){var o,f;return b++,e.substr(u,2)===ve?(o=ve,u+=2):(o=n,b===0&&k(Vt)),o===n&&(e.substr(u,3)===be?(o=be,u+=3):(o=n,b===0&&k(Dt)),o===n&&(e.substr(u,2)===de?(o=de,u+=2):(o=n,b===0&&k(Lt)),o===n&&(e.substr(u,2)===ke?(o=ke,u+=2):(o=n,b===0&&k(qt)),o===n&&(e.substr(u,2)===xe?(o=xe,u+=2):(o=n,b===0&&k(zt)),o===n&&(e.substr(u,2)===$e?(o=$e,u+=2):(o=n,b===0&&k(Ut)),o===n&&(e.substr(u,2)===he?(o=he,u+=2):(o=n,b===0&&k(Gt)))))))),b--,o===n&&(f=n,b===0&&k(It)),o}function Zr(){var o,f;return b++,e.substr(u,2)===Pe?(o=Pe,u+=2):(o=n,b===0&&k(Jt)),o===n&&(e.substr(u,3)===je?(o=je,u+=3):(o=n,b===0&&k(Qt)),o===n&&(e.substr(u,2)===we?(o=we,u+=2):(o=n,b===0&&k(Wt)),o===n&&(e.substr(u,2)===Oe?(o=Oe,u+=2):(o=n,b===0&&k(Yt)),o===n&&(e.substr(u,2)===_e?(o=_e,u+=2):(o=n,b===0&&k(Zt)))))),b--,o===n&&(f=n,b===0&&k(Xt)),o}function kl(){var o,f,v,p,h;if(o=u,f=j(),e.charCodeAt(u)===35?(v=Kn,u++):(v=n,b===0&&k(Kt)),v!==n){for(p=[],h=xl();h!==n;)p.push(h),h=xl();P=o,o=_r(p)}else u=o,o=n;return o}function Kr(){var o;return o=Nr(),o===n&&(o=Fl()),o}function Nr(){var o,f,v,p,h;return o=u,f=u,v=Fl(),v!==n?(e.charCodeAt(u)===46?(p=Nn,u++):(p=n,b===0&&k(Nt)),p!==n?(h=Fl(),h!==n?(v=[v,p,h],f=v):(u=f,f=n)):(u=f,f=n)):(u=f,f=n),f!==n&&(P=o,f=Cr(f)),o=f,o}function Fl(){var o,f,v;if(o=u,f=[],Ae.test(e.charAt(u))?(v=e.charAt(u),u++):(v=n,b===0&&k(Ie)),v!==n)for(;v!==n;)f.push(v),Ae.test(e.charAt(u))?(v=e.charAt(u),u++):(v=n,b===0&&k(Ie));else f=n;return f!==n&&(P=o,f=Er(f)),o=f,o}function lo(){var o;return o=al(),o===n&&(o=ro()),o}function eo(){var o;return o=al(),o===n&&(o=oo()),o}function al(){var o,f,v,p;return b++,o=u,e.charCodeAt(u)===34?(f=G,u++):(f=n,b===0&&k(X)),f!==n?(v=no(),e.charCodeAt(u)===34?(p=G,u++):(p=n,b===0&&k(X)),p!==n?(P=o,o=Ar(v)):(u=o,o=n)):(u=o,o=n),b--,o===n&&(f=n,b===0&&k(lr)),o}function no(){var o,f,v,p;for(o=[],f=u,v=u,b++,e.charCodeAt(u)===34?(p=G,u++):(p=n,b===0&&k(X)),b--,p===n?v=void 0:(u=v,v=n),v!==n?(e.substr(u,2)===yl?(p=yl,u+=2):(p=n,b===0&&k(Ve)),p===n&&(e.length>u?(p=e.charAt(u),u++):(p=n,b===0&&k(Q))),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);f!==n;)o.push(f),f=u,v=u,b++,e.charCodeAt(u)===34?(p=G,u++):(p=n,b===0&&k(X)),b--,p===n?v=void 0:(u=v,v=n),v!==n?(e.substr(u,2)===yl?(p=yl,u+=2):(p=n,b===0&&k(Ve)),p===n&&(e.length>u?(p=e.charAt(u),u++):(p=n,b===0&&k(Q))),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);return o}function Ke(){var o,f,v,p;return b++,o=u,e.charCodeAt(u)===34?(f=G,u++):(f=n,b===0&&k(X)),f!==n?(v=to(),e.charCodeAt(u)===34?(p=G,u++):(p=n,b===0&&k(X)),p!==n?(P=o,o=Fr(v)):(u=o,o=n)):(u=o,o=n),b--,o===n&&(f=n,b===0&&k(er)),o}function to(){var o,f,v,p;for(o=[],f=u,v=u,b++,e.charCodeAt(u)===34?(p=G,u++):(p=n,b===0&&k(X)),b--,p===n?v=void 0:(u=v,v=n),v!==n?(Fe.test(e.charAt(u))?(p=e.charAt(u),u++):(p=n,b===0&&k(De)),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);f!==n;)o.push(f),f=u,v=u,b++,e.charCodeAt(u)===34?(p=G,u++):(p=n,b===0&&k(X)),b--,p===n?v=void 0:(u=v,v=n),v!==n?(Fe.test(e.charAt(u))?(p=e.charAt(u),u++):(p=n,b===0&&k(De)),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);return o}function ro(){var o,f;return o=u,f=so(),P=o,f=ze(f),o=f,o}function oo(){var o,f;return o=u,f=ao(),P=o,f=ze(f),o=f,o}function ao(){var o,f,v,p;for(o=[],f=u,v=u,b++,e.charCodeAt(u)===44?(p=t,u++):(p=n,b===0&&k(vl)),p===n&&(e.charCodeAt(u)===59?(p=s,u++):(p=n,b===0&&k(K)),p===n&&(e.charCodeAt(u)===123?(p=d,u++):(p=n,b===0&&k(tl)))),b--,p===n?v=void 0:(u=v,v=n),v!==n?(e.length>u?(p=e.charAt(u),u++):(p=n,b===0&&k(Q)),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);f!==n;)o.push(f),f=u,v=u,b++,e.charCodeAt(u)===44?(p=t,u++):(p=n,b===0&&k(vl)),p===n&&(e.charCodeAt(u)===59?(p=s,u++):(p=n,b===0&&k(K)),p===n&&(e.charCodeAt(u)===123?(p=d,u++):(p=n,b===0&&k(tl)))),b--,p===n?v=void 0:(u=v,v=n),v!==n?(e.length>u?(p=e.charAt(u),u++):(p=n,b===0&&k(Q)),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);return o}function so(){var o,f,v,p;for(o=[],f=u,v=u,b++,e.charCodeAt(u)===59?(p=s,u++):(p=n,b===0&&k(K)),p===n&&(e.charCodeAt(u)===123?(p=d,u++):(p=n,b===0&&k(tl))),b--,p===n?v=void 0:(u=v,v=n),v!==n?(e.length>u?(p=e.charAt(u),u++):(p=n,b===0&&k(Q)),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);f!==n;)o.push(f),f=u,v=u,b++,e.charCodeAt(u)===59?(p=s,u++):(p=n,b===0&&k(K)),p===n&&(e.charCodeAt(u)===123?(p=d,u++):(p=n,b===0&&k(tl))),b--,p===n?v=void 0:(u=v,v=n),v!==n?(e.length>u?(p=e.charAt(u),u++):(p=n,b===0&&k(Q)),p!==n?(P=f,f=I(p)):(u=f,f=n)):(u=f,f=n);return o}function sl(){var o,f,v;if(b++,o=u,f=[],Te.test(e.charAt(u))?(v=e.charAt(u),u++):(v=n,b===0&&k(Le)),v!==n)for(;v!==n;)f.push(v),Te.test(e.charAt(u))?(v=e.charAt(u),u++):(v=n,b===0&&k(Le));else f=n;return f!==n&&(P=o,f=Tr(f)),o=f,o===n&&(o=al()),b--,o===n&&(f=n,b===0&&k(nr)),o}function Ne(){var o,f;return b++,o=u,lt.test(e.charAt(u))?(f=e.charAt(u),u++):(f=n,b===0&&k(rr)),f!==n&&(P=o,f=I(f)),o=f,b--,o===n&&(f=n,b===0&&k(tr)),o}function ln(){var o,f;return b++,o=u,et.test(e.charAt(u))?(f=e.charAt(u),u++):(f=n,b===0&&k(ar)),f!==n&&(P=o,f=I(f)),o=f,b--,o===n&&(f=n,b===0&&k(or)),o}function io(){var o;return e.substr(u,2)===Ce?(o=Ce,u+=2):(o=n,b===0&&k(sr)),o}function uo(){var o;return e.substr(u,2)===pl?(o=pl,u+=2):(o=n,b===0&&k(qe)),o}function en(){var o,f,v;return o=u,f=u,b++,e.substr(u,2)===pl?(v=pl,u+=2):(v=n,b===0&&k(qe)),b--,v===n?f=void 0:(u=f,f=n),f!==n?(e.length>u?(v=e.charAt(u),u++):(v=n,b===0&&k(Q)),v!==n?(P=o,o=I(v)):(u=o,o=n)):(u=o,o=n),o}function fo(){var o,f,v,p;if(o=u,f=io(),f!==n){for(v=[],p=en();p!==n;)v.push(p),p=en();p=uo(),p!==n?(P=o,o=Rr(f,v,p)):(u=o,o=n)}else u=o,o=n;return o}function co(){var o;return e.substr(u,2)===Ee?(o=Ee,u+=2):(o=n,b===0&&k(ir)),o}function xl(){var o;return nt.test(e.charAt(u))?(o=e.charAt(u),u++):(o=n,b===0&&k(ur)),o}function mo(){var o,f,v,p;if(o=u,f=co(),f!==n){for(v=[],p=xl();p!==n;)v.push(p),p=xl();P=o,o=Br(f,v)}else u=o,o=n;return o}function nn(){var o,f;return b++,o=mo(),o===n&&(o=fo()),b--,o===n&&(f=n,b===0&&k(fr)),o}function j(){var o,f;for(o=[],f=Ne(),f===n&&(f=ln(),f===n&&(f=nn()));f!==n;)o.push(f),f=Ne(),f===n&&(f=ln(),f===n&&(f=nn()));return o}if(dl=r(),dl!==n&&u===e.length)return dl;throw dl!==n&&u<e.length&&k(Sr()),Ge(El,D<e.length?e.charAt(D):null,D<e.length?ol(D,D+1):ol(D,D))}var Il=F(require("fast-xml-parser")),ml=F(require("he")),Vl=F(require("lodash.castarray")),xn=F(require("lodash.get"));function Io(e,l,n){let c="";return e&&(c+=e),l&&(c+=` [${l}]`),n&&(c+=`/ ${n}`),c.trim()}var $l={formatLabel:Io};var fl=F(require("lodash.get")),cl=F(require("lodash.castarray"));function Vo(e){let l={id:e.id?`${e.id}.initial`:"initial"};return e.initial.transition&&Object.assign(l,{transition:[e.initial.transition]}),l}function Do(e){return{id:"initial",transition:[{target:e.initial}]}}function Lo(e){let l=[],n={};return e.initial&&(e.initial.transition||e.initial.id?n=Vo(e):n=Do(e),l.push(n)),l}function Hl(e){return L(T({},e),{initial:Lo(e),state:(0,cl.default)((0,fl.default)(e,"state",[])),parallel:(0,cl.default)((0,fl.default)(e,"parallel",[])),history:(0,cl.default)((0,fl.default)(e,"history",[])),final:(0,cl.default)((0,fl.default)(e,"final",[]))})}var qo=$l.formatLabel;function $n(e,l){return(0,Vl.default)(e[l]).map(n=>({type:l==="onexit"?"exit":"entry",body:ml.default.decode(n).trim()}))}function zo(e){let l=[];return e.onentry&&(l=l.concat($n(e,"onentry"))),e.onexit&&(l=l.concat($n(e,"onexit"))),l}function Uo(e,l){return e==="history"&&l.type==="deep"?"deephistory":e}function gl(e){return l=>{let n={name:l.id,type:Uo(e,l)};return B.getStateType(l.id)!==n.type&&(n.typeExplicitlySet=!0),(l.onentry||l.onexit)&&(n.actions=zo(l)),Object.keys(l).some(c=>["initial","state","history","parallel","final"].includes(c))&&(n.statemachine=hn(l)),n}}function Go(e){let l={};return e.event&&(l.event=e.event.split(/\s+/).join(`
`)),e.cond&&(l.cond=e.cond),e["#text"]&&(l.action=ml.default.decode(e["#text"]).trim()),e.type&&(l.type=e.type),l}function Xo(e){let l={};typeof e=="string"?l.action=ml.default.decode(e).trim():Object.assign(l,Go(e));let n=qo(l.event,l.cond,l.action);return n&&(l.label=n),l}function Jo(e){return(l,n)=>{let c=(n.target||e.id).split(/\s+/),a=Xo(n);return l.concat(c.map(r=>T({from:e.id,to:r},a)))}}function Dl(e){return e.filter(l=>Object.prototype.hasOwnProperty.call(l,"transition")).reduce((l,n)=>l.concat((0,Vl.default)(n.transition).reduce(Jo(n),[])),[])}function hn(e){let l=Hl(e),n={};n.states=l.initial.map(gl("initial")).concat(l.state.map(gl("regular"))).concat(l.parallel.map(gl("parallel"))).concat(l.history.map(gl("history"))).concat(l.final.map(gl("final")));let c=Dl(l.initial).concat(Dl(l.state)).concat(Dl(l.parallel));return c.length>0&&(n.transitions=c),n}function Pn(e){let l=e.trim();if(Il.default.validate(l)===!0){let n=Il.default.parse(l,{attributeNamePrefix:"",ignoreAttributes:!1,tagValueProcessor:c=>ml.default.decode(c),stopNodes:["onentry","onexit","transition"]});return hn((0,xn.default)(n,"scxml",{}))}throw new Error(`That doesn't look like valid xml ...
`)}var jn={$schema:"http://json-schema.org/draft-07/schema#",title:"state-machine-cat abstract syntax tree schema",$ref:"#/definitions/StateMachineType",$id:"org.js.state-machine-cat/v7.4.0",definitions:{StateType:{type:"string",enum:["regular","initial","terminate","final","parallel","history","deephistory","choice","forkjoin","fork","join","junction"]},TransitionType:{type:"string",enum:["internal","external"]},NoteType:{type:"array",items:{type:"string"}},ActionTypeType:{type:"string",enum:["entry","activity","exit"]},ActionType:{type:"object",required:["type","body"],additionalProperties:!1,properties:{type:{$ref:"#/definitions/ActionTypeType"},body:{type:"string"}}},ClassType:{type:"string",pattern:"^[a-zA-Z0-9_\\- ]*$"},StateMachineType:{type:"object",additionalProperties:!1,required:["states"],properties:{states:{type:"array",items:{type:"object",required:["name","type"],additionalProperties:!1,properties:{name:{description:"The name and identifier of the state. Unique within the root state machine.",type:"string"},type:{description:"What kind of state (or pseudo state) this state is. E.g. 'regular' for normal states or 'initial', 'final', 'choice' etc for pseudo states. Most UML (pseudo-) states are supported.",$ref:"#/definitions/StateType"},label:{description:"The display label of the state. If it's not present, most renderers will use the states' name in stead.",type:"string"},color:{description:'Color to use for rendering the state. Accepts all css color names ("blue") and hex notation - with ("#0000FF77") or without ("#0000FF") transparency.',type:"string"},class:{description:"Class name to give the state in dot and svg output.",$ref:"#/definitions/ClassType"},active:{description:"If true the state is considered to be active and rendered as such.",type:"boolean"},typeExplicitlySet:{description:"The default parser derives the `type` from the `name` with inband signaling. The user can override that behavior by explicitly setting the `type`. This attribute is there to express that (and make sure that on next parses & processing it doesn't get accidentily re-derived from the name again).",type:"boolean"},isComposite:{description:"convenience, derived attribute - set to true if there's a state machine inside the state; false in all other cases. For internal use - @deprecated",type:"boolean"},actions:{type:"array",description:"A series of actions and their types. The type describe when the action takes place (on entry, exit, or otherwise ('activity'))",items:{$ref:"#/definitions/ActionType"}},note:{description:"Comments related to this state. Some renderers will use the note attribute to render a note (i.e. as a post-it) attached to the state.",$ref:"#/definitions/NoteType"},statemachine:{description:"state machine nested within the state.",$ref:"#/definitions/StateMachineType"}}}},transitions:{type:"array",items:{type:"object",required:["from","to"],additionalProperties:!1,properties:{from:{description:"The name of the state this transition transitions from",type:"string"},to:{description:"The name of the state this transition transitions to",type:"string"},label:{description:"A display label to represent this transition. Parsers can parse this label into events conditions and actions.",type:"string"},event:{description:"Event triggering the transition",type:"string"},cond:{description:"Condition for the transition to occur.",type:"string"},action:{description:"Action to execute when the transition occurs.",type:"string"},note:{description:"Comments related to this transition",$ref:"#/definitions/NoteType"},color:{description:'Color to use for rendering the transition. Accepts all css color names ("blue") and hex notation - with ("#0000FF77") or without ("#0000FF") transparency.',type:"string"},width:{description:"The line width to use for rendering the transition",type:"number",minimum:0,maximum:30},class:{description:"Class name to give the state in dot and svg output.",$ref:"#/definitions/ClassType"},type:{description:"Whether the transition is external (default) or internal. See https://www.w3.org/TR/scxml/#transition for details.",$ref:"#/definitions/TransitionType"}}}}}}}};var On=new wn.default;function Qo(e,l){if(!On.validate(e,l))throw new Error(`The provided JSON is not a valid state-machine-cat AST: ${On.errorsText()}.
`)}var _n={getAST(e,l){let n=e;return H.getOptionValue(l,"inputType")==="smcat"?n=kn(e):H.getOptionValue(l,"inputType")==="scxml"?n=Pn(e):typeof e=="string"&&(n=JSON.parse(e)),Qo(jn,n),n}};var Ll=F(require("lodash.clonedeep")),ql=F(require("lodash.reject"));function Wo(e,l,n){return e?`${e}${n}${l}`:l}function Yo(e,l){let n=L(T(T({},e),l),{from:e.from,to:l.to});return l.action&&(n.action=Wo(e.action,l.action,`
`)),(n.event||n.cond||n.action)&&(n.label=$l.formatLabel(n.event,n.cond,n.action)),n}function Zo(e,l,n){return e.reduce((c,a)=>(l.forEach((r,t)=>{r===a.to&&n[r]?c=c.concat(n[r].map(s=>Yo(a,s))):c=t===0?c.concat(a):c}),c),[])}function Cn(e,l,n){let c=(0,Ll.default)(e);return c.transitions&&l.length>0&&(c.transitions=Zo(c.transitions,l,n)),c.states=c.states.map(a=>a.statemachine?L(T({},a),{statemachine:Cn(a.statemachine,l,n)}):a),c}function En(e,l){let n=(0,Ll.default)(e);return n.transitions&&(n.transitions=(0,ql.default)(n.transitions,c=>l.some(a=>a===c.from||a===c.to))),n.states=(0,ql.default)(n.states,c=>l.includes(c.name)).map(c=>c.statemachine?L(T({},c),{statemachine:En(c.statemachine,l)}):c),n}var An=(e,l=["fork","junction","choice"])=>{let n=new q(e),c=n.findStatesByTypes(l).map(t=>t.name),a=c.reduce((t,s)=>(t[s]=n.findTransitionsByFrom(s),t),{}),r=Cn(e,c,a);return En(r,c)};var Wn=F(require("lodash.has"));var Z=F(require("handlebars/dist/handlebars.runtime.js")),Ul=F(require("lodash.clonedeep")),Is=F(Fn()),la=/;|,|{| |\[/,ea=/;|,|{/,na=/;|{/;function Gl(e,l){return e.test(l)?`"${l}"`:l}Z.default.registerPartial("smcat.template.hbs",Z.default.templates["smcat.template.hbs"]);function ta(e){return e==="activity"?"":`${e}/ `}function ra(e){let l=T({},e);return l.actions=(e.actions||[]).map(n=>`${ta(n.type)}${n.body}`).join(`
    `),l}function oa(e){return(Object.prototype.hasOwnProperty.call(e,"label")||Object.prototype.hasOwnProperty.call(e,"typeExplicitlySet")||Object.prototype.hasOwnProperty.call(e,"color")||Object.prototype.hasOwnProperty.call(e,"active")||Object.prototype.hasOwnProperty.call(e,"class"))&&(e.hasExtendedAttributes=!0),e}function Tn(e,l){return e.map(oa).filter(n=>n.statemachine).forEach(n=>{n.statemachine.states=Tn(n.statemachine.states,l)}),e.map(ra)}function aa(e){return(Object.prototype.hasOwnProperty.call(e,"type")||Object.prototype.hasOwnProperty.call(e,"color")||Object.prototype.hasOwnProperty.call(e,"class"))&&(e.hasExtendedAttributes=!0),e}function sa(e){return e.map(aa)}Z.default.registerHelper("quotifyState",e=>Gl(la,e));Z.default.registerHelper("quotifyLabel",e=>Gl(na,e));Z.default.registerHelper("quotifyActions",e=>Gl(ea,e));var Rn=e=>Z.default.templates["smcat.template.hbs"](L(T({},e),{states:Tn((0,Ul.default)(e.states)),transitions:sa((0,Ul.default)(e.transitions||[]))}));var el=F(require("handlebars/dist/handlebars.runtime.js")),In=F(require("lodash.clonedeep"));var ia=[{name:"fontname",value:'"Helvetica"'},{name:"fontsize",value:"12"},{name:"penwidth",value:"2.0"}],ua={dot:[{name:"splines",value:"true"},{name:"ordering",value:"out"},{name:"compound",value:"true"},{name:"overlap",value:"scale"},{name:"nodesep",value:"0.3"},{name:"ranksep",value:"0.1"}],fdp:[{name:"K",value:"0.9"}],osage:[{name:"pack",value:"42"}],neato:[{name:"epsilon",value:"0.9"}]},fa={"bottom-top":[{name:"rankdir",value:"BT"}],"left-right":[{name:"rankdir",value:"LR"}],"right-left":[{name:"rankdir",value:"RL"}]},ca=[{name:"shape",value:"plaintext"},{name:"style",value:"filled"},{name:"fillcolor",value:'"#FFFFFF01"'},{name:"fontname",value:"Helvetica"},{name:"fontsize",value:12},{name:"penwidth",value:"2.0"}],ma=[{name:"fontname",value:"Helvetica"},{name:"fontsize",value:10}];function Xl(e){return`${e.name}=${e.value}`}var hl={buildGraphAttributes:(e,l,n)=>ia.concat(ua[e]||[]).concat(fa[l]||[]).concat(n||[]).map(Xl).join(" "),buildNodeAttributes:e=>ca.concat(e||[]).map(Xl).join(" "),buildEdgeAttributes:e=>ma.concat(e||[]).map(Xl).join(" ")};var Bn=F(require("lodash.get"));function ga(e){return e.replace(/\\/g,"\\\\").replace(/\n\s*/g,"\\l").replace(/"/g,'\\"').concat("\\l")}function ya(e){return e.replace(/\\/g,"\\\\").replace(/\n\s*/g,"   \\l").replace(/"/g,'\\"').concat("   \\l")}function pa(e){let l=e||"top-down";return l==="top-down"||l==="bottom-top"}function va(e,l){return l.from===l.to&&e.findStateByName(l.from).statemachine&&l.type!=="internal"}var U={escapeString:ga,escapeLabelString:ya,isVertical:pa,isCompositeSelf:va};function Mn(e){return l=>l.type===e}function Jl(e){return l=>e.includes(l.type)}function ba(e){return e.label=e.label||e.name,e}function da(e){return Object.prototype.hasOwnProperty.call(e,"note")&&(e.noteName=`note_${e.name}`),e}function ka(e){let l=["state",e.type];return Object.prototype.hasOwnProperty.call(e,"class")&&l.push(e.class.trim().replace(/[ ]{2,}/g," ")),e.class=l.join(" "),e}function xa(e){return e==="activity"?"":`${e}/ `}function $a(e){let l=T({},e);return e.actions&&(l.actions=e.actions.map(n=>`${xa(n.type)}${n.body}`)),l}function ha(e){return Object.prototype.hasOwnProperty.call(e,"note")&&(e.noteFlattened=e.note.join("")),e}function Pa(e){return l=>{let n=(0,Bn.default)((e||[]).find(c=>c.name==="color"),"value");return n&&!l.color&&Jl(["initial","fork","join","junction","forkjoin","final"])(l)&&(l.color=n),l}}function ja(e){return e.note&&(e.note=e.note.map(U.escapeString)),e}function wa(e){return l=>Jl(["fork","join","forkjoin"])(l)?T({sizingExtras:U.isVertical(e)?"height=0.1":"width=0.1"},l):l}function Oa(e){return e.type==="parallel"&&e.statemachine&&e.statemachine.states&&(e.statemachine.states=e.statemachine.states.map(l=>Mn("regular")(l)?L(T({},l),{parentIsParallel:!0}):l)),e}var R={isType:Mn,isOneOfTypes:Jl,setLabel:ba,classifyState:ka,nameNote:da,flattenActions:$a,flattenNote:ha,recolor:Pa,escapeStateStrings:ja,tipForkJoinStates:wa,flagParallelChildren:Oa};function _a(e){return e.note&&(e.note=e.note.map(U.escapeString)),e.label&&(e.label=U.escapeLabelString(e.label)),e}function Ca(e){return l=>{let n={};return l.isCompositeSelf&&(U.isVertical(e)?n={tailportflags:'tailport="e" headport="e"',headportflags:'tailport="w"'}:l.hasParent?n={tailportflags:'tailport="n" headport="n"',headportflags:'tailport="s"'}:n={tailportflags:'tailport="s" headport="s"',headportflags:'tailport="n"'}),T(T({},l),n)}}function Ea(e){let l=["transition"];return e.type&&l.push(e.type),e.class&&l.push(e.class.trim().replace(/[ ]{2,}/g," ")),e.class=l.join(" "),e}var Pl={escapeTransitionStrings:_a,addPorts:Ca,classifyTransition:Ea};var jl=class{constructor(){this.reset()}reset(){this.COUNTER=0}next(){return++this.COUNTER}nextAsString(){let l=10;return this.next().toString(l)}};var oi=F(Sn()),si=F(Hn()),Vn={};el.default.registerPartial("dot.states.template.hbs",el.default.templates["dot.states.template.hbs"]);el.default.registerHelper("stateSection",e=>el.default.templates["dot.states.template.hbs"](Ln(e)));function Ba(e){return l=>(Object.prototype.hasOwnProperty.call(l,"statemachine")&&(l.nestedExternalSelfTransitions=e.findExternalSelfTransitions(l.name).map(n=>n.name)),l)}function Dn(e,l,n,c){return e.filter(a=>a.statemachine).forEach(a=>{a.statemachine.states=Dn(a.statemachine.states,l,n,c)}),e.map(R.setLabel).map(R.nameNote).map(R.classifyState).map(R.escapeStateStrings).map(R.flattenNote).map(R.flattenActions).map(R.flagParallelChildren).map(R.tipForkJoinStates(l)).map(R.recolor(n)).map(Ba(c))}function Ln(e){return e.initialStates=e.states.filter(R.isType("initial")),e.regularStates=e.states.filter(l=>R.isType("regular")(l)&&!l.statemachine),e.historyStates=e.states.filter(R.isType("history")),e.deepHistoryStates=e.states.filter(R.isType("deephistory")),e.choiceStates=e.states.filter(R.isType("choice")),e.forkjoinStates=e.states.filter(R.isOneOfTypes(["fork","join","forkjoin"])),e.junctionStates=e.states.filter(R.isType("junction")),e.terminateStates=e.states.filter(R.isType("terminate")),e.finalStates=e.states.filter(R.isType("final")),e.compositeStates=e.states.filter(l=>l.statemachine),e}function Ma(e){return l=>(e.findStateByName(l.from).statemachine&&(l.fromComposite=!0),e.findStateByName(l.to).statemachine&&(l.toComposite=!0),l)}function Sa(e){return l=>{let n={};return U.isCompositeSelf(e,l)&&(e.findStateByName(l.from).hasParent?n={hasParent:!0,isCompositeSelf:!0}:n={isCompositeSelf:!0}),T(T({},l),n)}}function Ha(e){return e.name=`tr_${e.from}_${e.to}_${Vn.nextAsString()}`,Boolean(e.note)&&(e.noteName=`note_${e.name}`),e}function Ia(e,l){return e.flattenedTransitions.map(Ha).map(Pl.escapeTransitionStrings).map(Pl.classifyTransition).map(R.flattenNote).map(Ma(e)).map(Sa(e)).map(Pl.addPorts(l))}var wl=(e,l)=>{l=l||{},Vn=new jl;let n=(0,In.default)(e),c=new q(n);return n.transitions=Ia(c,l.direction),n.states=Dn(n.states,l.direction,l.dotNodeAttrs,c),n=Ln(n),n.graphAttributes=hl.buildGraphAttributes(H.getOptionValue(l,"engine"),H.getOptionValue(l,"direction"),l.dotGraphAttrs),n.nodeAttributes=hl.buildNodeAttributes(l.dotNodeAttrs),n.edgeAttributes=hl.buildEdgeAttributes(l.dotEdgeAttrs),el.default.templates["dot.template.hbs"](n)};var qn=F(require("viz.js"));var Va={oldsvg:"svg",oldps2:"ps2",oldeps:"eps"},Yl=(e,l)=>(0,qn.default)(wl(e,l),{engine:H.getOptionValue(l,"engine"),format:Va[H.getOptionValue(l,"outputType")]||"svg"});var Da=/[\u0000-\u002C|\u002F|\u003B-\u0040|\u005B-\u0060|\u007B-\u00BF|\u00D7|\u00F7|\u0300-\u036F|\u037E|\u2000-\u200B|\u200E-\u206F|\u2190-\u2BFF|\u2FF0-\u3000|\uD800-\uF8FF|\uFDD0-\uFDEF|\uFFFE-\uFFFF]/g,La=/[-|.|0-9|\u00B7|\u0300-\u036F|\u203F-\u2040]/g;function zn(e){return e.replace(Da,"_")}function qa(e){let l=zn(e);return l.match(La)&&(l=`_${e}`),l}var Ol=e=>(e=e||"",e.length===0?"__empty":qa(e[0]).concat(zn(e.slice(1))));var za=/[\u00B7|\u0300-\u036F|\u203F-\u2040|\u0000-\u0029|\u002B-\u002C|\u002F|\u003B-\u0040|\u005B-\u0060|\u007B-\u00BF|\u00D7|\u00F7|\u0300-\u036F|\u037E|\u2000-\u200B|\u200E-\u206F|\u2190-\u2BFF|\u2FF0-\u3000|\uD800-\uF8FF|\uFDD0-\uFDEF|\uFFFE-\uFFFF]/g,Ua=/[.]/g;function Un(e){return e.replace(za,"_")}function Ga(e){let l=Un(e);return l.match(Ua)&&(l=`_${e}`),l}function Xa(e){return e=e.replace(/\s+/g," ").trim(),Ga(e[0]).concat(Un(e.slice(1)))}var Gn=e=>(e=e||"",e.length===0?"empty":e.split(/[\n\r]+/).filter(l=>l.length>0).map(Xa).join(" "));var Ja={regular:"state",initial:"initial",final:"final",terminate:"final",parallel:"parallel",history:"history",deephistory:"history"};function Qa(e){return Ja[e]||"state"}function Wa(e){let l={target:Ol(e.to)};return Boolean(e.event)&&(l.event=Gn(e.event)),Boolean(e.cond)&&(l.cond=e.cond),Boolean(e.action)&&(l.action=e.action),Boolean(e.type)&&(l.type=e.type),l}function Ya(e,l){return e.filter(n=>n.type===l).map(n=>n.body)}function Zl(e,l,n,c){let a=Ya(n,c);a.length>0&&(e[l]=(e[l]||[]).concat(a))}function Za(e,l){Boolean(l.actions)&&(Zl(e,"onentries",l.actions,"entry"),Zl(e,"onentries",l.actions,"activity"),Zl(e,"onexits",l.actions,"exit"))}function Ka(e,l,n){let c=n.filter(a=>a.from===l.name).map(Wa);c.length>0&&(e.transitions=c)}function Na(e,l,n){if(Boolean(l.statemachine)){let c=nl(l.statemachine,null,n);e.states=(e.states||[]).concat(c.states),c.initial&&(e.initial=c.initial)}}function ls(e){return e=e||[],l=>{let n={kind:Qa(l.type),id:Ol(l.name)};return l.type==="deephistory"&&(n.type="deep"),Za(n,l),Ka(n,l,e),Na(n,l,e),n}}function es(e){let l=null,n=e.states.filter(c=>c.type==="initial");return n.length>0&&(l=n[0].name),l}function ns(e,l){let n=l;if(l&&e.transitions){let c=e.transitions.filter(a=>a.from===l);c.length>0&&!c[0].action&&(n=c[0].to)}return n}function nl(e,l,n){let c=es(e),a=ns(e,c),r={states:e.states.filter(t=>a&&a!==c?t.type!=="initial":!0).map(ls(n||new q(e).flattenedTransitions))};return a&&(r.initial=Ol(a)),r}var _l=F(require("handlebars/dist/handlebars.runtime.js"));var ji=F(Xn()),Oi=F(Jn());_l.default.registerPartial("scxml.states.template.hbs",_l.default.templates["scxml.states.template.hbs"]);var Qn=e=>_l.default.templates["scxml.template.hbs"](nl(e));function le(e){let l={smcat:Rn,dot:wl,svg:Yl,oldsvg:Yl,scjson:nl,scxml:Qn};return(0,Wn.default)(l,e)?l[e]:n=>n}var Yn="8.1.1";var ss={render(e,l){let n=_n.getAST(e,l),c=H.getOptionValue(l,"desugar");return le(H.getOptionValue(l,"outputType"))(c?An(n):n,l)},version:Yn,getAllowedValues(){return H.getAllowedValues()}};
