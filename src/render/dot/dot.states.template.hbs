{{#initialStates}}
  "{{{name}}}" [shape=circle style=filled fillcolor=black fixedsize=true height=0.15 label=""]
{{/initialStates}}
{{#regularStates}}
  "{{{name}}}" [label="{{{label}}}"]
{{/regularStates}}
{{#historyStates}}
  "{{{name}}}" [label="{{{label}}}" color=gray fontcolor=gray]
{{/historyStates}}
{{#choiceStates}}
  "{{{name}}}" [shape=diamond fixedsize=true width=0.35 height=0.35 fontsize=10 label=" "]
  "{{{name}}}" -> "{{{name}}}" [label="{{#activities}}{{{.}}}{{/activities~}}" color=transparent];
{{/choiceStates}}
{{#forkjoinStates}}
  "{{{name}}}" [shape=rect label=" " fixedsize=true style=filled fillcolor=black {{{sizingExtras}}}]
{{/forkjoinStates}}
{{#finalStates}}
  "{{{name}}}" [shape=circle style=filled fillcolor=black fixedsize=true height=0.15 peripheries=2 label=""]
{{/finalStates}}
{{#compositeStates}}
  subgraph "cluster_{{{name}}}" {
    label="{{{label}}}" {{#if parentIsParallel}}style="dashed" penwidth=1{{else}}style=rounded penwidth=2.0{{/if}}
    "{{{name}}}" [shape=point style=invis margin=0 width=0 height=0 fixedsize=true]
    {{#stateSection statemachine}}{{/stateSection}}
  }
{{/compositeStates}}
{{#states}}
    {{#noteName}}
    "{{{.}}}" [label="{{{../noteFlattened}}}" shape=note fontsize=10 fillcolor="#ffffcc" penwidth=1.0]
    "{{{../name}}}" -> "{{{.}}}" [style=dashed arrowtail=none arrowhead=none]
    {{/noteName}}
{{/states}}
